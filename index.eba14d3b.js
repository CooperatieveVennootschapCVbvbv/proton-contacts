!function(e){function t(t){for(var r,o,i=t[0],u=t[1],l=t[2],s=0,d=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);d.length;)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},c=[];var o={3:"sha384-jCD9qCH2bybDJEGMLynT43zVdq8LLgV7J0pghxbjbqIhKCgmzmL7BRcFLi1QMMIE",4:"sha384-6PdHTQIXvb+AjIRUAvfn7OkIDSYdIWgp/stFClMbYVBcjGj6MxJwy4p2ilmZEr4y",5:"sha384-O7GHwHdPt52m0pfD28KBwE1rsPQCSsnFp44Z/nRy1KzguReGHHBi/cEUopRdBnbD",6:"sha384-gBUPJ19Jwo6S+AN79jSQ1g27HyRgmbLKmMV89TpwyxpmBOD19uuuCozQBiDy5/mq",7:"sha384-IKfHoZ5PKLDNEHQ5n7X2gH/DpJOvNNk+RElAaLd3mrcVsKmZkj/W5GvUm3Lj/5CC",8:"sha384-Wc8tuqMkH1XGiyLSJFzMBH/XDZxbw6aS+SXbUxLHmjEV7xvVM9JCAs+SkWFCmBjI",9:"sha384-5OZP5WWAMXvYgR6mjUEusufdPT+INf/QFjTDoz2sP1dxD5mH6UDVB5bdMzb18DsS",10:"sha384-eWWgPwOmcqQVuWe+6dhe5a3mJd6GTGS30B+eL/6Gr5qqpRcx2041WBM1i70ZWz7Q",11:"sha384-DYlLWPaor4YGzrAsfSdkq6b/vTdTaoGtF6JoA3MSvxL2BlRRt4FZo8HdK2fKXi57",12:"sha384-hoX+bE5UuBnWvgNr5JNvKDGTOUNArIKEqEA1TCgCTFpqAlM1MQw0Is5p1w7aJSaR",13:"sha384-Ex+Btwrp3pqCYWYmoPUKjJM2XeAdlhPRmvEOINCmdqE41ikCRz79Zwt+ixt1jvLM",14:"sha384-lGY2Tdg0Tn8L6oLhyd56SGoucMFLFQbR/AX1pFOgpghKMwDoUbtbiBshRmA2fMKH",15:"sha384-/qAAIxpIL3IdwhoYVHH3WvWKcqpx5vN6AwH8DrPZSyhUoJYMIlhnliFqb4asYusU",16:"sha384-ytP7V7TVR6Bwv9zZEjQzGhU1hIvrBoP8oL2uCUiMvmFHtnYZqjkR02jDzgBemUtg",17:"sha384-CFLg+WUHHsAdPheVJe/oaSiIbz6c9mhYfB7EaBR3EslsFVnf6pYVaqXxVgYCHXgH",18:"sha384-U2mqJOixX/qH0KFjceiZWURKWHnfZD0BnXmgrRx0LfwnO4vRbd4iy2ZYtvYbOG0i",19:"sha384-4kb5Emnrq+oIM0rXmTdXdjNCrnWBRsOeVps79SnryIP67f0gitEcFZEqaJxDLBNV",20:"sha384-K7w+OWjRVzygUmN4dp5CKlRAMA3+b20hGPNuXL8EYSFKd32ItXjHadPb/gKPDntZ",21:"sha384-wiG6f9Yv6ZUbhF3Q/Tkg0nwf7WAOfGYaVPcrQNgCj/rcrOvu6QECWMzjuyO0Dr4J",22:"sha384-/ToU4hiPMHhcjRDmbIxn6yP1cbem3nKXkKQuXv88bxFqwV9+g2V6ZouQ3bHZcbu+",23:"sha384-LVS3YtM5zJ1kr7sBjJK0bEllcmAvyhAUNgtUxeuo6mabNUGQnOrKunqSXfVljjaJ",24:"sha384-RRkNqDxw9Vffgjiosds/Eo7Pps3dv+ptuWCbwixtpz3TGzkjbfwg5WF7QgkpKd0S",25:"sha384-tsI3agj/Ezwc0j1oyyWxVDjdihPhZ2D6I6MWhHR+J9TrASUgnsz0LU+itUbPAFOZ",26:"sha384-s8coE+OtcDzXNMroxOeYxu/ww7PSVRYZ63Xnp2jEPljcjAFJULksAYCsj/2+wmap",27:"sha384-jrNoaLzewLH2tbTpBr3ZO1BtSNekFIzpp0AN0ma9pxBdBRfw9zAp0P1nKF53/Zw7",28:"sha384-VcpBz89y9hUlsoU9AgCMhyJs1mN9wyzRgJK7Vu1D53eImBXb5cR9RPaLpKpZKee0",29:"sha384-SRj/QvFRb6+grtNaxDIhh3IMjIaIJEgjoG7pIrkTz4dJkDAfczYAJn9Hwfc3iIgE",30:"sha384-nToreGS/PvzuaEIzxC9mS8VYcfOT1Euug10IY4YhauvWZKmprqDjKX7zUBBhEsgu",31:"sha384-ZWJQQWkRded0vMw/rppAZCeo3ZX0HAviuEY31uBuTrOguUdD+1fknGEvAFOE0Gk9",32:"sha384-tuPrZY1kt1YFdd8jIDWl+voBI++BvZatQ0EBpZ+NmarJ2Ojr1w/KJGU3DeTzAy1G",33:"sha384-fErhU40qWyh4o2x9gPUOw1vMajB+xsPDjL49ieovY+DxoinuhjvsjO0O2Acc/Xop",34:"sha384-x7p7db5ZUExp5HUxbU7n6PZ69/e+scPZNCnuWT0dhwCsavs8m5C1Bv5UHoIQDxwB",35:"sha384-qL4jF23dJig9/dXOr4y/0HnOvmSHwebPZqmvMbLEvoOWiPftXh9rY8zu+aVbEsA8",36:"sha384-8YPjFE3ButtQRPqHYoYUu0gYGCV+/s2cXpgp1j645edeTBI7nQVU6yNOwNCu2JUV",37:"sha384-oeEzuZMts/PmUP/wLJ4LYzK+v8QkiJ39kYna8uK8bDI3Y2aljy4vJkiOqB5CQpdQ",38:"sha384-wFxzSZw039qNXF+vQNpfN5jGy8KIzjvnphAfS+xGYUS1aUbqqjadA3+2a6PoD3HN",39:"sha384-GL2r3jAMbl05jSCHeEdzB6nvnXC/hnaXjmoyGoYCDVhW+bGiOZEl19txJzgzIt3x",40:"sha384-Hm26jrNieLht/Fm6NEx7l6d5gpEcKIaAJWbTZC0Hdn7dQY7etRdY5vcDKdh7/GaX",41:"sha384-r9yGKq9pB89JJ6s566qg9xGtPjzMS83haCowSFsEyE6Be/AaLvL6A1L2IzF+7/JD",42:"sha384-/FeIaXQPN+Ke5dldrXvrz6a+RXBePPC6ZgnvElMaEntt3REARXEhCvReNyNy5xmx",43:"sha384-Mk8/PzjB1+gtITJIwxwAd8qq4gtMlD+oKivW4zs9aNduJrCfx6uryAnbMHE8rKGJ",44:"sha384-4NmjbbctZoIDpI0oYrdhc/KAjiPf0YFpCtVigm9oQ8LS6c2I65UQb9imdosFyT8a",45:"sha384-MhrA5nbvQW2mdGVTVXegVG1q5/DQaR+uKKl/Oc4w0t4f7sBe3RybrNG0nRwaTyvl",46:"sha384-zDBi4NGBvvUXFeF4YVnbw2iuJ/IQKKHkBt2B7sTEfnAWBtQs0o1+d26FtSL11mvR",47:"sha384-qpwA3ju66S4sFA54xhgbDR2FWQ8oees5mspSjsTYeNrHqVGPIgZ6vM/a+GrjQ+uX",48:"sha384-lzE4hvJAZ5pAMaS9mzwMyM5zpC9UEkRqxN/h+PfAyADbUGqOEb6y0BjgjFBbusSN",49:"sha384-SrW76mG7Yck3Ypz94SZKPFai4cEjq9M0jfNSbbN4/JonPEQT9d835Ka84t7hdrNL",50:"sha384-xibs8GsIE0MalEkx0KpALjrfAnyC4Yy0egjFUjEwqPzCI8lgGuPqD9x+w16PL/gy",51:"sha384-DJRLDSISQvSbE55pIhyXdFpVlGAACG44tYj7hLjAbDB6BHWLE30klV82n25s3DCV",52:"sha384-U4pd5yl/7d5llkFlRP7HDgVdPsPTB+PSv0eO//y4C6cDP8sT6eUDyBXpxyRFOIXl",53:"sha384-Qb1icXL0UfoBIbbUmFAtPj0KJHtKT6kquKY/BUpQCCfsKxuTUZ+yXE9HJCBCt3Z8",54:"sha384-tyfZIUbZ973Hc5dfktJZx085I9tXPfiOM5dVOBN3OWG3tR4wwLHLxb5Sqhr7YQqL",55:"sha384-xFyzbmJBSRTG14bxUD8LSZKU7ZEluzXuxAop/aVnTdQC46AbJ5lHQYc9VA4SEaKm",56:"sha384-mMdknU2E4wRoaJzhJ8YOIwURCQ7+kMh9V0+h7jNwt183u+Cy0dRkq8aHfH2Rvj8H",57:"sha384-NEt3FPcS/KPgd/pM94ECv4qW9lScMQl2SmuOShvOJACYHM5BYQjdUqYq3mITbYHv",58:"sha384-uWC7Mq/iGBjutexYRHujyFw21gpgGD5yvJ5vfklZiQohGHCIEYRM/FRlaXq2m2SJ",59:"sha384-T9qk/wd1Z1Dj2qbO46IFc+43mf7uFrUQS3NsST3sLNjUM9Q7kgsxhn5zh4dfrtxm",60:"sha384-JOeri0ApfHIKIcjmItSP3S0HeP+WVC5UgizagKpZlGoOWurnN6K0JpQi84VOHwfc",61:"sha384-INSJAEMy/PN+MEIfj0xRJAmO4SKCKkcCvDeWRRZHE0lvxFVLN+uZSlstLJt7eCw0",62:"sha384-HyReR/16KttPy4N2qtQb1xjwMKFcAGg3XwUFSaWX19AFiS+HMT2BuZWOy3XKkg6x",63:"sha384-Y0hiKbFd98+RwoftdYstfAU5Pv8ZQy99HI2skeXAkKrgjC7rjUkJXKLw4DFrjxbN",64:"sha384-6dpxYT+ACA0U76AJP6taqIqGMgPMRQFDgzxvZMr2nxb0Az6HMwJ9TpS3MA3izqPh"};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+""+({}[e]||e)+"."+{3:"8cc6bd05",4:"289eac7a",5:"34349e75",6:"87e23fae",7:"ce6bb801",8:"4fb07aef",9:"947f57b2",10:"c500f9e0",11:"6e754a52",12:"2de2dcec",13:"26218c77",14:"4232a5ec",15:"609df72e",16:"012fa836",17:"bdebd471",18:"08ebfe2c",19:"16f6169c",20:"d736650b",21:"10671e7d",22:"a56c611e",23:"66ca65c5",24:"30469ae3",25:"ac5f5d69",26:"b6da30c6",27:"1e187bdf",28:"1dbedd03",29:"57a08404",30:"051b1870",31:"94cd7924",32:"c82c4169",33:"fec249b2",34:"091970ef",35:"990b39c7",36:"6bd0e35d",37:"99015436",38:"41c9f701",39:"459f1e59",40:"628e857b",41:"184cdca1",42:"e893aea6",43:"a458ed20",44:"37493299",45:"4deed603",46:"4c1a2f55",47:"26991b7c",48:"e415b576",49:"59a11d7d",50:"56cee7c7",51:"eb96219e",52:"896d8463",53:"6e331f91",54:"752e1167",55:"ac9be0c7",56:"92580cea",57:"ba7fd9cf",58:"fe25594a",59:"fbd3d022",60:"f764d01c",61:"9d38de72",62:"ac5ad630",63:"81184869",64:"c6d1b7db"}[e]+".chunk.js"}(e),0!==u.src.indexOf(window.location.origin+"/")&&(u.crossOrigin="anonymous");var l=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",l.name="ChunkLoadError",l.type=r,l.request=c,n[1](l)}a[e]=void 0}};var s=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,u.integrity=o[e],u.crossOrigin="anonymous",document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var f=l;c.push([0,2]),n()}({"+wUL":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"CLIENT_ID",(function(){return m})),n.d(r,"CLIENT_TYPE",(function(){return p})),n.d(r,"CLIENT_SECRET",(function(){return b})),n.d(r,"APP_VERSION",(function(){return v})),n.d(r,"APP_NAME",(function(){return h})),n.d(r,"API_URL",(function(){return g})),n.d(r,"SECURE_URL",(function(){return y})),n.d(r,"API_VERSION",(function(){return O})),n.d(r,"DATE_VERSION",(function(){return j})),n.d(r,"CHANGELOG_PATH",(function(){return E})),n.d(r,"VERSION_PATH",(function(){return x})),n.d(r,"SENTRY_RELEASE",(function(){return w})),n.d(r,"SENTRY_DSN",(function(){return C}));n("pNMO"),n("4Brf"),n("tjZM"),n("3I1R"),n("7+kd"),n("0oug"),n("KhsS"),n("gOCb"),n("a57n"),n("GXvd"),n("I1Gw"),n("gXIK"),n("lEou"),n("gbiT"),n("ma9I"),n("qHT+"),n("piMb"),n("yyme"),n("TeQF"),n("fbCW"),n("x0AG"),n("BIHw"),n("XbcX"),n("QWBl"),n("pjDv"),n("yq1k"),n("yXV3"),n("4mDm"),n("oVuX"),n("uqXc"),n("2B1R"),n("Xe3L"),n("E9XD"),n("9N29"),n("Junv"),n("+2oP"),n("Rfxz"),n("ToJy"),n("94Xl"),n("pDQq"),n("QGkA"),n("c9m3"),n("wZ/5"),n("gtqK"),n("rOQg"),n("tCCV"),n("rMz7"),n("9LPj"),n("7+zs"),n("DQNa"),n("tW5y"),n("sMBO"),n("DEfu"),n("Tskq"),n("Uydy"),n("eajv"),n("n/mU"),n("PqOI"),n("QNnp"),n("/5zm"),n("CsgD"),n("9mRW"),n("QFcT"),n("vAFs"),n("a5NK"),n("yiG3"),n("kNcU"),n("KvGi"),n("AmFO"),n("eJiR"),n("I9xj"),n("tl/u"),n("qePV"),n("NbN+"),n("8AyJ"),n("i6QF"),n("kSko"),n("WDsR"),n("r/Vq"),n("5uH8"),n("w1rZ"),n("JevA"),n("toAj"),n("VC3L"),n("zKZe"),n("Eqjn"),n("HRxU"),n("eoL8"),n("5xtp"),n("T63A"),n("3KgV"),n("wfmh"),n("5DmW"),n("27RR"),n("cDke"),n("NBAS"),n("Kxld"),n("yQYn"),n("4h0Y"),n("5D5o"),n("tkto"),n("v5b1"),n("W/eh"),n("zuhW"),n("r5Og"),n("ExoC"),n("07d7"),n("B6y2"),n("rNhl"),n("4l63"),n("5s+n"),n("p532"),n("pv2x"),n("SuFq"),n("PzqY"),n("rBZX"),n("XUE8"),n("nkod"),n("f3jH"),n("x2An"),n("25bX"),n("G/JM"),n("1t3B"),n("ftMj"),n("i5pp"),n("TWNs"),n("rB9j"),n("U3f4"),n("JfAA"),n("YGK4"),n("9bJ7"),n("inlA"),n("9tb/"),n("JTJg"),n("PKPk"),n("Rm1S"),n("hDyC"),n("TZCg"),n("2A+d"),n("OM9Z"),n("UxlC"),n("hByQ"),n("EnZy"),n("LKBx"),n("SYor"),n("HiXI"),n("7ueG"),n("GKVU"),n("E5NM"),n("BNMt"),n("zHFu"),n("x83w"),n("l2dK"),n("GRPF"),n("xdBZ"),n("mRH6"),n("yWo2"),n("IxXR"),n("TFPT"),n("Zk8X"),n("z8NH"),n("SpvK"),n("/Yfv"),n("iwkZ"),n("FDzp"),n("XMab"),n("ilnZ"),n("hMMk"),n("+ywr"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("IL/d"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("7JcK"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0"),n("ENF9"),n("H+LF"),n("FZtP"),n("3bBZ"),n("Ew+T"),n("n5b4"),n("Kz25"),n("vxnP"),n("mGGf");var a=n("i8i4"),c=n.n(a),o=n("q1tI"),i=n.n(o),u=(n("ls82"),n("wSuE")),l=(n("pZvr"),n("sQ7P")),s=n("U0S0"),f=n("6lBS"),d=n("g5XH"),m="WebContacts",p=1,b="",v="0.0.0",h="proton-contacts",g="https://protonmail.blue/api",y="https://secure.protonmail.blue",O="3",j="Tue, 03 Dec 2019 10:34:29 GMT",E="assets/changelog.tpl.html",x="assets/version.json",w="",C="",k=n("LTi8"),P=n("VjqJ"),N=n("yoKv"),D=n("4p7I"),I=n("mLw1"),S=n("mBH9"),A=n("pW7U"),M=n("p2/2"),T=n("f6D/"),L=n("XTKM"),K=n("/kVl"),R=n("Iivb"),G=n("FZZp"),F=n("Xrgn"),U=n("+q81"),B=n("8hY9"),z=n("bf08"),V=n("veyU"),W=Object(o.createContext)(),Y=function(e){var t=e.children,n=Object(G.a)().subscribe,r=Object(F.a)((function(){return Object(U.a)(Object(B.a)({max:10}))}));return Object(o.useLayoutEffect)((function(){return n((function(e){var t=e.Contacts;if(Array.isArray(t)){var n=!0,a=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value,l=u.ID,s=u.Action,f=u.Contact;r.has(l)&&(s===z.t.DELETE&&r.delete(l),s===z.t.UPDATE&&r.set(l,{value:f,status:V.a.RESOLVED}))}}catch(d){a=!0,c=d}finally{try{n||null==i.return||i.return()}finally{if(a)throw c}}}}))}),[]),i.a.createElement(W.Provider,{value:r},t)},H=n("VkAN"),X=n.n(H),J=n("lSNA"),Q=n.n(J),Z=n("J4zp"),q=n.n(Z),_=n("whF5"),$=n("KAzH"),ee=n("F9b+"),te=n("X9p3"),ne=n("yfEu"),re=n("7xJH"),ae=n("nitM"),ce=n("wc4/"),oe=n("eBbU"),ie=n("ImWu"),ue=n("LKB7"),le=n("DIu/"),se=n("RIqP"),fe=n.n(se);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=["fn","email","tel","adr","key"],be=function(e){return pe.includes(e)},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.value})).map((function(e){return Array.isArray(e.value)?e:me({},e,{value:e.value.toString()})})).map((function(e){var t=e.field,n=e.value;return"adr"!==t||Array.isArray(n)?e:me({},e,{value:n.split(",").slice(0,6)})}))},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=pe.reduce((function(e,t){return e[t]=0,e}),Object.create(null));return e.map((function(e){return pe.includes(e.field)?me({},e,{pref:t[e.field]=t[e.field]+1}):e}))},ge=function(e,t){return e.pref-t.pref},ye=function(e){var t=e.reduce((function(e,t){return pe.includes(t.field)?e.withPref.push(t):e.withoutPref.push(t),e}),{withPref:[],withoutPref:[]}),n=t.withPref,r=t.withoutPref;return n.sort(ge).concat(r)},Oe=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=1,n=!1;!n;)e.includes("item".concat(t))?t++:n=!0;return"item".concat(t)},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return e.group}));return e.map((function(e){if(!["email"].includes(e.field)||e.group)return e;var n=Oe(t);return t.push(n),me({},e,{group:n})}))},Ee=function(e,t){return(e.find((function(e){return e.field===t}))||{}).value},xe=function(e,t){return he(e).filter((function(e){return e.field===t})).sort(ge).map((function(e){return e.value}))},we=n("+AqD"),Ce=n("o0o1"),ke=n.n(Ce),Pe=n("UeCU"),Ne=n.n(Pe),De=n("HlEg"),Ie=function(e){var t=function(e){try{return e.getValues()}catch(r){var t=e.jCal||[],n=q()(t,4)[3];return[void 0===n?"":n]}}(e).map((function(e){return Array.isArray(e)?e:"string"==typeof e?e:e.toString()}));return q()(t,1)[0]},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase().replace("x-","")},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e.length?e[0]:"":e},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(Boolean).map((function(e){return e.trim()})).join(", ")},Te="1*",Le="*",Ke={fn:{cardinality:Te},n:{cardinality:"*1"},nickname:{cardinality:Le},photo:{cardinality:Le},bday:{cardinality:"*1"},anniversary:{cardinality:"*1"},gender:{cardinality:"*1"},adr:{cardinality:Le},tel:{cardinality:Le},email:{cardinality:Le},impp:{cardinality:Le},lang:{cardinality:Le},tz:{cardinality:Le},geo:{cardinality:Le},title:{cardinality:Le},role:{cardinality:Le},logo:{cardinality:Le},org:{cardinality:Le},member:{cardinality:Le},related:{cardinality:Le},categories:{cardinality:Le},note:{cardinality:Le},prodid:{cardinality:"*1"},rev:{cardinality:"*1"},sound:{cardinality:Le},uid:{cardinality:"*1"},clientpidmap:{cardinality:Le},url:{cardinality:Le},version:{cardinality:"1"},key:{cardinality:Le},fburl:{cardinality:Le},caladruri:{cardinality:Le},caluri:{cardinality:Le}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("x-")},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Ne.a.Component(Ne.a.parse(e)),n=t.getAllProperties();return n.reduce((function(e,t){var n=t.name.split("."),r=n[1]?n[1]:n[0],a=t.getParameter("type"),c=t.getParameter("pref"),o="string"==typeof c&&be(r)?+c:void 0;if(!r)return e;if(!Re(r)&&!Ke[r])return e;var i={pref:o,field:r,group:n[1]?n[0]:void 0,type:a,value:Ie(t)};return e.push(i),e}),[]).sort(ge)},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Ne.a.Component("vcard");if(!e.some((function(e){return"version"===e.field}))){var n=new Ne.a.Property("version");n.setValue("4.0"),t.addProperty(n)}return e.reduce((function(e,t){var n=t.field,r=t.type,a=t.pref,c=t.value,o=[t.group,n].filter(Boolean).join("."),i=new Ne.a.Property(o);return i.setValue(c),r&&i.setParameter("type",r),a&&i.setParameter("pref",""+a),e.addProperty(i),e}),t)},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return t.forEach((function(t){var n=t.field,r=(Ke[n]||{}).cardinality;[Te,Le].includes(void 0===r?Le:r)?e.push(t):e.find((function(e){return e.field===n}))||e.push(t)})),e}),[])},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e.match(/BEGIN:VCARD/g)&&e.match(/BEGIN:VCARD/g).length===(e.match(/END:VCARD/g)||[]).length},ze=function(e){var t;return ke.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ke.a.awrap(Object(De.a)(e));case 2:if(t=n.sent,Be(t)){n.next=5;break}throw new Error("Error when reading vcf file");case 5:return n.abrupt("return",t);case 6:case"end":return n.stop()}}))};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=function e(t){var n=!1,r=t.reduce((function(e,t){var r=e.connected,a=e.newConnections,c=function(e,t){var n=!0,r=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;if(void 0!==t[i])return t[i]}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return-1}(t,r);if(-1!==c){a[c]=Object(we.e)([].concat(fe()(t),fe()(a[c])));var o=!0,i=!1,u=void 0;try{for(var l,s=t[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=l.value;void 0===r[f]&&(r[f]=c)}}catch(h){i=!0,u=h}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}n=!0}else{var d=!0,m=!1,p=void 0;try{for(var b,v=t[Symbol.iterator]();!(d=(b=v.next()).done);d=!0){r[b.value]=a.length}}catch(h){m=!0,p=h}finally{try{d||null==v.return||v.return()}finally{if(m)throw p}}a.push(t)}return e}),{connected:Object.create(null),newConnections:[]}).newConnections;return n?e(r):t},He=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("adr"===t){var r=n.map((function(t){return!t.map((function(t,n){var r=Array.isArray(t),a=Array.isArray(e[n]);return r&&a?e[n].some((function(e){return!t.includes(e)})):!(!r&&!a)||t!==e[n]})).filter(Boolean).length})).filter(Boolean);return r.length?"":e}return n.includes(e)?"":e},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];var t=e.reduce((function(e,t,n){var r=e.mergedContact,a=e.mergedProperties,c=e.mergedPropertiesPrefs,o=e.mergedGroups;if(0===n){r.push.apply(r,fe()(t));var i=!0,u=!1,l=void 0;try{for(var s,f=t[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var d=s.value,m=d.pref,p=d.field,b=d.value,v=d.group;a[p]?(a[p].push(b),be(p)&&c[p].push(m)):(a[p]=[b],be(p)&&(c[p]=[m])),"email"===p&&(o[b]=v)}}catch(A){u=!0,l=A}finally{try{i||null==f.return||f.return()}finally{if(u)throw l}}}else{var h=t.filter((function(e){return"email"===e.field})).map((function(e){return{email:e.value,group:e.group}})).reduce((function(e,t){var n=t.email,r=t.group;return Object.values(o).includes(r)?e[r]=o[n]||Oe(Object.values(o)):e[r]=r,e}),Object.create(null)),g=!0,y=!1,O=void 0;try{for(var j,E=t[Symbol.iterator]();!(g=(j=E.next()).done);g=!0){var x=j.value,w=x.pref,C=x.field,k=x.group,P=x.value,N=k?h[k]:k;if(a[C]){var D=He(P,C,a[C]),I=be(C)?Math.max.apply(Math,fe()(c[C]))+1:void 0,S=Re(C)||[Le,Te].includes(Ke[C].cardinality);D&&S&&(r.push(We({},x,{pref:I,value:D,group:N})),a[C].push(D),be(C)&&(c[C]=[I]),N&&"email"===C&&(o[P]=N))}else r.push(We({},x,{pref:w,group:N})),a[C]=[P],be(C)&&(c[C]=[w]),N&&"email"===C&&(o[P]=N)}}catch(A){y=!0,O=A}finally{try{g||null==E.return||E.return()}finally{if(y)throw O}}}return e}),{mergedContact:[],mergedProperties:Object.create(null),mergedPropertiesPrefs:Object.create(null),mergedGroups:Object.create(null)}),n=t.mergedContact;return n},Je=n("0U2K"),Qe=n("rbcQ"),Ze=n("9C/b"),qe=n("b9ZJ"),_e=n.n(qe),$e=n("QWsV"),et=n.n($e),tt=n("ai43"),nt=n.n(tt),rt=n("zI3M"),at=n.n(rt),ct=n("pVnL"),ot=n.n(ct),it=n("QILm"),ut=n.n(it),lt=n("pIIs"),st=n("/z5T"),ft=n("ncqd"),dt=n("+Vas"),mt=n("FbvF"),pt=n("sjWO"),bt=n("YJeA"),vt=n("CzMN"),ht=n("Md23"),gt=n("e2Bf"),yt=n("0xu3");function Ot(){var e=X()(["Delete"]);return Ot=function(){return e},e}var jt=function(e){var t=e.file,n=e.iconName,r=e.className,a=e.clear,c=void 0===a?Object(_.c)("Action").t(Ot()):a,o=e.onClear,u=ut()(e,["file","iconName","className","clear","onClear"]),l=Object(De.b)(t.name),s=q()(l,2),f=s[0],d=s[1];return i.a.createElement("div",ot()({className:"flex bordered-container w100 ".concat(r)},u),i.a.createElement("div",{className:"p0-5 flex flex-item-noshrink w10"},i.a.createElement(ht.a,{name:n,className:"mauto"})),i.a.createElement("div",{className:"message-attachmentInfo p0-5 flex flex-nowrap w90"},i.a.createElement("div",{className:"flex-item-fluid pr1"},i.a.createElement("div",{className:"ellipsis",title:f},f),i.a.createElement("div",null,"".concat(d.toUpperCase()," - ").concat(Object(yt.a)(t.size)))),i.a.createElement(gt.a,{className:"flex-item-noshrink",onClick:o},c)))};function Et(){var e=X()(["Select file from computer"]);return Et=function(){return e},e}function xt(){var e=X()(["We support importing CSV files from Outlook, Outlook Express, Yahoo! Mail, Hotmail, Eudora and some other apps. We also support importing vCard 4.0. (UTF-8 encoding)."]);return xt=function(){return e},e}var wt=function(e){var t=e.attached,n=e.file,r=e.onAttach,a=e.onClear;return i.a.createElement(i.a.Fragment,null,i.a.createElement(dt.a,{learnMore:"https://protonmail.com/support/knowledge-base/adding-contacts/"},Object(_.c)("Description").t(xt())),i.a.createElement(bt.a,{className:"flex"},t?i.a.createElement(jt,{file:n,iconName:"contacts-groups",onClear:a}):i.a.createElement(vt.a,{className:"center",accept:".csv, .vcf",id:"import-contacts",onChange:r},Object(_.c)("Action").t(Et()))))};wt.PropTypes={files:[]};var Ct=wt,kt=n("/hVJ"),Pt=n("Z/R7"),Nt=n("h075"),Dt=n("fTXG");function It(){var e=X()(["VALUES"]);return It=function(){return e},e}function St(){var e=X()(["VCARD FIELD"]);return St=function(){return e},e}function At(){var e=X()(["CSV FIELD"]);return At=function(){return e},e}function Mt(){var e=X()(["IMPORT"]);return Mt=function(){return e},e}var Tt=function(e){var t=e.disabledPrevious,n=e.disabledNext,r=e.onPrevious,a=e.onNext,c=ut()(e,["disabledPrevious","disabledNext","onPrevious","onNext"]);return i.a.createElement("thead",c,i.a.createElement("tr",null,i.a.createElement(Dt.a,{type:"header",className:"w15 aligncenter"},Object(_.c)("TableHeader").t(Mt())),i.a.createElement(Dt.a,{type:"header",className:"aligncenter"},Object(_.c)("TableHeader").t(At())),i.a.createElement(Dt.a,{type:"header",className:"aligncenter"},Object(_.c)("TableHeader").t(St())),i.a.createElement(Dt.a,{type:"header",className:"w30 aligncenter"},i.a.createElement("div",{className:"inline-flex"},i.a.createElement("span",{className:"flex-item-centered-vert mr0-5"},Object(_.c)("TableHeader").t(It())),i.a.createElement("span",{className:"flex flex-nowrap"},i.a.createElement(gt.a,{disabled:t,icon:i.a.createElement(ht.a,{name:"caret",className:"flex-item-noshrink rotateZ-90"}),onClick:r}),i.a.createElement(gt.a,{disabled:n,icon:i.a.createElement(ht.a,{name:"caret",className:"flex-item-noshrink rotateZ-270"}),onClick:a}))))))};Tt.defaultPropTypes={disabledPrevious:!0,disabledNext:!0};var Lt=Tt,Kt=n("ErEO"),Rt=n("tWpJ"),Gt=n("dVIL"),Ft=n("SI5Q");function Ut(){var e=X()(["Sound"]);return Ut=function(){return e},e}function Bt(){var e=X()(["Categories"]);return Bt=function(){return e},e}function zt(){var e=X()(["Related"]);return zt=function(){return e},e}function Vt(){var e=X()(["IMPP"]);return Vt=function(){return e},e}function Wt(){var e=X()(["Member"]);return Wt=function(){return e},e}function Yt(){var e=X()(["Logo"]);return Yt=function(){return e},e}function Ht(){var e=X()(["Geo"]);return Ht=function(){return e},e}function Xt(){var e=X()(["Timezone"]);return Xt=function(){return e},e}function Jt(){var e=X()(["Language"]);return Jt=function(){return e},e}function Qt(){var e=X()(["Gender"]);return Qt=function(){return e},e}function Zt(){var e=X()(["URL"]);return Zt=function(){return e},e}function qt(){var e=X()(["Note"]);return qt=function(){return e},e}function _t(){var e=X()(["Role"]);return _t=function(){return e},e}function $t(){var e=X()(["Title"]);return $t=function(){return e},e}function en(){var e=X()(["Anniversary"]);return en=function(){return e},e}function tn(){var e=X()(["Birthday"]);return tn=function(){return e},e}function nn(){var e=X()(["Organization"]);return nn=function(){return e},e}function rn(){var e=X()(["Photo"]);return rn=function(){return e},e}function an(){var e=X()(["Address"]);return an=function(){return e},e}function cn(){var e=X()(["Phone"]);return cn=function(){return e},e}function on(){var e=X()(["Email"]);return on=function(){return e},e}function un(){var e=X()(["Nickname"]);return un=function(){return e},e}function ln(){var e=X()(["Compact name"]);return ln=function(){return e},e}function sn(){var e=X()(["Name"]);return sn=function(){return e},e}function fn(){var e=X()(["Logo"]);return fn=function(){return e},e}function dn(){var e=X()(["Geo"]);return dn=function(){return e},e}function mn(){var e=X()(["Timezone"]);return mn=function(){return e},e}function pn(){var e=X()(["Language"]);return pn=function(){return e},e}function bn(){var e=X()(["Gender"]);return bn=function(){return e},e}function vn(){var e=X()(["URL"]);return vn=function(){return e},e}function hn(){var e=X()(["Note"]);return hn=function(){return e},e}function gn(){var e=X()(["Member"]);return gn=function(){return e},e}function yn(){var e=X()(["Role"]);return yn=function(){return e},e}function On(){var e=X()(["Title"]);return On=function(){return e},e}function jn(){var e=X()(["Anniversary"]);return jn=function(){return e},e}function En(){var e=X()(["Birthday"]);return En=function(){return e},e}function xn(){var e=X()(["Organization"]);return xn=function(){return e},e}function wn(){var e=X()(["Photo"]);return wn=function(){return e},e}function Cn(){var e=X()(["Logo"]);return Cn=function(){return e},e}function kn(){var e=X()(["Geo"]);return kn=function(){return e},e}function Pn(){var e=X()(["Timezone"]);return Pn=function(){return e},e}function Nn(){var e=X()(["Language"]);return Nn=function(){return e},e}function Dn(){var e=X()(["Gender"]);return Dn=function(){return e},e}function In(){var e=X()(["URL"]);return In=function(){return e},e}function Sn(){var e=X()(["Note"]);return Sn=function(){return e},e}function An(){var e=X()(["Member"]);return An=function(){return e},e}function Mn(){var e=X()(["Role"]);return Mn=function(){return e},e}function Tn(){var e=X()(["Title"]);return Tn=function(){return e},e}function Ln(){var e=X()(["Anniversary"]);return Ln=function(){return e},e}function Kn(){var e=X()(["Birthday"]);return Kn=function(){return e},e}function Rn(){var e=X()(["Organization"]);return Rn=function(){return e},e}function Gn(){var e=X()(["Photo"]);return Gn=function(){return e},e}function Fn(){var e=X()(["Address"]);return Fn=function(){return e},e}function Un(){var e=X()(["Phone"]);return Un=function(){return e},e}function Bn(){var e=X()(["Email"]);return Bn=function(){return e},e}function zn(){var e=X()(["Name"]);return zn=function(){return e},e}function Vn(){var e=X()(["Sound"]);return Vn=function(){return e},e}function Wn(){var e=X()(["Categories"]);return Wn=function(){return e},e}function Yn(){var e=X()(["Related"]);return Yn=function(){return e},e}function Hn(){var e=X()(["IMPP"]);return Hn=function(){return e},e}function Xn(){var e=X()(["Member"]);return Xn=function(){return e},e}function Jn(){var e=X()(["Logo"]);return Jn=function(){return e},e}function Qn(){var e=X()(["Geo"]);return Qn=function(){return e},e}function Zn(){var e=X()(["Timezone"]);return Zn=function(){return e},e}function qn(){var e=X()(["Language"]);return qn=function(){return e},e}function _n(){var e=X()(["Gender"]);return _n=function(){return e},e}function $n(){var e=X()(["URL"]);return $n=function(){return e},e}function er(){var e=X()(["Note"]);return er=function(){return e},e}function tr(){var e=X()(["Role"]);return tr=function(){return e},e}function nr(){var e=X()(["Title"]);return nr=function(){return e},e}function rr(){var e=X()(["Anniversary"]);return rr=function(){return e},e}function ar(){var e=X()(["Birthday"]);return ar=function(){return e},e}function cr(){var e=X()(["Organization"]);return cr=function(){return e},e}function or(){var e=X()(["Photo"]);return or=function(){return e},e}function ir(){var e=X()(["Address"]);return ir=function(){return e},e}function ur(){var e=X()(["Phone"]);return ur=function(){return e},e}function lr(){var e=X()(["Email"]);return lr=function(){return e},e}function sr(){var e=X()(["Nickname"]);return sr=function(){return e},e}function fr(){var e=X()(["Compact name"]);return fr=function(){return e},e}function dr(){var e=X()(["Name"]);return dr=function(){return e},e}var mr=function(){return[{text:Object(_.c)("Contact field label").t(wn()),value:"photo"},{text:Object(_.c)("Contact field label").t(xn()),value:"org"},{text:Object(_.c)("Contact field label").t(En()),value:"bday"},{text:Object(_.c)("Contact field label").t(jn()),value:"anniversary"},{text:Object(_.c)("Contact field label").t(On()),value:"title"},{text:Object(_.c)("Contact field label").t(yn()),value:"role"},{text:Object(_.c)("Contact field label").t(gn()),value:"member"},{text:Object(_.c)("Contact field label").t(hn()),value:"note"},{text:Object(_.c)("Contact field label").t(vn()),value:"url"},{text:Object(_.c)("Contact field label").t(bn()),value:"gender"},{text:Object(_.c)("Contact field label").t(pn()),value:"lang"},{text:Object(_.c)("Contact field label").t(mn()),value:"tz"},{text:Object(_.c)("Contact field label").t(dn()),value:"geo"},{text:Object(_.c)("Contact field label").t(fn()),value:"logo"}]},pr=function(){return{fn:Object(_.c)("Contact field label").t(sn()),n:Object(_.c)("Contact field label").t(ln()),nickname:Object(_.c)("Contact field label").t(un()),email:Object(_.c)("Contact field label").t(on()),tel:Object(_.c)("Contact field label").t(cn()),adr:Object(_.c)("Contact field label").t(an()),photo:Object(_.c)("Contact field label").t(rn()),org:Object(_.c)("Contact field label").t(nn()),bday:Object(_.c)("Contact field label").t(tn()),anniversary:Object(_.c)("Contact field label").t(en()),title:Object(_.c)("Contact field label").t($t()),role:Object(_.c)("Contact field label").t(_t()),note:Object(_.c)("Contact field label").t(qt()),url:Object(_.c)("Contact field label").t(Zt()),gender:Object(_.c)("Contact field label").t(Qt()),lang:Object(_.c)("Contact field label").t(Jt()),tz:Object(_.c)("Contact field label").t(Xt()),geo:Object(_.c)("Contact field label").t(Ht()),logo:Object(_.c)("Contact field label").t(Yt()),member:Object(_.c)("Contact field label").t(Wt()),impp:Object(_.c)("Contact field label").t(Vt()),related:Object(_.c)("Contact field label").t(zt()),categories:Object(_.c)("Contact field label").t(Bt()),sound:Object(_.c)("Contact field label").t(Ut())}},br=function(e){var t=e.value,n=e.onChangeField,r=[{text:Object(_.c)("Contact field label").t(dr()),value:"fn"},{text:Object(_.c)("Contact field label").t(fr()),value:"n"},{text:Object(_.c)("Contact field label").t(sr()),value:"nickname"},{text:Object(_.c)("Contact field label").t(lr()),value:"email"},{text:Object(_.c)("Contact field label").t(ur()),value:"tel"},{text:Object(_.c)("Contact field label").t(ir()),value:"adr"},{text:Object(_.c)("Contact field label").t(or()),value:"photo"},{text:Object(_.c)("Contact field label").t(cr()),value:"org"},{text:Object(_.c)("Contact field label").t(ar()),value:"bday"},{text:Object(_.c)("Contact field label").t(rr()),value:"anniversary"},{text:Object(_.c)("Contact field label").t(nr()),value:"title"},{text:Object(_.c)("Contact field label").t(tr()),value:"role"},{text:Object(_.c)("Contact field label").t(er()),value:"note"},{text:Object(_.c)("Contact field label").t($n()),value:"url"},{text:Object(_.c)("Contact field label").t(_n()),value:"gender"},{text:Object(_.c)("Contact field label").t(qn()),value:"lang"},{text:Object(_.c)("Contact field label").t(Zn()),value:"tz"},{text:Object(_.c)("Contact field label").t(Qn()),value:"geo"},{text:Object(_.c)("Contact field label").t(Jn()),value:"logo"},{text:Object(_.c)("Contact field label").t(Xn()),value:"member"},{text:Object(_.c)("Contact field label").t(Hn()),value:"impp"},{text:Object(_.c)("Contact field label").t(Yn()),value:"related"},{text:Object(_.c)("Contact field label").t(Wn()),value:"categories"},{text:Object(_.c)("Contact field label").t(Vn()),value:"sound"}];return i.a.createElement(Gt.a,{className:"pt0"},i.a.createElement(Ft.a,{value:t,options:r,onChange:function(e){var t=e.target;return n(t.value)}}))};function vr(){var e=X()(["Emergency"]);return vr=function(){return e},e}function hr(){var e=X()(["Agent"]);return hr=function(){return e},e}function gr(){var e=X()(["Me"]);return gr=function(){return e},e}function yr(){var e=X()(["Sweetheart"]);return yr=function(){return e},e}function Or(){var e=X()(["Date"]);return Or=function(){return e},e}function jr(){var e=X()(["Crush"]);return jr=function(){return e},e}function Er(){var e=X()(["Muse"]);return Er=function(){return e},e}function xr(){var e=X()(["Kin"]);return xr=function(){return e},e}function wr(){var e=X()(["Sibling"]);return wr=function(){return e},e}function Cr(){var e=X()(["Sibling"]);return Cr=function(){return e},e}function kr(){var e=X()(["Parent"]);return kr=function(){return e},e}function Pr(){var e=X()(["Child"]);return Pr=function(){return e},e}function Nr(){var e=X()(["Neighbor"]);return Nr=function(){return e},e}function Dr(){var e=X()(["Co-resident"]);return Dr=function(){return e},e}function Ir(){var e=X()(["Colleague"]);return Ir=function(){return e},e}function Sr(){var e=X()(["Co-worker"]);return Sr=function(){return e},e}function Ar(){var e=X()(["Met"]);return Ar=function(){return e},e}function Mr(){var e=X()(["Friend"]);return Mr=function(){return e},e}function Tr(){var e=X()(["Acquaintance"]);return Tr=function(){return e},e}function Lr(){var e=X()(["Contact"]);return Lr=function(){return e},e}function Kr(){var e=X()(["Other"]);return Kr=function(){return e},e}function Rr(){var e=X()(["Work"]);return Rr=function(){return e},e}function Gr(){var e=X()(["Home"]);return Gr=function(){return e},e}function Fr(){var e=X()(["Address"]);return Fr=function(){return e},e}function Ur(){var e=X()(["Pager"]);return Ur=function(){return e},e}function Br(){var e=X()(["Fax"]);return Br=function(){return e},e}function zr(){var e=X()(["Main"]);return zr=function(){return e},e}function Vr(){var e=X()(["Mobile"]);return Vr=function(){return e},e}function Wr(){var e=X()(["Other"]);return Wr=function(){return e},e}function Yr(){var e=X()(["Work"]);return Yr=function(){return e},e}function Hr(){var e=X()(["Home"]);return Hr=function(){return e},e}function Xr(){var e=X()(["Phone"]);return Xr=function(){return e},e}function Jr(){var e=X()(["Other"]);return Jr=function(){return e},e}function Qr(){var e=X()(["Work"]);return Qr=function(){return e},e}function Zr(){var e=X()(["Home"]);return Zr=function(){return e},e}function qr(){var e=X()(["Email"]);return qr=function(){return e},e}function _r(){var e=X()(["Yomi"]);return _r=function(){return e},e}function $r(){var e=X()(["Name"]);return $r=function(){return e},e}function ea(){var e=X()(["Pager"]);return ea=function(){return e},e}function ta(){var e=X()(["Fax"]);return ta=function(){return e},e}function na(){var e=X()(["Other"]);return na=function(){return e},e}function ra(){var e=X()(["Yomi"]);return ra=function(){return e},e}function aa(){var e=X()(["Main"]);return aa=function(){return e},e}function ca(){var e=X()(["Mobile"]);return ca=function(){return e},e}function oa(){var e=X()(["Personal"]);return oa=function(){return e},e}function ia(){var e=X()(["Work"]);return ia=function(){return e},e}var ua=function(){return{fn:[{text:Object(_.c)("Property type").t($r()),value:""},{text:Object(_.c)("Property type").t(_r()),value:"yomi"}],n:[],nickname:[],email:[{text:Object(_.c)("Property type").t(qr()),value:""},{text:Object(_.c)("Property type").t(Zr()),value:"home"},{text:Object(_.c)("Property type").t(Qr()),value:"work"},{text:Object(_.c)("Property type").t(Jr()),value:"other"}],tel:[{text:Object(_.c)("Property type").t(Xr()),value:""},{text:Object(_.c)("Property type").t(Hr()),value:"home"},{text:Object(_.c)("Property type").t(Yr()),value:"work"},{text:Object(_.c)("Property type").t(Wr()),value:"other"},{text:Object(_.c)("Property type").t(Vr()),value:"cell"},{text:Object(_.c)("Property type").t(zr()),value:"main"},{text:Object(_.c)("Property type").t(Br()),value:"fax"},{text:Object(_.c)("Property type").t(Ur()),value:"pager"}],adr:[{text:Object(_.c)("Property type").t(Fr()),value:""},{text:Object(_.c)("Property type").t(Gr()),value:"home"},{text:Object(_.c)("Property type").t(Rr()),value:"work"},{text:Object(_.c)("Property type").t(Kr()),value:"other"}],bday:[],anniversary:[],gender:[],lang:[],tz:[],geo:[],title:[],role:[],logo:[],photo:[],org:[],related:[{text:Object(_.c)("Property type").t(Lr()),value:"contact"},{text:Object(_.c)("Property type").t(Tr()),value:"acquaintance"},{text:Object(_.c)("Property type").t(Mr()),value:"friend"},{text:Object(_.c)("Property type").t(Ar()),value:"met"},{text:Object(_.c)("Property type").t(Sr()),value:"co-worker"},{text:Object(_.c)("Property type").t(Ir()),value:"colleague"},{text:Object(_.c)("Property type").t(Dr()),value:"co-resident"},{text:Object(_.c)("Property type").t(Nr()),value:"neighbor"},{text:Object(_.c)("Property type").t(Pr()),value:"child"},{text:Object(_.c)("Property type").t(kr()),value:"parent"},{text:Object(_.c)("Property type").t(Cr()),value:"sibling"},{text:Object(_.c)("Property type").t(wr()),value:"spouse"},{text:Object(_.c)("Property type").t(xr()),value:"kin"},{text:Object(_.c)("Property type").t(Er()),value:"muse"},{text:Object(_.c)("Property type").t(jr()),value:"crush"},{text:Object(_.c)("Property type").t(Or()),value:"date"},{text:Object(_.c)("Property type").t(yr()),value:"sweetheart"},{text:Object(_.c)("Property type").t(gr()),value:"me"},{text:Object(_.c)("Property type").t(hr()),value:"agent"},{text:Object(_.c)("Property type").t(vr()),value:"emergency"}],member:[],note:[],url:[]}},la=function(e){var t=e.field,n=e.value,r=e.onChangeType,a=ua();return i.a.createElement(Gt.a,{className:"pt0"},i.a.createElement(Ft.a,{value:n,options:a[t],onChange:function(e){var t=e.target;return r(t.value)}}))},sa=n("NpuA"),fa=n.n(sa),da=["name","initials","short name","maiden name","group membership","mileage","billing information","directory server","sensitivity","priority","subject"],ma=function(e){switch(e.toLowerCase()){case"home":return"home";case"business":case"work":return"work";case"mobile":case"cell":return"cell";case"other":return"other";case"main":case"primary":return"main";case"company main":return"work";case"pager":return"pager";case"home fax":case"work fax":return"fax";default:return""}},pa=function(e){return{header:e.header,value:e.value,checked:!0,pref:1,field:"fn",type:"main",combineInto:"fn-main",combineIndex:e.index}},ba=function(e){return{header:e.header,value:e.value,checked:!0,pref:2,field:"fn",type:"yomi",combineInto:"fn-yomi",combineIndex:e.index}},va=function(e){return{header:e.header,value:e.value,checked:!0,field:"n",combineInto:"n",combineIndex:e.index}},ha=function(e){var t=e.pref;return{pref:t,header:e.header,value:e.value,checked:!0,field:"email",type:e.type,group:t}},ga=function(e){return{pref:e.pref,header:e.header,value:e.value,checked:!0,field:"tel",type:e.type}},ya=function(e){var t=e.pref,n=e.header,r=e.type,a=e.value,c=e.index;return{pref:t,header:n,value:a,checked:!0,field:"adr",type:r,combineInto:"adr-".concat(r),combineIndex:c}},Oa=function(e){return{pref:e.pref,header:e.header,value:e.value,checked:!0,field:"org",combineInto:"org",combineIndex:e.index}},ja=function(e){var t=e.original,n=e.standard,r=Object(ue.g)(n),a=t;if(["title","name prefix"].includes(r))return function(e){return[pa({header:a,value:e,index:0}),va({header:a,value:e,index:3})]};if(["first name","given name"].includes(r))return function(e){return[pa({header:a,value:e,index:1}),va({header:a,value:e,index:1})]};if(["middle name","additional name"].includes(r))return function(e){return[pa({header:a,value:e,index:2}),va({header:a,value:e,index:2})]};if(["last name","family name"].includes(r))return function(e){return[pa({header:a,value:e,index:3}),va({header:a,value:e,index:0})]};if(["suffix","name suffix"].includes(r))return function(e){return[pa({header:a,value:e,index:4}),va({header:a,value:e,index:4})]};if(["given yomi","given name yomi"].includes(r))return function(e){return ba({header:a,value:e,index:0})};if(["middle name yomi","additional name yomi"].includes(r))return function(e){return ba({header:a,value:e,index:1})};if(["surname yomi","family name yomi"].includes(r))return function(e){return ba({header:a,value:e,index:2})};if(/^company\s?(\d*)/.test(r)){var c=r.match(/^company\s?(\d*)/),o=q()(c,2)[1];return function(e){return Oa({pref:o,header:a,value:e,index:0})}}if(/^department\s?(\d*)/.test(r)){var i=r.match(/^department\s?(\d*)/),u=q()(i,2)[1];return function(e){return Oa({pref:u,header:a,value:e,index:1})}}if(/^(\w+)?\s?e-?mail\s?(\d*)/.test(r)){var l=r.match(/^(\w+)?\s?e-?mail\s?(\d*)/),s=q()(l,3),f=s[1],d=s[2];return function(e){return ha({pref:d,header:a,value:e,type:f?ma(f):""})}}if(/^(\w+\s*\w+)?\s?phone\s?(\d*)$/.test(r)){var m=r.match(/^(\w+\s*\w+)?\s?phone\s?(\d*)$/),p=q()(m,3),b=p[1],v=p[2];return function(e){return ga({pref:v,header:a,value:e,type:b?ma(b):""})}}if(/^(\w+)?\s?fax\s?(\d*)$/.test(r)){var h=r.match(/^(\w+)?\s?fax\s?(\d*)$/),g=q()(h,3)[2];return function(e){return ga({pref:g,header:a,value:e,type:"fax"})}}if(/^(\w+)?\s?pager\s?(\d*)$/.test(r)){var y=r.match(/^(\w+)?\s?pager\s?(\d*)$/),O=q()(y,3)[2];return function(e){return ga({pref:O,header:a,value:e,type:"pager"})}}if(/^callback|telex\s?(\d*)$/.test(r)){var j=r.match(/^callback|telex\s?(\d*)$/),E=q()(j,2)[1];return function(e){return ga({pref:E,header:a,value:e,type:"other"})}}if(/^(\w*)\s?po box\s?(\d*)$/.test(r)){var x=r.match(/^(\w*)\s?po box\s?(\d*)$/),w=q()(x,3),C=w[1],k=w[2];return function(e){return ya({pref:k,header:a,type:ma(C),value:e,index:0})}}if(/^(\w*)\s?extended address\s?(\d*)$/.test(r)){var P=r.match(/^(\w*)\s?extended address\s?(\d*)$/),N=q()(P,3),D=N[1],I=N[2];return function(e){return ya({pref:I,header:a,type:ma(D),value:e,index:1})}}if(/^(\w*)\s?street\s?(\d*)$/.test(r)){var S=r.match(/^(\w*)\s?street\s?(\d*)$/),A=q()(S,3),M=A[1],T=A[2];return function(e){return ya({pref:T,header:a,type:ma(M),value:e,index:2})}}if(/^(\w*)\s?city\s?(\d*)$/.test(r)){var L=r.match(/^(\w*)\s?city\s?(\d*)$/),K=q()(L,3),R=K[1],G=K[2];return function(e){return ya({pref:G,header:a,type:ma(R),value:e,index:3})}}if(/^(\w*)\s?state\s?(\d*)$/.test(r)){var F=r.match(/^(\w*)\s?state\s?(\d*)$/),U=q()(F,3),B=U[1],z=U[2];return function(e){return ya({pref:z,header:a,type:ma(B),value:e,index:4})}}if(/^(\w*)\s?postal code\s?(\d*)$/.test(r)){var V=r.match(/^(\w*)\s?postal code\s?(\d*)$/),W=q()(V,3),Y=W[1],H=W[2];return function(e){return ya({pref:H,header:a,type:ma(Y),value:e,index:5})}}if(/^(\w*)\s?country|region\s?(\d*)$/.test(r)){var X=r.match(/^(\w*)\s?country\/region\s?(\d*)$/),J=q()(X,3),Q=J[1],Z=J[2];return function(e){return ya({pref:Z,header:a,type:ma(Q),value:e,index:6})}}return"nickname"===r?function(e){return{header:a,value:e,checked:!0,field:"nickname"}}:"imaddress"===r?function(e){return{header:a,value:e,checked:!0,field:"impp"}}:"job title"===r?function(e){return{header:a,value:e,checked:!0,field:"title"}}:"role"===r?function(e){return{header:a,value:e,checked:!0,field:"role"}}:r.includes("relation")?function(e){return{header:a,value:e,checked:!0,field:"related"}}:"manager's name"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"co-worker"}}:"assistant's name"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"agent"}}:"spouse"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"spouse"}}:"birthday"===r?function(e){return{header:a,value:e,checked:!0,field:"bday"}}:"anniversary"===r?function(e){return{header:a,value:e,checked:!0,field:"anniversary"}}:r.includes("web")?function(e){return{header:a,value:e,checked:!0,field:"url"}}:"photo"===r?function(e){return{header:a,value:e,checked:!0,field:"photo"}}:"logo"===r?function(e){return{header:a,value:e,checked:!0,field:"logo"}}:"location"===r?function(e){return{header:a,value:e,checked:!0,field:"geo",type:"main"}}:"office location"===r?function(e){return{header:a,value:e,checked:!0,field:"geo",type:"work"}}:"notes"===r||r.includes("custom field")?function(e){return{header:a,value:e,checked:!0,field:"note"}}:function(e){return{header:a,value:e,checked:!0,field:"note",custom:!0}}},Ea=function(e){return e[0].checked?e[0].value:""},xa={fn:function(e){return e.reduce((function(e,t){var n=t.value,r=t.checked;return n&&r?e+" ".concat(n):e}),"").trim()},n:function(e){var t=new Array(5).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t},adr:function(e){var t=new Array(7).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t},org:function(e){var t=new Array(2).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(";")},email:Ea,tel:Ea,nickname:Ea,photo:Ea,bday:Ea,anniversary:Ea,title:Ea,role:Ea,note:Ea,url:Ea,gender:Ea,lang:Ea,tz:Ea,geo:Ea,logo:Ea,member:Ea,impp:Ea,related:Ea,categories:Ea,sound:Ea,custom:function(e){var t=e[0],n=t.header;return t.value?"".concat(n,": ").concat(Ea(e)):""}},wa={fn:function(e){return e.reduce((function(e,t){var n=t.value,r=t.checked;return n&&r?e+" ".concat(n):e}),"").trim()},n:function(e){var t=new Array(5).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(", ")},adr:function(e){var t=new Array(7).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(", ")},org:function(e){var t=new Array(2).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join("; ")},nickname:function(e){return Ea(e)[0]},email:Ea,tel:Ea,photo:Ea,bday:Ea,anniversary:Ea,title:Ea,role:Ea,note:Ea,url:Ea,gender:Ea,lang:Ea,tz:Ea,geo:Ea,logo:Ea,member:Ea,impp:Ea,related:Ea,categories:Ea,sound:Ea,custom:function(e){var t=e[0],n=t.header,r=t.value;return t.checked&&r?"".concat(n,": ").concat(Ea(e)):""}};function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ka=function(e){var t,n,r,a,c;return ke.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ke.a.awrap(new Promise((function(t,n){fa.a.parse(e,{header:!1,dynamicTyping:!1,complete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.data,r=void 0===n?[]:n,a=e.errors,c=void 0===a?[]:a;return t({headers:r[0],contacts:r.slice(1),errors:c})},error:n,skipEmptyLines:!0})})));case 2:if(t=o.sent,n=t.headers,r=t.contacts,!t.errors.length){o.next=8;break}throw new Error("Error when reading csv file");case 8:return a=n.length,c=r.map((function(e){return e.slice(0,a)})).filter((function(e){return e.length===a})),o.abrupt("return",{headers:n,contacts:c});case 11:case"end":return o.stop()}}))},Pa=function(e){var t=e.headers,n=void 0===t?[]:t,r=e.contacts,a=void 0===r?[]:r;if(!a.length)return[];var c=function(e){var t=e.headers,n=e.contacts;if(!n.length)return{headers:t,contacts:n};var r=t.map((function(e){return e.replace("_"," ").toLowerCase()})),a=r.reduce((function(e,t,r){var a=e.beRemoved,c=e.beChanged,o=n[0][r];if(function(e,t){return!t.some((function(t){return""!==t[e]}))}(r,n)&&(a[r]=!0),da.includes(t)||t.startsWith("im")||t.includes("event"))return a[r]=!0,e;if("address"===t&&(c[r]="street"),"zip"===t&&(c[r]="postal code"),"county"===t&&(c[r]="state"),/^address\s?(\d+)? - type$/.test(t)){var i=t.match(/^address\s?\d+? - type$/),u=q()(i,2)[1],l=u||"";return a[r]=!0,a[r+1]=!0,c[r+2]=(Object(ue.d)(ma(o))+" Street ".concat(l)).trim(),c[r+3]=(Object(ue.d)(ma(o))+" City ".concat(l)).trim(),c[r+4]=(Object(ue.d)(ma(o))+" PO Box ".concat(l)).trim(),c[r+5]=(Object(ue.d)(ma(o))+" State ".concat(l)).trim(),c[r+6]=(Object(ue.d)(ma(o))+" Postal Code ".concat(l)).trim(),c[r+7]=(Object(ue.d)(ma(o))+" Country/Region ".concat(l)).trim(),c[r+8]=(Object(ue.d)(ma(o))+" Extended Address ".concat(l)).trim(),e}if(/^organization\s?\d+? - (\w+)$/.test(t)){var s=t.match(/^organization\s?\d+? - (\w+)$/),f=q()(s,2)[1];return"name"===f?c[r]="Company":"title"===f?c[r]="Job Title":"department"===f?c[r]="Department":"job description"===f?c[r]="Role":a[r]=!0,e}if(/(.*) - type$/i.test(t)){var d=t.match(/(.*) - type$/i),m=q()(d,2)[1];return a[r]=!0,c[r+1]=(Object(ue.d)(ma(o))+" "+m).trim(),e}return e}),{beRemoved:Object.create(null),beChanged:Object.create(null)}),c=a.beRemoved,o=a.beChanged;return{headers:r.map((function(e,n){return{original:t[n],standard:o[n]?o[n]:e}})).filter((function(e,t){return!c[t]})),contacts:n.map((function(e){return e.filter((function(e,t){return!c[t]}))}))}}({headers:n,contacts:a}),o=c.headers,i=c.contacts,u=o.map(ja);return i.map((function(e){return e.map((function(e,t){return u[t](e)})).flat()})).map((function(e){return e.filter((function(e){return!!e}))}))},Na=function(e){var t=e.headers,n=void 0===t?[]:t,r=e.contacts,a=void 0===r?[]:r,c=Pa({headers:n,contacts:a});if(!c.length)return[];for(var o=[],i=c[0].reduce((function(e,t,n){var r=t.combineInto,a=t.combineIndex;return r?(e[r]||(e[r]=[]),e[r][a]=n,e):(o.push(n),e)}),{}),u=0,l=Object.keys(i);u<l.length;u++){var s=l[u];i[s]=i[s].filter((function(e){return null!==e}))}var f=a.map((function(){return[]})),d=!0,m=!1,p=void 0;try{for(var b,v=function(){var e=q()(b.value,2),t=e[0],n=e[1];f.forEach((function(e){return e.push([])})),n.forEach((function(e){f.forEach((function(n,r){return n[t].push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c[r][e]))}))}))},h=Object.values(i).entries()[Symbol.iterator]();!(d=(b=h.next()).done);d=!0)v()}catch(j){m=!0,p=j}finally{try{d||null==h.return||h.return()}finally{if(m)throw p}}for(var g=function(){var e=O[y];f.forEach((function(t,n){return t.push([c[n][e]])}))},y=0,O=o;y<O.length;y++)g();return f},Da=function(e){if(!e.length)return{};var t=e[0],n=t.pref,r=t.field,a=t.type;return t.custom?{pref:n,field:r,type:a,value:xa.custom(e),display:wa.custom(e)}:{pref:n,field:r,type:a,value:xa[r](e),display:wa[r](e)}},Ia=function(e){var t=e.preVcards,n=e.onToggle,r=e.onChangeField,a=e.onChangeType,c=Da(t),o=c.field,u=c.type,l=c.display;return t.map((function(e,c){var s=e.checked,f=e.header;return i.a.createElement("tr",{key:c.toString()},i.a.createElement("td",{className:"aligncenter"},i.a.createElement(Rt.a,{checked:s,onChange:function(){return n(c)}})),i.a.createElement("td",null,f),0===c?i.a.createElement(i.a.Fragment,null,i.a.createElement("td",{rowSpan:t.length},i.a.createElement("div",{className:"flex"},i.a.createElement(br,{value:o,onChangeField:r}),void 0!==u?i.a.createElement(la,{field:o,value:u,onChangeType:a}):null)),i.a.createElement("td",{rowSpan:t.length},l)):null)}))},Sa=function(e){var t=e.loading,n=e.contact,r=e.onToggle,a=e.onChangeField,c=e.onChangeType;return i.a.createElement("tbody",null,t?i.a.createElement(Kt.a,{colSpan:4}):n&&n.map((function(e,t){return i.a.createElement(Ia,{key:t.toString(),preVcards:e,onToggle:r(t),onChangeField:a(t),onChangeType:c(t)})})))};Sa.defaultPropTypes={disabledPrevious:!0,disabledNext:!0};var Aa=Sa;function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var La=function(e,t,n){return e.map((function(e,r){return r!==t?e:e.map((function(e){return function(e,t){var n={fn:["","yomi"],n:[],nickname:[],email:["","home","work","other"],tel:["","home","work","other","cell","main","fax","pager"],adr:["","home","work","other"],bday:[],anniversary:[],gender:[],lang:[],tz:[],geo:[],title:[],role:[],logo:[],org:[],related:["contact","acquaintance","friend","met","co-worker","colleague","co-resident","neighbor","child","parent","sibling","spouse","kin","muse","crush","date","sweetheart","me","agent","emergency"],member:[],note:[],url:[]};return Ta({},e,{field:t,type:n[t].includes(e.type)?e.type:n[t].length?n[t][0]:void 0,custom:!1})}(e,n)}))}))},Ka=function(e,t,n){return e.map((function(e,r){return r!==t?e:e.map((function(e){return function(e,t){return Ta({},e,{type:t})}(e,n)}))}))};function Ra(){var e=X()(["No contacts to be imported"]);return Ra=function(){return e},e}function Ga(){var e=X()(["Also, we have automatically matched CSV fields with vCard fields. You can review and change this matching manually."]);return Ga=function(){return e},e}function Fa(){var e=X()(["We have detected the following fields in the CSV file you uploaded. Check the ones you want to import."]);return Fa=function(){return e},e}function Ua(){var e=X()(["First name and last name cannot be unchecked at the same time"]);return Ua=function(){return e},e}var Ba=function(e){var t=e.file,n=e.onSetVcardContacts,r=Object(lt.a)().createNotification,a=Object(kt.a)(!0),c=q()(a,2),u=c[0],l=c[1],s=Object(o.useState)(0),f=q()(s,2),d=f[0],m=f[1],p=Object(o.useState)([]),b=q()(p,2),v=b[0],h=b[1];return Object(o.useEffect)((function(){l(function(){var e;return ke.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e=Na(t),h(e);case 2:case"end":return n.stop()}}))}())}),[]),Object(o.useEffect)((function(){n(function(e){return e.map((function(e){return e.map(Da)})).sort((function(e,t){return e.pref<=t.pref}))}(v))}),[v]),i.a.createElement(i.a.Fragment,null,i.a.createElement(dt.a,null,Object(_.c)("Description of the purpose of the import CSV modal").t(Fa())),i.a.createElement(dt.a,null,Object(_.c)("Description of the purpose of the import CSV modal").t(Ga())),i.a.createElement(Pt.a,null,i.a.createElement(Lt,{disabledPrevious:u||0===d,disabledNext:u||0===v.length||d+1===v.length,onNext:function(){return m((function(e){return e+1}))},onPrevious:function(){return m((function(e){return e-1}))}}),i.a.createElement(Aa,{loading:u,contact:v&&v[d],onToggle:function(e){return function(t){if("fn-main"===v[0][e][t].combineInto){var n=v[0][e],a=n.findIndex((function(e){return"first name"===e.header.toLowerCase()})),c=n.findIndex((function(e){return"last name"===e.header.toLowerCase()})),o=-1!==a&&n[a].checked,i=-1!==c&&n[c].checked;if(!o&&t===c||!i&&t===a)return r({type:"error",text:Object(_.c)("Error notification").t(Ua())})}h(v.map((function(n){return function(e,t){var n=q()(t,2),r=n[0],a=n[1];return e.map((function(e,t){return t!==r?e:e.map((function(e,t){return t!==a?e:Ta({},e,{checked:!e.checked})}))}))}(n,[e,t])})))}},onChangeField:function(e){return function(t){return h(v.map((function(n){return La(n,e,t)})))}},onChangeType:function(e){return function(t){return h(v.map((function(n){return Ka(n,e,t)})))}}})),!u&&!v.length&&i.a.createElement(Nt.a,{className:"aligncenter"},Object(_.c)("Info").t(Ra())))},za=n("k7CA");function Va(){var e=X()(["Failed"]);return Va=function(){return e},e}function Wa(){var e=X()(["Completed"]);return Wa=function(){return e},e}function Ya(){var e=X()(["Progress"]);return Ya=function(){return e},e}var Ha=function(e){var t=e.id,n=e.alt,r=e.displayDuring,a=void 0===r?Object(_.c)("Progress bar description").t(Ya()):r,c=e.displaySuccess,o=void 0===c?Object(_.c)("Progress bar description").t(Wa()):c,u=e.displayFailed,l=void 0===u?Object(_.c)("Progress bar description").t(Va()):u,s=e.value,f=e.max,d=void 0===f?100:f,m=e.endPostponed,p=void 0!==m&&m,b=e.failed,v=void 0!==b&&b,h=ut()(e,["id","alt","displayDuring","displaySuccess","displayFailed","value","max","endPostponed","failed"]),g=s<d||p,y=g?i.a.createElement(ie.a,null):v?i.a.createElement(ht.a,{name:"off",fill:"warning",size:100,alt:"".concat(n,"-finished")}):i.a.createElement(ht.a,{name:"on",fill:"success",size:100,alt:"".concat(n,"-finished")}),O=v?l:o;return i.a.createElement("div",{className:"aligncenter"},y,i.a.createElement("progress",ot()({className:"progress-contact w100 mt1","aria-describedby":t,value:s,max:d},h)),i.a.createElement("p",{"aria-atomic":"true","aria-live":"polite",id:"id"},g?"".concat(a,": ").concat(s,"%"):O))},Xa=n("I7cj"),Ja=n("KeOk");function Qa(){var e=X()(["Click for details"]);return Qa=function(){return e},e}var Za=function(e){var t=e.errors,n=void 0===t?[]:t,r=e.loading,a=e.summary,c=void 0===a?Object(_.c)("Info on errors").t(Qa()):a;return!!n.length&&!r&&i.a.createElement(Xa.a,null,i.a.createElement(Ja.a,null,c),i.a.createElement(bt.a,null,n.sort((function(e,t){return e.index-t.index})).map((function(e){var t=e.index,n=e.message;return i.a.createElement("div",{key:t},n)}))))},qa=n("3fNN"),_a=n("pqLH"),$a=n("Kv4S"),ec=n("ID4j"),tc=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"proton-web-".concat(e()).concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())},nc=["bday","anniversary","gender","lang","tz","geo","title","role","photo","logo","org","member","note","url"],rc=["key","x-pm-mimetype","x-pm-encrypt","x-pm-sign","x-pm-scheme","x-pm-tls"],ac=["version","prodid","categories"],cc=["version","prodid","fn","uid","email"].concat(rc),oc=0,ic=1,uc=0,lc=1;function sc(){var e=X()(["Unknown"]);return sc=function(){return e},e}var fc=z.k.CLEAR_TEXT,dc=z.k.ENCRYPTED_AND_SIGNED,mc=z.k.SIGNED,pc=function(e){return e.reduce((function(e,t){var n=t.field;return ac.includes(n)?(e.toClearText.push(t),e):cc.includes(n)?(e.toSign.push(t),e):(e.toEncryptAndSign.push(t),e)}),{toEncryptAndSign:[],toSign:[],toClearText:[]})},bc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=[],a=pc(e),c=a.toEncryptAndSign,o=void 0===c?[]:c,i=a.toSign,u=void 0===i?[]:i,l=a.toClearText,s=void 0===l?[]:l;if(o.length>0){var f=Fe(o).toString();r.push(Object($a.a)({data:f,publicKeys:n,privateKeys:t,armor:!0,detached:!0}).then((function(e){var t=e.data,n=e.signature;return{Type:dc,Data:t,Signature:n}})))}if(u.length>0){var d=u.some((function(e){return"uid"===e.field})),m=u.some((function(e){return"fn"===e.field}));if(!d){var p=tc();u.push({field:"uid",value:p})}if(!m){var b=Object(_.c)("Default display name vcard").t(sc());u.push({field:"fn",value:b})}var v=Fe(u).toString();r.push(Object(ec.g)({data:v,privateKeys:t,armor:!0,detached:!0}).then((function(e){var t=e.signature;return{Type:mc,Data:v,Signature:t}})))}if(s.length>0){var h=Fe(s).toString();r.push({Type:fc,Data:h,Signature:null})}return Promise.all(r)},vc=function(e,t){var n,r,a,c,o,i;return ke.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.privateKey,r=t.publicKey,a=ve(e),c=he(a),o=je(c),u.next=6,ke.a.awrap(bc(o,[n],[r]));case 6:return i=u.sent,u.abrupt("return",{Cards:i});case 8:case"end":return u.stop()}}))},hc=function(){var e,t,n,r,a,c=arguments;return ke.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:[],t=c.length>1?c[1]:void 0,n=t.privateKey,r=t.publicKey,a=e.reduce((function(e,t){return e.push(vc(t,{privateKey:n,publicKey:r})),e}),[]),o.abrupt("return",Promise.all(a));case 4:case"end":return o.stop()}}))},gc=z.k.CLEAR_TEXT,yc=function(e){return e.some((function(e){var t=e.field;return e.value&&"categories"===t}))},Oc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=t.contact,r=n.Cards;return n.error?e:(r.some((function(e){var t=e.Type,n=e.Data;return t===gc&&n.includes("CATEGORIES")}))?e.withCategories.push(t):e.withoutCategories.push(t),e)}),{withCategories:[],withoutCategories:[]})},jc=function(e,t,n){return 0==+n?0:Math.min(Math.floor((+e+t)/n*100),100)},Ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){var n=t.allocated,r=t.successful,a=t.failed,c=t.total;return e.combinedTotal+=c,e.combinedAllocations+=n,e.progresses.push(jc(r,a,c)),e}),{combinedTotal:0,combinedAllocations:0,progresses:[]}),n=t.combinedTotal,r=t.combinedAllocations,a=t.progresses;if(1!==r&&e.length)throw new Error("Allocations must add up to one");if(!n)return 0;var c=e.reduce((function(e,t,r){return e+t.allocated*(!t.total&&n?100:a[r])}),0);return Math.round(c)};function xc(){var e=X()(["Some contacts could not be imported. Click for details"]);return xc=function(){return e},e}function wc(){var e=X()(["No contacts imported"]);return wc=function(){return e},e}function Cc(){var e=X()([""," out of "," contact successfully imported."]);return Cc=function(){return e},e}function kc(){var e=X()(["Encrypting and importing contacts... This may take a few minutes. When the process is completed, you can close this modal."]);return kc=function(){return e},e}function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dc(){var e=X()(["Contact "," from your list could not be imported. ",""]);return Dc=function(){return e},e}function Ic(){var e=X()(["Contact "," from your list could not be encrypted."]);return Ic=function(){return e},e}function Sc(){var e=X()(["Contact "," from your list could not be parsed. ",""]);return Sc=function(){return e},e}var Ac=ic,Mc=uc,Tc=lc,Lc=z.b.SINGLE_SUCCESS,Kc=function(e,t){return Object(_.c)("Info on errors importing contacts").t(Sc(),e,t)},Rc=function(e){return Object(_.c)("Info on errors importing contacts").t(Ic(),e)},Gc=function(e,t){return Object(_.c)("Info on errors importing contacts").t(Dc(),e,t)},Fc=function(e){var t=e.isVcf,n=e.file,r=void 0===n?"":n,a=e.vcardContacts,c=e.privateKey,u=e.onFinish,l=Object(za.a)(),s=Object(kt.a)(!0),f=q()(s,2),d=f[0],m=f[1],p=Object(o.useState)({total:a.length,parsed:a.map((function(e,t){return{index:t,contact:e}})),encrypted:[],submitted:[],failedOnEncrypt:[],failedOnParse:[],failedOnSubmit:[]}),b=q()(p,2),v=b[0],h=b[1];Object(o.useEffect)((function(){var e,n,o,i,s,f,d,p=new AbortController,b=function(e){var t=e.signal,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("END:VCARD");return t.pop(),t.map((function(e){return e.trim()+"\r\nEND:VCARD"}))}(r);return!t.aborted&&h(Nc({},v,{total:n.length})),t.aborted?[]:n.reduce((function(e,n,r){try{if(n.includes("VERSION:2.1")||n.includes("VERSION:3.0"))throw new Error("vCard versions < 4.0 not supported");var a=Ge(n);e.push({index:r,contact:a})}catch(o){var c=o.message;!t.aborted&&h((function(e){return Nc({},e,{failedOnParse:[].concat(fe()(e.failedOnParse),[{index:r,message:Kc(r+1,c)}])})}))}return e}),[])},g=function(e,t,n){var r,a,o,i;return ke.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return r=e.contact,a=e.index,o=n.signal,u.prev=2,u.next=5,ke.a.awrap(vc(r,{privateKey:c,publicKey:t}));case 5:return i=u.sent,!o.aborted&&h((function(e){return Nc({},e,{encrypted:[].concat(fe()(e.encrypted),[i])})})),u.abrupt("return",{index:a,contact:i});case 10:return u.prev=10,u.t0=u.catch(2),!o.aborted&&h((function(e){return Nc({},e,{failedOnEncrypt:[].concat(fe()(e.failedOnEncrypt),[{index:a,message:Rc(a+1)}])})})),u.abrupt("return",{index:a,contact:{error:!0}});case 14:case"end":return u.stop()}}),null,null,[[2,10]])},y=function(){var e,t,n,r,a=arguments;return ke.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:[],t=a.length>1?a[1]:void 0,n=a.length>2?a[2]:void 0,!(r=n.signal).aborted){c.next=5;break}return c.abrupt("return",[]);case 5:return c.abrupt("return",Promise.all(e.map((function(e){return g(e,t,{signal:r})}))));case 6:case"end":return c.stop()}}))},O=function(){var e,t,n,r,a,o,i,u,l,s,f,d,m,p=arguments;return ke.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:e=p.length>0&&void 0!==p[0]?p[0]:[],t=p.length>1?p[1]:void 0,n=t.signal,r=c.toPublic(),a=Object(we.a)(e,5),o=[],i=!0,u=!1,l=void 0,b.prev=8,s=a[Symbol.iterator]();case 10:if(i=(f=s.next()).done){b.next=21;break}if(d=f.value,!n.aborted){b.next=14;break}return b.abrupt("return",[]);case 14:return b.next=16,ke.a.awrap(y(d,r,{signal:n}));case 16:m=b.sent,o.push.apply(o,fe()(m));case 18:i=!0,b.next=10;break;case 21:b.next=27;break;case 23:b.prev=23,b.t0=b.catch(8),u=!0,l=b.t0;case 27:b.prev=27,b.prev=28,i||null==s.return||s.return();case 30:if(b.prev=30,!u){b.next=33;break}throw l;case 33:return b.finish(30);case 34:return b.finish(27);case 35:return b.abrupt("return",o);case 36:case"end":return b.stop()}}),null,null,[[8,23,27,35],[28,,30,34]])},j=function(e,t){var n,r,a,c,o,i,u,s,f;return ke.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted&&r.length){d.next=4;break}return d.abrupt("return");case 4:return o=r.map((function(e){return e.index})),d.next=7,ke.a.awrap((m=Object(qa.a)({Contacts:r.map((function(e){return e.contact})),Overwrite:Ac,Labels:a,timeout:36e5}),l(Nc({},m,{signal:p.signal}))));case 7:if(d.t0=function(e){return e.Response},i=d.sent.Responses.map(d.t0),!c.aborted){d.next=11;break}return d.abrupt("return");case 11:u=i.reduce((function(e,t,n){var r=t.Code,a=t.Error,c=t.Contact,i=(c=void 0===c?{}:c).ID,u=o[n];return r===Lc?e.submittedBatch.push(i):e.failedOnSubmitBatch.push({index:u,message:Gc(u+1,a)}),e}),{submittedBatch:[],failedOnSubmitBatch:[]}),s=u.submittedBatch,f=u.failedOnSubmitBatch,h((function(e){return Nc({},e,{submitted:[].concat(fe()(e.submitted),fe()(s)),failedOnSubmit:[].concat(fe()(e.failedOnSubmit),fe()(f))})}));case 13:case"end":return d.stop()}var m}))},E=function(e,t){var n,r,a,c,o,i,u;return ke.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted){l.next=4;break}return l.abrupt("return");case 4:o=Object(we.a)(r,100),i=o.length,u=0;case 7:if(!(u<i)){l.next=13;break}return l.next=10,ke.a.awrap(Promise.all([j({contacts:o[u],labels:a},{signal:c}),Object(_a.b)(100)]));case 10:u++,l.next=7;break;case 13:case"end":return l.stop()}}))};return m((e=p,ke.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.signal,o=t?b({signal:n}):a.map((function(e,t){return{index:t,contact:e}})),t&&!n.aborted&&h((function(e){return Nc({},e,{parsed:o})})),r.next=5,ke.a.awrap(O(o,{signal:n}));case 5:return i=r.sent,s=Oc(i),f=s.withCategories,d=s.withoutCategories,r.next=9,ke.a.awrap(E({contacts:f,labels:Tc},{signal:n}));case 9:return r.next=11,ke.a.awrap(E({contacts:d,labels:Mc},{signal:n}));case 11:if(r.t0=!n.aborted,!r.t0){r.next=15;break}return r.next=15,ke.a.awrap(u());case 15:case"end":return r.stop()}})))),function(){p.abort()}}),[]);var g=Ec([{allocated:.05,successful:v.parsed.length,failed:v.failedOnParse.length,total:v.total},{allocated:.9,successful:v.encrypted.length,failed:v.failedOnEncrypt.length,total:v.total-v.failedOnParse.length},{allocated:.05,successful:v.submitted.length,failed:v.failedOnSubmit.length,total:v.total-v.failedOnParse.length-v.failedOnEncrypt.length}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(dt.a,null,Object(_.c)("Description").t(kc())),i.a.createElement(Ha,{id:"progress-import-contacts",alt:"contact-loader",value:g,displaySuccess:Object(_.c)("Progress bar description").ngettext(Object(_.msgid)(Cc(),v.submitted.length,v.total),"".concat(v.submitted.length," out of ").concat(v.total," contacts successfully imported."),v.submitted.length),displayFailed:Object(_.c)("Progress bar description").t(wc()),failed:!v.submitted.length,endPostponed:d}),i.a.createElement(Za,{loading:d,errors:[].concat(fe()(v.failedOnParse),fe()(v.failedOnEncrypt),fe()(v.failedOnSubmit)),summary:Object(_.c)("Info on errors importing contacts").t(xc())}))},Uc=n("BN5H");function Bc(){var e=X()(["We picked up at least one group/organization from the list of contacts you are importing. Take the time to review how we should import these groups."]);return Bc=function(){return e},e}var zc=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(dt.a,null,Object(_.c)("Description").t(Bc())),i.a.createElement(Nt.a,null,i.a.createElement(Uc.a,null)))};function Vc(){var e=X()(["Create"]);return Vc=function(){return e},e}function Wc(){var e=X()(["Close"]);return Wc=function(){return e},e}function Yc(){var e=X()(["Cancel"]);return Yc=function(){return e},e}function Hc(){var e=X()(["Import"]);return Hc=function(){return e},e}function Xc(){var e=X()(["File selected appears to be corrupted"]);return Xc=function(){return e},e}function Jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zc(){var e=X()(["We only support importing files smaller than 10 MB. Please split your contacts into several smaller files."]);return Zc=function(){return e},e}function qc(){var e=X()(["File is too big!"]);return qc=function(){return e},e}function _c(){var e=X()(["Go back"]);return _c=function(){return e},e}function $c(){var e=X()(["No .csv or .vcf file selected"]);return $c=function(){return e},e}function eo(){var e=X()(["Import"]);return eo=function(){return e},e}function to(){var e=X()(["Import groups"]);return to=function(){return e},e}function no(){var e=X()(["Importing contacts"]);return no=function(){return e},e}function ro(){var e=X()(["Import CSV file"]);return ro=function(){return e},e}function ao(){var e=X()(["Import contacts"]);return ao=function(){return e},e}function co(){var e=X()(["Import contacts"]);return co=function(){return e},e}var oo=10*Math.pow(z.d,2),io=function(e){var t,n=e.userKeysList,r=ut()(e,["userKeysList"]),a=(t={},Q()(t,1,Object(_.c)("Title").t(co())),Q()(t,2,Object(_.c)("Title").t(ao())),Q()(t,3,Object(_.c)("Title").t(ro())),Q()(t,4,Object(_.c)("Title").t(no())),Q()(t,5,Object(_.c)("Title").t(to())),t),c=Object(ee.a)().createModal,u=Object(lt.a)().createNotification,l=Object(G.a)().call,s=Object(o.useState)(1),f=q()(s,2),d=f[0],m=f[1],p=Object(o.useState)({}),b=q()(p,2),v=b[0],h=b[1],g=Object(o.useState)([]),y=q()(g,2),O=y[0],j=y[1],E=Object(o.useState)(!1),x=q()(E,2),w=x[0],C=x[1],k=function(){if(d<=2){var e=i.a.createElement(st.a,{disabled:1===d,type:"submit"},Object(_.c)("Action").t(eo())),t=function(){h({}),m(1)};return{content:i.a.createElement(Ct,{attached:2===d,file:v.attached,onAttach:function(e){var n=e.target,r=Object(De.b)(n.files[0].name),a=q()(r,2)[1],o=["csv","vcf"].includes(a.toLowerCase())?n.files[0]:null;return n.files.length&&!o?u({type:"error",text:Object(_.c)("Error notification").t($c())}):o.size>oo?c(i.a.createElement(ft.a,{onConfirm:t,onClose:t,confirm:Object(_.c)("Action").t(_c()),close:null,title:Object(_.c)("Title").t(qc())},i.a.createElement(dt.a,{type:"error"},Object(_.c)("Error info").t(Zc())))):(m(2),void h({attached:o,extension:a}))},onClear:t}),submit:e,onSubmit:function(){var e,n;return ke.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,"csv"!==v.extension){r.next=9;break}return r.next=4,ke.a.awrap(ka(v.attached));case 4:e=r.sent,h(Qc({},v,{read:e})),m(3),r.next=14;break;case 9:return r.next=11,ke.a.awrap(ze(v.attached));case 11:n=r.sent,h(Qc({},v,{read:n})),m(4);case 14:r.next=21;break;case 16:r.prev=16,r.t0=r.catch(0),u({type:"error",text:Object(_.c)("Error notification").t(Xc())}),m(1),t();case 21:case"end":return r.stop()}}),null,null,[[0,16]])}}}if(3===d){var a=i.a.createElement(st.a,{disabled:!O.length,type:"submit"},Object(_.c)("Action").t(Hc()));return{content:i.a.createElement(Ba,{file:v.read,vcardContacts:O,onSetVcardContacts:j}),submit:a,onSubmit:function(){return m(4)}}}if(4===d){var o=!w&&i.a.createElement(mt.a,null,Object(_.c)("Action").t(Yc())),s=i.a.createElement(st.a,{loading:!w,type:"submit"},Object(_.c)("Action").t(Wc()));return{content:i.a.createElement(Fc,{isVcf:"vcf"===v.extension,file:v.read,vcardContacts:O,onSetVcardContacts:j,privateKey:n[0].privateKey,onFinish:function(){return ke.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.a.awrap(l());case 2:C(!0);case 3:case"end":return e.stop()}}))}}),close:o,submit:s,onSubmit:r.onClose}}if(5===d){var f=i.a.createElement(st.a,{type:"submit"},Object(_.c)("Action").t(Vc()));return{content:i.a.createElement(zc,{vcardContacts:O}),submit:f,onSubmit:function(){return ke.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.a.awrap(l());case 2:r.onClose();case 3:case"end":return e.stop()}}))}}}}(),P=k.content,N=ut()(k,["content"]);return i.a.createElement(pt.a,ot()({title:a[d]},N,r),P)},uo=n("+Ln1"),lo=n("z5T1"),so=n("dAix"),fo=n("xsSi"),mo=n("x4CE"),po=n("Um+v"),bo=n("Y6df"),vo=n("uqVu"),ho=n("rN/M"),go=n("4+6U"),yo=n("Se/U");function Oo(){var e=X()(["Upload picture"]);return Oo=function(){return e},e}var jo=function(e){var t=e.value,n=e.onChange;return i.a.createElement("div",null,t?i.a.createElement("img",{src:t}):i.a.createElement(gt.a,{onClick:n},Object(_.c)("Action").t(Oo())))};function Eo(){var e=X()(["Extended address"]);return Eo=function(){return e},e}function xo(){var e=X()(["Post office box"]);return xo=function(){return e},e}function wo(){var e=X()(["Country"]);return wo=function(){return e},e}function Co(){var e=X()(["Postal code"]);return Co=function(){return e},e}function ko(){var e=X()(["Region"]);return ko=function(){return e},e}function Po(){var e=X()(["City"]);return Po=function(){return e},e}function No(){var e=X()(["Street address"]);return No=function(){return e},e}var Do=function(e){var t=e.value,n=e.onChange,r=Object(o.useState)(function(e){var t=Array.isArray(e)?e:e.split(",");return Array.from({length:7}).map((function(e,n){return t[n]||""}))}(t)),a=q()(r,2),c=a[0],u=a[1],l=function(e){return function(t){var r=t.target,a=fe()(c);a[e]=r.value,u(a),n(a)}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mb1"},i.a.createElement(ho.a,{id:"street",value:c[2],placeholder:Object(_.c)("Label").t(No()),onChange:l(2)})),i.a.createElement("div",{className:"mb1"},i.a.createElement(ho.a,{id:"locality",value:c[3],placeholder:Object(_.c)("Label").t(Po()),onChange:l(3)})),i.a.createElement("div",{className:"mb1"},i.a.createElement("label",{className:"small opacity-50",htmlFor:"region"}),i.a.createElement(ho.a,{id:"region",value:c[4],placeholder:Object(_.c)("Label").t(ko()),onChange:l(4)})),i.a.createElement("div",{className:"mb1"},i.a.createElement(ho.a,{id:"postalCode",value:c[5],placeholder:Object(_.c)("Label").t(Co()),onChange:l(5)})),i.a.createElement("div",{className:"mb1"},i.a.createElement(ho.a,{id:"country",value:c[6],placeholder:Object(_.c)("Label").t(wo()),onChange:l(6)})),c[0]?i.a.createElement("div",{className:"mb1"},i.a.createElement(ho.a,{id:"postBox",value:c[0],placeholder:Object(_.c)("Label").t(xo()),onChange:l(0)})):null,c[1]?i.a.createElement("div",{className:"mb1"},i.a.createElement(ho.a,{id:"extended",value:c[1],placeholder:Object(_.c)("Label").t(Eo()),onChange:l(1)})):null)},Io=n("2PQF"),So=n("LJWS");function Ao(){var e=X()(["Upload picture"]);return Ao=function(){return e},e}function Mo(){var e=X()(["Upload picture"]);return Mo=function(){return e},e}function To(){var e=X()(["Image URL"]);return To=function(){return e},e}function Lo(){var e=X()(["Add image URL"]);return Lo=function(){return e},e}function Ko(){var e=X()(["Save"]);return Ko=function(){return e},e}function Ro(){var e=X()(["Image upload failed"]);return Ro=function(){return e},e}function Go(){var e=X()(["Edit image"]);return Go=function(){return e},e}var Fo=function(e){var t=e.url,n=e.onSubmit,r=e.onClose,a=ut()(e,["url","onSubmit","onClose"]),c=Object(o.useState)(t),u=q()(c,2),l=u[0],s=u[1],f=Object(_.c)("Title").t(Go()),d=Object(lt.a)().createNotification;return i.a.createElement(pt.a,ot()({title:f,onSubmit:function(){n(l),r()},submit:Object(_.c)("Action").t(Ko()),onClose:r},a),i.a.createElement(Uc.a,null,i.a.createElement(Gt.a,{htmlFor:"contactImageModal-input-url"},Object(_.c)("Label").t(Lo())),i.a.createElement(Io.a,null,i.a.createElement(ho.a,{id:"contactImageModal-input-url",value:l,onChange:function(e){var t=e.target;return s(t.value)},placeholder:Object(_.c)("Placeholder").t(To())}))),i.a.createElement(Uc.a,null,i.a.createElement(Gt.a,{htmlFor:"contactImageModal-input-file"},Object(_.c)("Label").t(Mo())),i.a.createElement(Io.a,null,i.a.createElement(vt.a,{id:"contactImageModal-input-file",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){var e;return ke.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.a.awrap(Object(So.b)({original:a.result,maxWidth:180,maxHeight:180,finalMimeType:"image/jpeg",encoderOptions:1,bigResize:!0}));case 3:e=t.sent,n(e),r(),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(0),d({text:Object(_.c)("Error").t(Ro()),type:"error"}),t.t0;case 12:case"end":return t.stop()}}),null,null,[[0,8]])},a.readAsDataURL(t)}},Object(_.c)("Action").t(Ao())))))};Fo.defaultProps={url:""};var Uo=Fo,Bo=function(e){var t=e.field,n=e.value,r=e.uid,a=e.onChange,c=ut()(e,["field","value","uid","onChange"]),o=Object(ee.a)().createModal,u=pr(),l=function(e){var t=e.target;return a({value:t.value,uid:r})};if("email"===t)return i.a.createElement(mo.a,ot()({value:n,placeholder:u.email,onChange:l},c));if("tel"===t)return i.a.createElement(po.a,ot()({value:n,placeholder:u.tel,onChange:l},c));if("adr"===t){return i.a.createElement(Do,{value:n,onChange:function(e){return a({value:e,uid:r})}})}if("note"===t)return i.a.createElement(bo.a,ot()({value:n,placeholder:u.note,onChange:l},c));if("bday"===t||"anniversary"===t){var s=""===n?new Date:Object(go.a)(n);if(Object(yo.a)(s)){return i.a.createElement(vo.a,ot()({placeholder:u[t],value:s,onChange:function(e){return a({value:e.toISOString(),uid:r})}},c))}}if("photo"===t||"logo"===t){return i.a.createElement(jo,ot()({value:n,onChange:function(){o(i.a.createElement(Uo,{url:n,onSubmit:function(e){return a({uid:r,value:e})}}))}},c))}return i.a.createElement(ho.a,ot()({value:n,placeholder:u[t],onChange:l},c))},zo=function(e){var t=e.field,n=e.type,r=ut()(e,["field","type"]),a=pr(),c=a[n]||n||a[t];return i.a.createElement("label",ot()({className:"capitalize"},r),c)},Vo=function(e){var t=e.field,n=e.uid,r=e.type,a=void 0===r?"":r,c=e.onChange,o=ua(),u=mr();return u.map((function(e){return e.value})).includes(t)?i.a.createElement(Gt.a,{className:"pt0 mr1"},i.a.createElement(Ft.a,{value:t,options:u,onChange:function(e){var t=e.target;return c({value:t.value,key:"field",uid:n})}})):"fn"!==t&&o[t].map((function(e){return e.value})).includes(a)?i.a.createElement(Gt.a,{className:"pt0 mr1"},i.a.createElement(Ft.a,{value:a,options:o[t],onChange:function(e){var t=e.target;return c({value:t.value,key:"type",uid:n})}})):i.a.createElement(zo,{field:t,type:a})};function Wo(){var e=X()(["Delete"]);return Wo=function(){return e},e}function Yo(){var e=X()(["Clear"]);return Yo=function(){return e},e}function Ho(){var e=X()(["Edit"]);return Ho=function(){return e},e}var Xo=function(e){var t=e.property,n=e.onChange,r=e.onRemove,a=e.isOrderable,c=void 0!==a&&a,o=Object(ee.a)().createModal,u=t.field,l=t.uid,s=t.value,f=Se(Ae(t.type)),d=!["fn"].includes(u),m=["photo","logo"].includes(u)&&t.value,p=[["photo","logo"].includes(u)&&!!s&&{text:Object(_.c)("Action").t(Ho()),onClick:function(){o(i.a.createElement(Uo,{url:t.value,onSubmit:function(e){return n({uid:l,value:e})}}))}},m&&{text:Object(_.c)("Action").t(Yo()),onClick:function(){n({uid:l,value:""})}},d&&{text:Object(_.c)("Action").t(Wo()),onClick:function(){r(t.uid)}}].filter(Boolean);return i.a.createElement("div",{className:"flex flex-nowrap flex-item-noshrink"},c?i.a.createElement(so.a,{key:"icon"},i.a.createElement("div",{className:"cursor-row-resize mr0-5 flex flex-item-noshrink mt1r"},i.a.createElement(ht.a,{name:"text-justify"}))):i.a.createElement("div",{className:"mr0-5 flex flex-items-center flex-item-noshrink"},i.a.createElement(ht.a,{name:"text-justify nonvisible"})),i.a.createElement("div",{className:"flex flex-nowrap flex-items-center onmobile-flex-column w95"},i.a.createElement("span",{className:"w30 flex flex-nowrap mb1"},i.a.createElement(Vo,{field:u,type:f,uid:t.uid,onChange:n})),i.a.createElement("span",{className:"w50 mb1"},i.a.createElement("div",{className:"mr1"},i.a.createElement(Bo,{field:u,value:t.value,uid:t.uid,onChange:n}))),i.a.createElement("span",{className:"w20 mb1"},p.length>0&&i.a.createElement("div",{className:"flex flex-item-noshrink flex-items-start"},i.a.createElement(fo.a,{list:p})))))},Jo=n("iCC2");function Qo(){var e=X()(["Encrypted data with verified digital signature"]);return Qo=function(){return e},e}var Zo=function(e){var t=Object.assign({},e);return i.a.createElement(Jo.a,ot()({},t,{title:Object(_.c)("Tooltip").t(Qo())}),i.a.createElement(ht.a,{name:"lock",className:"flex flex-item-centered"}))};function qo(){var e=X()(["Add"]);return qo=function(){return e},e}function _o(){var e=X()(["Other information"]);return _o=function(){return e},e}function $o(){var e=X()(["Addresses"]);return $o=function(){return e},e}function ei(){var e=X()(["Phone numbers"]);return ei=function(){return e},e}function ti(){var e=X()(["Email addresses"]);return ti=function(){return e},e}function ni(){var e=X()(["Display name"]);return ni=function(){return e},e}var ri={fn:"contact",email:"email",tel:"phone",adr:"address",other:"info"},ai=function(e){var t=e.properties,n=e.field,r=e.onChange,a=e.onOrderChange,c=e.onAdd,u=e.onRemove,l={fn:Object(_.c)("Title").t(ni()),email:Object(_.c)("Title").t(ti()),tel:Object(_.c)("Title").t(ei()),adr:Object(_.c)("Title").t($o()),other:Object(_.c)("Title").t(_o())},s=n?l[n]:l.other,f=n?ri[n]:ri.other,d=n?[n]:nc,m=t.filter((function(e){var t=e.field;return d.includes(t)})),p=!d.includes("fn"),b=Object(o.useMemo)((function(){return m.map((function(e){return i.a.createElement(Xo,{key:e.uid,property:e,onChange:r,onRemove:u,onAdd:c,isOrderable:!!a})}))}),[m,r,u,c,!!a]),v=Object(o.useCallback)((function(e){var t=e.newIndex,r=e.oldIndex,c=Object(we.c)(m,r,t);a(n,c)}),[m,n]);return i.a.createElement("div",{className:"border-bottom mb1"},i.a.createElement("h3",{className:"mb1 flex flex-nowrap flex-items-center flex-item-noshrink"},i.a.createElement(ht.a,{className:"mr0-5 flex-item-noshrink",name:f}),i.a.createElement("span",{className:"mr0-5"},s),!["fn","email"].includes(n)&&i.a.createElement(Zo,{scrollContainerClass:"pm-modalContentInner",className:"flex flex-item-centered-vert flex-item-noshrink"})),a?i.a.createElement(uo.a,{helperClass:"row--orderable",onSortEnd:v,useDragHandle:!0},i.a.createElement("div",null,b.map((function(e,t){return i.a.createElement(lo.a,{key:e.key,index:t},e)})))):i.a.createElement("div",null,b),p&&i.a.createElement("div",{className:"flex flex-nowrap flex-item-noshrink"},i.a.createElement("div",{className:"mr0-5 flex flex-items-center flex-item-noshrink"},i.a.createElement(ht.a,{name:"text-justify nonvisible"})),i.a.createElement("div",{className:"flex flex-nowrap w95"},i.a.createElement(st.a,{className:"mb1",onClick:c},Object(_.c)("Action").t(qo())))))},ci=n("iylp"),oi=n("i9+t"),ii=n("WjHO"),ui=n.n(ii);function li(){var e=X()(["Upgrade ProtonMail"]);return li=function(){return e},e}function si(){var e=X()(["Unlock access to encrypted contact details such as phone numbers and addresses with ProtonMail Plus."]);return si=function(){return e},e}function fi(){var e=X()(["Upgrade to a paid plan"]);return fi=function(){return e},e}var di=function(){var e=Object(_.c)("Title").t(fi());return i.a.createElement("div",{className:"rounded bg-global-altgrey color-white p1 mb1 flex"},i.a.createElement("div",{className:"flex-autogrid onmobile-flex-column w100"},i.a.createElement("div",{className:"flex-autogrid-item flex flex-column flex-spacebetween"},i.a.createElement("h4",null,e),i.a.createElement("div",{className:"mb2"},Object(_.c)("Info").t(si())),i.a.createElement("div",null,i.a.createElement(st.a,{onClick:function(){return Object(f.h)("/settings/subscription")}},Object(_.c)("Action").t(li())))),i.a.createElement("div",{className:"flex-autogrid-item flex flex-column flex-items-end"},i.a.createElement("img",{className:"h100",src:ui.a,alt:e,style:{maxHeight:"200px"}}))))};function mi(){var e=X()(["Email address, phone number and address at the top of their respective list are automatically set as the default information and will be displayed in the contact information's summary section."]);return mi=function(){return e},e}function pi(){var e=X()(["Save"]);return pi=function(){return e},e}function bi(){var e=X()(["Contact saved"]);return bi=function(){return e},e}function vi(){var e=X()(["Contact could not be saved"]);return vi=function(){return e},e}function hi(){var e=X()(["Add new contact"]);return hi=function(){return e},e}function gi(){var e=X()(["Edit contact details"]);return gi=function(){return e},e}function yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ji=[{field:"fn",value:""},{field:"email",value:""}],Ei=ic,xi=oc,wi=lc,Ci=uc,ki=z.b.SINGLE_SUCCESS,Pi=[{text:Object(_.c)("Contact field label").t(zn()),value:"fn"},{text:Object(_.c)("Contact field label").t(Bn()),value:"email"},{text:Object(_.c)("Contact field label").t(Un()),value:"tel"},{text:Object(_.c)("Contact field label").t(Fn()),value:"adr"},{text:Object(_.c)("Contact field label").t(Gn()),value:"photo"},{text:Object(_.c)("Contact field label").t(Rn()),value:"org"},{text:Object(_.c)("Contact field label").t(Kn()),value:"bday"},{text:Object(_.c)("Contact field label").t(Ln()),value:"anniversary"},{text:Object(_.c)("Contact field label").t(Tn()),value:"title"},{text:Object(_.c)("Contact field label").t(Mn()),value:"role"},{text:Object(_.c)("Contact field label").t(An()),value:"member"},{text:Object(_.c)("Contact field label").t(Sn()),value:"note"},{text:Object(_.c)("Contact field label").t(In()),value:"url"},{text:Object(_.c)("Contact field label").t(Dn()),value:"gender"},{text:Object(_.c)("Contact field label").t(Nn()),value:"lang"},{text:Object(_.c)("Contact field label").t(Pn()),value:"tz"},{text:Object(_.c)("Contact field label").t(kn()),value:"geo"},{text:Object(_.c)("Contact field label").t(Cn()),value:"logo"}].map((function(e){return e.value})),Ni=mr().map((function(e){return e.value})),Di="contact-property",Ii=function(e){var t=e.contactID,n=e.properties,r=void 0===n?[]:n,a=e.onAdd,c=e.history,u=ut()(e,["contactID","properties","onAdd","history"]),l=Object(za.a)(),s=Object(lt.a)().createNotification,f=Object(kt.a)(),d=q()(f,2),m=d[0],p=d[1],b=Object(ae.b)(),v=q()(b,1)[0],h=Object(G.a)().call,g=Object(ce.c)(v),y=q()(g,2),O=y[0],j=y[1],E=Object(o.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.filter((function(e){var t=e.field;return Pi.includes(t)})).map((function(e){return Oi({},e,{uid:Object(oi.b)(Di)})})):ji.map((function(e){return Oi({},e,{uid:Object(oi.b)(Di)})}))}(r)),x=q()(E,2),w=x[0],C=x[1],k=t?Object(_.c)("Title").t(gi()):Object(_.c)("Title").t(hi()),P=function(e){C(w.filter((function(t){return t.uid!==e})))},N=function(e){return function(){if(!e){var t=Object(ci.c)(0,Ni.length-1);return C([].concat(fe()(w),[{field:Ni[t],value:"",uid:Object(oi.b)(Di)}]))}C([].concat(fe()(w),[{field:e,value:"",uid:Object(oi.b)(Di)}]))}},D=function(e){var t=e.uid,n=e.value,r=e.key,a=void 0===r?"value":r,c=w.map((function(e){return e.uid===t?Oi({},e,Q()({},a,n)):e}));C(c)},I=Object(o.useCallback)((function(e,t){var n=w.filter((function(t){return t.field!==e}));n.unshift.apply(n,fe()(t)),C(n)}),[w]);return i.a.createElement(pt.a,ot()({loading:m||j,onSubmit:function(){return p(ke.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return e=r.filter((function(e){var t=e.field;return!Pi.includes(t)})),p.next=3,ke.a.awrap(hc([w.concat(e)],O[0]));case 3:return n=p.sent,o=yc(e)?wi:Ci,p.next=7,ke.a.awrap(l(Object(qa.a)({Contacts:n,Overwrite:t?Ei:xi,Labels:o})));case 7:if(i=p.sent,f=q()(i.Responses,1),d=f[0].Response,m=(d=void 0===d?{}:d).Code,b=d.Contact,v=(b=void 0===b?{}:b).ID,m===ki){p.next=17;break}return u.onClose(),p.abrupt("return",s({text:Object(_.c)("Error").t(vi()),type:"error"}));case 17:return p.next=19,ke.a.awrap(h());case 19:t||(a(),c.push("/contacts/".concat(v))),u.onClose(),s({text:Object(_.c)("Success").t(bi())});case 22:case"end":return p.stop()}})));var e,n,o,i,f,d,m,b,v},title:k,submit:Object(_.c)("Action").t(pi())},u),i.a.createElement(dt.a,null,Object(_.c)("Info").t(mi())),i.a.createElement(ai,{properties:w,field:"fn",onChange:D,onRemove:P}),i.a.createElement(ai,{properties:w,field:"email",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("email")}),v.hasPaidMail?i.a.createElement(i.a.Fragment,null,i.a.createElement(ai,{properties:w,field:"tel",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("tel")}),i.a.createElement(ai,{properties:w,field:"adr",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("adr")}),i.a.createElement(ai,{properties:w,onChange:D,onRemove:P,onAdd:N()})):i.a.createElement(di,null))},Si=n("7tJ6"),Ai=n("qnyA"),Mi=n("/iWM"),Ti=n("YJ1i"),Li=n("f6q+"),Ki=n("rhx2");function Ri(){var e=X()(["Add"]);return Ri=function(){return e},e}function Gi(){var e=X()(["No contacts added yet"]);return Gi=function(){return e},e}function Fi(){var e=X()(["Add email address"]);return Fi=function(){return e},e}function Ui(){var e=X()(["Color"]);return Ui=function(){return e},e}function Bi(){var e=X()(["Name"]);return Bi=function(){return e},e}function zi(){var e=X()(["Name"]);return zi=function(){return e},e}function Vi(){var e=X()(["Save"]);return Vi=function(){return e},e}function Wi(){var e=X()(["Contact group created"]);return Wi=function(){return e},e}function Yi(){var e=X()(["Contact group updated"]);return Yi=function(){return e},e}function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ji(){var e=X()(["Create new group"]);return Ji=function(){return e},e}function Qi(){var e=X()(["Edit contact group"]);return Qi=function(){return e},e}function Zi(){var e=X()(["Delete"]);return Zi=function(){return e},e}function qi(){var e=X()(["Action"]);return qi=function(){return e},e}function _i(){var e=X()(["Address"]);return _i=function(){return e},e}function $i(){var e=X()(["Name"]);return $i=function(){return e},e}var eu=function(e){var t=e.contactEmails,n=e.onDelete,r=[Object(_.c)("Table header").t($i()),Object(_.c)("Table header").t(_i()),Object(_.c)("Table header").t(qi())];return i.a.createElement(Pt.a,{className:"noborder"},i.a.createElement(Ai.a,{cells:r}),i.a.createElement(Mi.a,null,t.map((function(e){var t=e.ID,r=e.Name,a=e.Email,c=[i.a.createElement("div",{className:"ellipsis mw100",key:t,title:r},r),i.a.createElement("div",{className:"ellipsis mw100",key:t,title:a},a),i.a.createElement(Ti.a,{key:t,onClick:n(t)},Object(_.c)("Action").t(Zi()))];return i.a.createElement(Li.a,{key:t,cells:c})}))))},tu=function(e){return e.map((function(e){return e.ID}))},nu=function(e){var t=e.contactGroupID,n=ut()(e,["contactGroupID"]),r=Object(o.useState)(!1),a=q()(r,2),c=a[0],u=a[1],l=Object(G.a)().call,s=Object(za.a)(),f=Object(lt.a)().createNotification,d=Object(re.a)(),m=q()(d,1)[0],p=Object(te.a)(),b=q()(p,1)[0],v=t&&m.find((function(e){return e.ID===t})),h=t&&b.filter((function(e){var n=e.LabelIDs;return(void 0===n?[]:n).includes(t)})),g=t?Object(_.c)("Title").t(Qi()):Object(_.c)("Title").t(Ji()),y=Object(o.useState)({name:t?v.Name:"",color:t?v.Color:z.y[Object(ci.c)(0,z.y.length-1)],contactEmails:t?h:[]}),O=q()(y,2),j=O[0],E=O[1],x=j.contactEmails.map((function(e){return e.ID})),w=Object(we.d)(b,"Email").filter((function(e){var t=e.ID;return!x.includes(t)})).map((function(e){var t=e.ID,n=e.Email,r=e.Name;return{text:n===r?"<".concat(n,">"):"".concat(r," <").concat(n,">"),value:t}}));return Object(o.useEffect)((function(){w.length&&E(Xi({},j,{contactEmailID:w[0].value}))}),[j.contactEmails.length]),i.a.createElement(pt.a,ot()({onSubmit:function(){var e,r,a,c,o,i;return ke.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,u(!0),e={Name:j.name,Color:j.color},d.next=5,ke.a.awrap(s(t?Object(Si.e)(t,e):Object(Si.a)(e)));case 5:return r=d.sent,a=r.Label,c=(void 0===a?{}:a).ID,o=tu(j.contactEmails),i=t?Object(we.b)(tu(h),o):[],d.next=13,ke.a.awrap(Promise.all([o.length&&s(Object(qa.e)({LabelID:c,ContactEmailIDs:o})),i.length&&s(Object(qa.i)({LabelID:c,ContactEmailIDs:i}))].filter(Boolean)));case 13:return d.next=15,ke.a.awrap(l());case 15:n.onClose(),f({text:t?Object(_.c)("Notification").t(Yi()):Object(_.c)("Notification").t(Wi())}),d.next=23;break;case 19:throw d.prev=19,d.t0=d.catch(0),u(!1),d.t0;case 23:case"end":return d.stop()}}),null,null,[[0,19]])},loading:c,submit:Object(_.c)("Action").t(Vi()),title:g},n),i.a.createElement(Uc.a,null,i.a.createElement(Gt.a,{htmlFor:"contactGroupName"},Object(_.c)("Label for contact group name").t(zi())),i.a.createElement(Io.a,null,i.a.createElement(ho.a,{id:"contactGroupName",placeholder:Object(_.c)("Placeholder for contact group name").t(Bi()),value:j.name,onChange:function(e){var t=e.target;return E(Xi({},j,{name:t.value}))}}))),i.a.createElement(Uc.a,null,i.a.createElement(Gt.a,{htmlFor:"contactGroupColor"},Object(_.c)("Label for contact group color").t(Ui())),i.a.createElement(Io.a,null,i.a.createElement(Ki.a,{selected:j.color,onChange:function(e){return function(){return E(Xi({},j,{color:e}))}}}))),w.length?i.a.createElement(Uc.a,null,i.a.createElement(Gt.a,{htmlFor:"contactGroupEmail"},Object(_.c)("Label").t(Fi())),i.a.createElement(Io.a,null,i.a.createElement(Ft.a,{id:"contactGroupEmail",value:j.contactEmailID,options:w,onChange:function(e){var t=e.target;return E(Xi({},j,{contactEmailID:t.value}))}}),j.contactEmails.length?null:i.a.createElement("div",{className:"mt1"},Object(_.c)("Info").t(Gi()))),i.a.createElement("div",{className:"ml1"},i.a.createElement(st.a,{onClick:function(){var e=b.find((function(e){return e.ID===j.contactEmailID})),t=j.contactEmails.find((function(e){return e.ID===j.contactEmailID}));if(e&&!t){var n=fe()(j.contactEmails);n.push(e),E(Xi({},j,{contactEmails:n}))}}},Object(_.c)("Action").t(Ri())))):null,j.contactEmails.length?i.a.createElement(eu,{contactEmails:j.contactEmails,onDelete:function(e){return function(){var t=j.contactEmails.findIndex((function(t){return t.ID===e}));if(t>-1){var n=fe()(j.contactEmails);n.splice(t,1),E(Xi({},j,{contactEmails:n}))}}}}):null)},ru=function(e){var t=e.children,n=e.onClick,r=ut()(e,["children","onClick"]);return i.a.createElement("label",{onClick:n},i.a.createElement("input",ot()({type:"checkbox",className:"item-checkbox sr-only"},r)),i.a.createElement("span",{className:"item-icon flex-item-noshrink rounded50 bg-white inline-flex"},i.a.createElement("span",{className:"mauto item-abbr"},t),i.a.createElement("span",{className:"item-icon-fakecheck mauto"},i.a.createElement(ht.a,{name:"on",className:"item-icon-fakecheck-icon"}))))},au=function(e){var t=e.name,n=e.color,r=ut()(e,["name","color"]);return i.a.createElement(Jo.a,ot()({title:t},r),i.a.createElement(ht.a,{name:"contacts-groups",color:n}))},cu=function(e){var t=e.style,n=e.contactID,r=e.hasPaidMail,a=e.contactGroupsMap,c=e.contact,o=e.onClick,u=e.onCheck,l=c.ID,s=c.Name,f=c.LabelIDs,d=void 0===f?[]:f,m=c.emails,p=void 0===m?[]:m,b=c.isChecked;return i.a.createElement("div",{style:t,key:l,onClick:function(){return o(l)},className:Object(oi.a)(["item-container item-contact cursor-pointer bg-global-white",n===l&&"item-is-selected"])},i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(ru,{checked:b,onChange:u,onClick:function(e){return e.stopPropagation()},"data-contact-id":l},Object(ue.e)(s)),i.a.createElement("div",{className:"flex-item-fluid pl1 flex flex-column flex-spacebetween conversation-titlesender"},i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:Object(oi.a)(["flex flex-item-fluid w0",d.length&&"pr1"])},i.a.createElement("span",{className:"bold inbl mw100 ellipsis"},s)),r&&d.length?i.a.createElement("div",null,d.map((function(e){if(!a[e])return null;var t=a[e],n=t.Color,r=t.Name;return i.a.createElement(au,{scrollContainerClass:"contacts-list",key:e,name:r,color:n})}))):null),i.a.createElement("div",{className:"mw100 ellipsis",title:p.join(", ")},Object(ue.a)(p)))))};function ou(){var e=X()(["You can either update your search query or ","."]);return ou=function(){return e},e}function iu(){var e=X()(["No results found"]);return iu=function(){return e},e}function uu(){var e=X()(["Clear it"]);return uu=function(){return e},e}function lu(){var e=X()(["You can "," to add a contact."]);return lu=function(){return e},e}function su(){var e=X()(["Your contact group is empty"]);return su=function(){return e},e}function fu(){var e=X()(["Edit your group"]);return fu=function(){return e},e}function du(){var e=X()(["You can either "," or "," from a file."]);return du=function(){return e},e}function mu(){var e=X()(["Your address book is empty"]);return mu=function(){return e},e}function pu(){var e=X()(["Import contact"]);return pu=function(){return e},e}function bu(){var e=X()(["Add a contact"]);return bu=function(){return e},e}function vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var hu,gu=Object(Ze.a)((function(e){var t=e.totalContacts,n=e.totalContactsInGroup,r=e.contacts,a=e.contactGroupsMap,c=e.onCheck,u=e.onClearSearch,l=e.onClearSelection,s=e.user,f=e.userKeysList,d=e.loadingUserKeys,m=e.history,p=e.contactID,b=e.contactGroupID,v=e.location,h=e.isDesktop,g=void 0===h||h,y=Object(o.useRef)(null),O=Object(o.useRef)(null),j=Object(o.useState)(),E=q()(j,2),x=E[0],w=E[1],C=Object(ee.a)().createModal,k=function(e){var t=e.target,n=e.nativeEvent.shiftKey,a=t.getAttribute("data-contact-id"),o=[a];if(x&&n){var i=r.findIndex((function(e){return e.ID===a})),u=r.findIndex((function(e){return e.ID===x}));o.push.apply(o,fe()(r.slice(Math.min(i,u),Math.max(i,u)+1).map((function(e){return e.ID}))))}w(a),c(o,t.checked)},P=function(e){l(),m.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v,{pathname:"/contacts/".concat(e)}))};if(Object(o.useEffect)((function(){var e=setTimeout((function(){if(p&&t){var e=r.findIndex((function(e){var t=e.ID;return p===t}));y.current.scrollToRow(e)}}),200);return function(){clearTimeout(e)}}),[p]),!t){var N=i.a.createElement("button",{key:"add",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){C(i.a.createElement(Ii,{history:m,onAdd:u}))}},Object(_.c)("Action").t(bu())),D=i.a.createElement("button",{key:"import",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){C(i.a.createElement(io,{userKeysList:f}))},disabled:d},Object(_.c)("Action").t(pu()));return i.a.createElement("div",{className:"p2 flex w100"},i.a.createElement(Je.a,{title:Object(_.c)("Info message").t(mu()),url:nt.a,className:"mtauto mbauto"},i.a.createElement("div",{className:"flex flex-items-center"},Object(_.c)("Actions message").jt(du(),N,D))))}if(!r.length){if(b&&!n){var I=i.a.createElement("button",{key:"add",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){return function(e){C(i.a.createElement(nu,{contactGroupID:e}))}(b)}},Object(_.c)("Action").t(fu()));return i.a.createElement("div",{className:"p2 aligncenter w100"},i.a.createElement(Je.a,{title:Object(_.c)("Info message").t(su()),url:nt.a},i.a.createElement("div",{className:"flex flex-items-center"},Object(_.c)("Actions message").jt(lu(),I))))}var S=i.a.createElement(Qe.a,{key:"add",onClick:u,className:"ml0-25 bold"},Object(_.c)("Action").t(uu()));return i.a.createElement("div",{className:"p2 aligncenter w100"},i.a.createElement(Je.a,{title:Object(_.c)("Info message").t(iu()),url:at.a},i.a.createElement("div",{className:"flex flex-items-center"},Object(_.c)("Actions message").jt(ou(),S))))}return i.a.createElement("div",{ref:O,className:"items-column-list".concat(g?"":"--mobile")},i.a.createElement(et.a,null,(function(e){var t=e.height,n=e.width;return i.a.createElement(_e.a,{className:"contacts-list no-outline",ref:y,rowRenderer:function(e){var t=e.index,n=e.style,c=e.key;return i.a.createElement(cu,{style:n,key:c,contactID:p,hasPaidMail:!!s.hasPaidMail,contactGroupsMap:a,contact:r[t],onClick:P,onCheck:k})},rowCount:r.length,height:t,width:n,rowHeight:70})})))})),yu=n("3rzI"),Ou=n("F/2c"),ju=function(e){var t=Object(o.useContext)(W),n=Object(za.a)(),r=Object(o.useCallback)((function(){return n(Object(qa.d)(e)).then((function(e){return e.Contact}))}),[]);return Object(Ou.a)(t,e,r)},Eu=n("FaOd");function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cu=z.k.CLEAR_TEXT,ku=z.k.ENCRYPTED_AND_SIGNED,Pu=z.k.ENCRYPTED,Nu=z.k.SIGNED,Du=(hu={},Q()(hu,ku,(function(e,t){var n,r,a,c,o,i,u,l,s,f;return ke.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return n=e.Data,r=e.Signature,a=t.publicKeys,c=t.privateKeys,d.prev=2,d.next=5,ke.a.awrap(Promise.all([Object(ec.d)(n),Object(ec.e)(r)]));case 5:return o=d.sent,i=q()(o,2),u=i[0],l=i[1],d.next=11,ke.a.awrap(Object(Eu.a)({message:u,privateKeys:c,publicKeys:a,armor:!0,signature:l}));case 11:if(s=d.sent,f=s.data,1===s.verified){d.next=16;break}return d.abrupt("return",{data:f,error:1});case 16:return d.abrupt("return",{data:f});case 19:return d.prev=19,d.t0=d.catch(2),d.abrupt("return",{error:2});case 22:case"end":return d.stop()}}),null,null,[[2,19]])})),Q()(hu,Nu,(function(e,t){var n,r,a,c,o;return ke.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.Data,r=e.Signature,a=t.publicKeys,i.prev=2,i.next=5,ke.a.awrap(Object(ec.e)(r));case 5:return c=i.sent,i.next=8,ke.a.awrap(Object(ec.i)({message:Object(ec.a)(n),publicKeys:a,signature:c}));case 8:if(o=i.sent,1===o.verified){i.next=12;break}return i.abrupt("return",{data:n,error:1});case 12:return i.abrupt("return",{data:n});case 15:return i.prev=15,i.t0=i.catch(2),i.abrupt("return",{error:2});case 18:case"end":return i.stop()}}),null,null,[[2,15]])})),Q()(hu,Pu,(function(e,t){var n,r,a,c;return ke.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.Data,r=t.privateKeys,o.prev=2,o.next=5,ke.a.awrap(Object(ec.d)(n));case 5:a=o.sent,o.next=11;break;case 8:return o.prev=8,o.t0=o.catch(2),o.abrupt("return",{error:2});case 11:return o.prev=11,o.next=14,ke.a.awrap(Object(Eu.a)({message:a,privateKeys:r,armor:!0}));case 14:return c=o.sent,o.abrupt("return",{data:c});case 18:return o.prev=18,o.t1=o.catch(11),o.abrupt("return",{error:4});case 21:case"end":return o.stop()}}),null,null,[[2,8],[11,18]])})),Q()(hu,Cu,(function(e){return{data:e.Data}})),hu),Iu=function(e,t){var n,r,a,c,o,i,u,l;return ke.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.publicKeys,r=t.privateKeys,a=e.Cards,s.next=4,ke.a.awrap(Promise.all(a.map((function(e){return ke.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(Du[e.Type]){t.next=2;break}return t.abrupt("return",{error:2});case 2:return t.abrupt("return",Du[e.Type](e,{publicKeys:n,privateKeys:r}));case 3:case"end":return t.stop()}}))}))));case 4:return c=s.sent,o=c.map((function(e,t){return[ku,Pu].includes(a[t].Type)&&e.data?wu({},e,{data:e.data.replace(/\nUID:.*\n/i,"\n")}):e})),i=o.reduce((function(e,t){var n=t.data,r=t.error;return r&&e.errors.push(r),n&&e.vcards.push(n),e}),{vcards:[],errors:[]}),u=i.vcards,l=i.errors,s.abrupt("return",{properties:ve(Ue(u.map(Ge))),errors:l});case 8:case"end":return s.stop()}}))},Su=n("fa3+");function Au(){var e=X()(["Learn more"]);return Au=function(){return e},e}function Mu(){var e=X()(["Error: the encrypted content failed decryption and cannot be read."]);return Mu=function(){return e},e}function Tu(){var e=X()(["Learn more"]);return Tu=function(){return e},e}function Lu(){var e=X()(["Error: the encrypted content failed decryption and cannot be read."]);return Lu=function(){return e},e}function Ku(){var e=X()(["Learn more"]);return Ku=function(){return e},e}function Ru(){var e=X()(["Warning: the verification of this contact's signature failed."]);return Ru=function(){return e},e}var Gu=function(e){var t=e.errors;return t.includes(1)?i.a.createElement("div",{className:"bg-global-attention p1"},i.a.createElement(ht.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object(_.c)("Warning").t(Ru())),i.a.createElement(Su.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object(_.c)("Link").t(Ku()))):t.includes(2)?i.a.createElement("div",{className:"bg-global-warning p1"},i.a.createElement(ht.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object(_.c)("Warning").t(Lu())),i.a.createElement(Su.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object(_.c)("Link").t(Tu()))):t.includes(4)?i.a.createElement("div",{className:"bg-global-warning p1"},i.a.createElement(ht.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object(_.c)("Warning").t(Mu())),i.a.createElement(Su.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object(_.c)("Link").t(Au()))):null};Gu.defaultProps={errors:[]};var Fu=Gu,Uu=n("0Zqm"),Bu=n("D5Se"),zu=n("1s5H");function Vu(){var e=X()(["Load photo"]);return Vu=function(){return e},e}var Wu=function(e){var t=e.photo,n=e.name,r=Object(o.useState)(!Object(zu.d)(t)),a=q()(r,2),c=a[0],u=a[1],l=Object(o.useState)({src:t}),s=q()(l,2),f=s[0],d=s[1],m=Object(Bu.a)(),p=q()(m,2),b=p[0].ShowImages,v=p[1],h=Object(kt.a)(!0),g=q()(h,2),y=g[0],O=g[1],j=v||y,E=b&z.V.REMOTE||c;if(Object(o.useEffect)((function(){if(t&&E){var e,n,r,a,c;O(ke.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ke.a.awrap(Object(So.d)(t));case 2:if(e=o.sent,n=e.src,r=e.width,a=e.height,!(r<=180&&a<=180)){o.next=8;break}return o.abrupt("return",d({src:n,width:r,height:a,isSmall:!0}));case 8:return o.next=10,ke.a.awrap(Object(So.b)({original:t,maxWidth:180,maxHeight:180,bigResize:!0}));case 10:c=o.sent,d({src:c});case 12:case"end":return o.stop()}})).catch(ci.b))}}),[t,E]),!t)return i.a.createElement("div",{className:"rounded50 bordered bg-white ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("span",{className:"mauto color-global-border h1"},Object(ue.e)(n))));if(E){if(j)return i.a.createElement(ie.a,null);var x={backgroundImage:"url(".concat(f.src,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat"};return f.isSmall?i.a.createElement("div",{className:"rounded50 ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("div",{className:"mbauto mtauto center",style:{width:"".concat(f.width,"px")}},i.a.createElement("div",{className:"rounded50 ratio-container-square",style:x},i.a.createElement("span",{className:"inner-ratio-container"}))))):i.a.createElement("div",{className:"rounded50 ratio-container-square",style:x},i.a.createElement("span",{className:"inner-ratio-container"}))}return i.a.createElement("div",{className:"rounded50 bordered bg-white ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("span",{className:"mauto color-global-border"},i.a.createElement(gt.a,{onClick:function(){return u(!0)}},Object(_.c)("Action").t(Vu())))))},Yu=(n("Cq9y"),function(e){var t=e.properties,n=e.leftBlockWidth,r=void 0===n?"w30":n,a=Object(ae.b)(),c=q()(a,1)[0].hasPaidMail,o=Ee(t,"photo"),u=Ee(t,"fn"),l=Ee(t,"email"),s=Ee(t,"tel"),f=Ee(t,"adr"),d=Ee(t,"org"),m=[l&&{icon:"email",component:i.a.createElement("a",{href:"mailto:".concat(l),title:l},l)},c&&s&&{icon:"phone",component:i.a.createElement("a",{href:"tel:".concat(s)},s)},c&&f&&{icon:"address",component:Me(f)},c&&d&&{icon:"organization",component:d}].filter(Boolean);return i.a.createElement("div",{className:"contactsummary-container flex flex-nowrap p1 mb1 border-bottom"},i.a.createElement("div",{className:Object(oi.a)(["aligncenter contactsummary-photo-container",r])},i.a.createElement(Wu,{photo:o,name:u})),i.a.createElement("div",{className:"pl1"},i.a.createElement("h2",{className:"mb0-5 ellipsis"},u),i.a.createElement("ul",{className:"unstyled m0"},m.map((function(e){var t=e.icon,n=e.component;return i.a.createElement("li",{key:t,className:"flex flex-nowrap flex-items-center mb0-5"},i.a.createElement(ht.a,{name:t,className:"mr0-5"}),i.a.createElement("span",{className:"ellipsis"},n))})))))}),Hu=n("NTy5"),Xu=n("SJRE"),Ju=n("o4nY"),Qu=n("+QFM"),Zu=n("sWYD"),qu=n("voWS"),_u=n("Xksw"),$u=n("wJ4K"),el=n("TQRW");function tl(){var e=X()(["Please select which email address or addresses to add to this group."]);return tl=function(){return e},e}function nl(){var e=X()(["Add to group"]);return nl=function(){return e},e}function rl(){var e=X()(["Apply"]);return rl=function(){return e},e}function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?al(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ol=function(e){var t=e.contacts,n=e.onSubmit,r=ut()(e,["contacts","onSubmit"]),a=Object(te.a)(),c=q()(a,1)[0],u=Object(o.useState)(t.map((function(e){return cl({},e,{contactEmails:c.filter((function(t){return t.ContactID===e.ID})).map((function(e){return cl({},e,{isChecked:!0})}))})}))),l=q()(u,2),s=l[0],f=l[1],d=function(e,t){return function(n){var r=n.target,a=fe()(s),c=s.findIndex((function(t){return t.ID===e})),o=s[c].contactEmails.findIndex((function(e){return e.ID===t}));a[c].contactEmails[o].isChecked=r.checked,f(a)}};return i.a.createElement(pt.a,ot()({submit:Object(_.c)("Action").t(rl()),title:Object(_.c)("Title").t(nl()),onSubmit:function(){var e=s.reduce((function(e,t){return t.contactEmails.forEach((function(t){var n=t.isChecked,r=ut()(t,["isChecked"]);n&&e.push(r)})),e}),[]);n(e),r.onClose()}},r),i.a.createElement(dt.a,null,Object(_.c)("Info").t(tl())),s.filter((function(e){var t=e.contactEmails;return(void 0===t?[]:t).length>1})).map((function(e){var t=e.ID,n=e.Name,r=e.contactEmails,a=void 0===r?[]:r;return i.a.createElement(Uc.a,{key:t,className:"border-bottom"},i.a.createElement(Gt.a,{className:"bold pt0"},n),i.a.createElement(Io.a,{className:"flex flex-column w100"},a.map((function(e){var n=e.ID,r=e.Email,a=e.isChecked;return i.a.createElement("label",{key:n,className:"mb1",htmlFor:n},i.a.createElement(Rt.a,{id:n,checked:a,className:"mr0-5",onChange:d(t,n)}),i.a.createElement("span",null,r))}))))})))},il=n("CP+6"),ul=function(e){var t=e.buttonRef,n=e.caretClassName,r=void 0===n?"":n,a=e.children,c=e.isOpen,o=ut()(e,["buttonRef","caretClassName","children","isOpen"]);return i.a.createElement("button",ot()({type:"button",role:"button",ref:t},o),a,i.a.createElement(il.a,{isOpen:c,className:Object(oi.a)(["ml0-25 expand-caret mtauto mbauto",r])}))};function ll(){var e=X()(["Apply"]);return ll=function(){return e},e}function sl(){var e=X()(["Filter groups"]);return sl=function(){return e},e}function fl(){var e=X()(["Create a new contact group"]);return fl=function(){return e},e}function dl(){var e=X()(["Add to group"]);return dl=function(){return e},e}function ml(){var e=X()(["Contact group apply"]);return ml=function(){return e},e}function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var bl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.reduce((function(e,n){var r=n.ContactID;if(e.duplicate[r]=(e.duplicate[r]||0)+1,2===e.duplicate[r]){var a=t.find((function(e){return e.ID===r}));e.contacts.push(a)}return e}),{contacts:[],duplicate:Object.create(null)})},vl=function(e){var t=e.children,n=e.className,r=e.contactEmails,a=e.disabled,c=e.forToolbar,u=void 0!==c&&c,l=Object(o.useState)(""),s=q()(l,2),f=s[0],d=s[1],m=Object(kt.a)(),p=q()(m,2),b=p[0],v=p[1],h=Object(_u.a)(),g=h.anchorRef,y=h.isOpen,O=h.toggle,j=h.close,E=Object(lt.a)().createNotification,x=Object(G.a)().call,w=Object(za.a)(),C=Object(ee.a)().createModal,k=Object(ne.a)(),P=q()(k,1)[0],N=Object(re.a)(),D=q()(N,1)[0],I=Object(o.useState)(Object.create(null)),S=q()(I,2),A=S[0],M=S[1],T=Object(o.useState)(Object(oi.b)("contactGroupDropdown")),L=q()(T,1)[0],K=function(e){return function(t){var n=t.target;return M(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},A,Q()({},e,+n.checked)))}};Object(o.useEffect)((function(){y&&M(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length&&e.length?e.reduce((function(e,n){var r=n.ID,a=t.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)}));return e[r]=a.length?t.length===a.length?1:2:0,e}),Object.create(null)):Object.create(null)}(D,r))}),[D,r,y]);var R=Object(o.useMemo)((function(){if(!Array.isArray(D))return[];var e=Object(ue.g)(f);return e.length?D.filter((function(t){var n=t.Name;return Object(ue.g)(n).includes(e)})):D}),[f,D]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(ul,{caretClassName:u?"toolbar-icon":"",className:n,disabled:a,buttonRef:g,isOpen:y,onClick:O},t),i.a.createElement($u.a,{id:"contact-group-dropdown",isOpen:y,anchorRef:g,onClose:j,autoClose:!1},i.a.createElement("div",{className:"flex flex-spacebetween pt1 pl1 pr1 mb1"},i.a.createElement("strong",null,Object(_.c)("Label").t(dl())),i.a.createElement(Jo.a,{title:Object(_.c)("Info").t(fl())},i.a.createElement(Ti.a,{className:"pm-button--primary pm-button--for-icon",onClick:function(){C(i.a.createElement(nu,null)),j()}},i.a.createElement(ht.a,{name:"contacts-groups",fill:"light"}),"+"))),i.a.createElement("div",{className:"pl1 pr1 mb1"},i.a.createElement(el.a,{value:f,onChange:d,autoFocus:!0,placeholder:Object(_.c)("Placeholder").t(sl())})),i.a.createElement("div",{className:"mb1 dropDown-content dropDown-content--narrow"},i.a.createElement("ul",{className:"unstyled m0 pl1 pr1 dropDown-contentInner"},R.map((function(e){var t=e.ID,n=e.Name,r=e.Color,a="".concat(L).concat(t);return i.a.createElement("li",{key:t,className:"flex flex-nowrap border-bottom border-bottom--dashed pt0-5 pb0-5"},i.a.createElement("label",{htmlFor:a,className:"flex flex-item-fluid flex-nowrap"},i.a.createElement(ht.a,{name:"contacts-groups",className:"mr0-5 mtauto mbauto flex-item-noshrink",color:r}),i.a.createElement("span",{className:"ellipsis flex-item-fluid",title:n},n)),i.a.createElement(Rt.a,{className:"flex flex-item-noshrink mtauto mbauto",id:a,checked:1===A[t],indeterminate:2===A[t],onChange:K(t)}))})))),i.a.createElement("div",{className:"aligncenter mb1"},i.a.createElement(Ti.a,{loading:b,className:"pm-button--primary",onClick:function(){return v(ke.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=fe()(r),t=bl(r,P),!(n=t.contacts).length){c.next=6;break}return c.next=5,ke.a.awrap(new Promise((function(e,t){C(i.a.createElement(ol,{contacts:n,onSubmit:e,onClose:t}))})));case 5:e=c.sent;case 6:return a=Object.entries(A),c.next=9,ke.a.awrap(Promise.all(a.map((function(t){var n=q()(t,2),r=n[0],a=n[1];if(2===a)return Promise.resolve();if(1===a){var c=e.filter((function(e){var t=e.LabelIDs;return!(void 0===t?[]:t).includes(r)})).map((function(e){return e.ID}));return c.length?w(Object(qa.e)({LabelID:r,ContactEmailIDs:c})):Promise.resolve()}var o=e.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)})).map((function(e){return e.ID}));return o.length?w(Object(qa.i)({LabelID:r,ContactEmailIDs:o})):Promise.resolve()}))));case 9:return c.next=11,ke.a.awrap(x());case 11:E({text:Object(_.c)("Info").ngettext(Object(_.msgid)(ml()),"Contact groups apply",a.length)}),j();case 13:case"end":return c.stop()}})));var e,t,n,a}},Object(_.c)("Action").t(ll())))))},hl=n("FilX"),gl=n("dG5C"),yl=n("pdRq"),Ol=z.R.TYPE_INTERNAL,jl=z.x.ENABLE_ENCRYPTION,El=function(e){return e.RecipientType===Ol},xl=function(e){return El(e)&&!e.Keys.some((function(e){return e.Flags&jl}))},wl=function(){var e,t,n,r=arguments;return ke.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if((e=r.length>0&&void 0!==r[0]?r[0]:[]).length){a.next=3;break}return a.abrupt("return",!1);case 3:return t=e.map((function(e){return Object(yl.c)(e)})),a.next=6,ke.a.awrap(Promise.all(t));case 6:return n=a.sent,a.abrupt("return",!n.some((function(e){return!e})));case 8:case"end":return a.stop()}}))},Cl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e.length)return!1;var n=t.map((function(e){return Object(gl.j)(Object(gl.b)(e))}));return!e.some((function(e){return n.includes(e)}))},kl=n("0BWK");function Pl(){var e=X()(["Plain text"]);return Pl=function(){return e},e}function Nl(){var e=X()(["Automatic"]);return Nl=function(){return e},e}var Dl=function(e){var t=e.value,n=e.onChange,r=e.disabled,a=[{text:Object(_.c)("MIME type").t(Nl()),value:""},{text:Object(_.c)("MIME type").t(Pl()),value:z.D.PLAINTEXT}];return i.a.createElement(Ft.a,{value:t,options:a,disabled:r,onChange:function(e){var t=e.target;return n(t.value)}})},Il=n("UPgO"),Sl=n("Y/Ll");function Al(){var e=X()(["Use global default (",")"]);return Al=function(){return e},e}var Ml=function(e){var t=e.value,n=e.onChange,r=Object(Bu.a)(),a=q()(r,2),c=a[0].PGPScheme,o=a[1],u=c===z.K.SEND_PGP_INLINE?"PGP/Inline":"PGP/MIME",l=[{value:"",text:Object(_.c)("Default encryption scheme").t(Al(),u)},{value:"pgp-mime",text:"PGP/MIME"},{value:"pgp-inline",text:"PGP/Inline"}];return i.a.createElement(Ft.a,{options:l,disabled:o,value:t,onChange:function(e){var t=e.target;return n(t.value)}})},Tl=n("Cphr"),Ll=n("qrfN"),Kl=n("l+59");function Rl(){var e=X()(["This key is assigned to ",""]);return Rl=function(){return e},e}var Gl=function(e){var t,n,r,a=e.publicKey,c=e.email,o=ut()(e,["publicKey","email"]),u=i.a.createElement(ht.a,ot()({name:"attention",fill:"attention"},o)),l=(t=c,n=a.users,!(r=(void 0===n?[]:n).reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.userId,r=void 0===n?{}:n;if(!r||!r.userid)return e;var a=/<([^>]*)>/.exec(r.userid)||[],c=q()(a,2),o=c[1],i=void 0===o?r.userid:o;return e.push(i),e}),[])).includes(t)&&r);if(l){var s=l.join(", ");return i.a.createElement(Jo.a,{title:Object(_.c)("PGP key warning").t(Rl(),s)},u)}return null};function Fl(){var e=X()(["Expired"]);return Fl=function(){return e},e}function Ul(){var e=X()(["Revoked"]);return Ul=function(){return e},e}function Bl(){var e=X()(["Trusted"]);return Bl=function(){return e},e}function zl(){var e=X()(["WKD"]);return zl=function(){return e},e}function Vl(){var e=X()(["Verification only"]);return Vl=function(){return e},e}function Wl(){var e=X()(["Active"]);return Wl=function(){return e},e}function Yl(){var e=X()(["Remove"]);return Yl=function(){return e},e}function Hl(){var e=X()(["Untrust"]);return Hl=function(){return e},e}function Xl(){var e=X()(["Trust"]);return Xl=function(){return e},e}function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zl(){var e=X()(["Use for sending"]);return Zl=function(){return e},e}function ql(){var e=X()(["Download"]);return ql=function(){return e},e}function _l(){var e=X()(["Actions"]);return _l=function(){return e},e}function $l(){var e=X()(["Status"]);return $l=function(){return e},e}function es(){var e=X()(["Type"]);return es=function(){return e},e}function ts(){var e=X()(["Expires"]);return ts=function(){return e},e}function ns(){var e=X()(["Created"]);return ns=function(){return e},e}function rs(){var e=X()(["Fingerprint"]);return rs=function(){return e},e}var as=function(e){var t=e.model,n=e.setModel,r=Object(o.useState)([]),a=q()(r,2),c=a[0],u=a[1],l=Object(oe.a)(),s=l.isNarrow,f=l.isTinyMobile,d=t.keys.api.length;return Object(o.useEffect)((function(){var e,n,r;ke.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.isPGPInternal?fe()(t.keys.api):[].concat(fe()(t.keys.api),fe()(t.keys.pinned)),n=Object(we.f)(e,(function(e){return e.getFingerprint()})),a.next=4,ke.a.awrap(Promise.all(n.map((function(e,n){var r,a,c,o,i,u,l,s,f,m,p,b,v,h,g,y;return ke.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,r=+Object(Ll.a)(),a=e.getCreationTime(),O.next=5,ke.a.awrap(e.getExpirationTime("encrypt"));case 5:return c=O.sent,o=!(a<=r&&r<=c),O.next=9,ke.a.awrap(e.isRevoked());case 9:return i=O.sent,u=e.getAlgorithmInfo(),l=Object(Kl.a)(u),s=e.getFingerprint(),f=!n&&!o&&(!!d||t.encrypt),m=t.isPGPExternal&&n<d,p=!(n<d)||t.trustedFingerprints.includes(s),b=n<d&&!(t.apiKeysFlags[s]&z.x.ENABLE_ENCRYPTION),v=n>=d,h=!!n&&!o&&!b&&(n<d?p:!d&&t.encrypt),g=!p&&!v,y=p&&!v,O.abrupt("return",{publicKey:e,fingerprint:s,algo:l,creationTime:a,expirationTime:c,isActive:f,isWKD:m,isExpired:o,isRevoked:i,isTrusted:p,isVerificationOnly:b,isUploaded:v,canBeActive:h,canBeTrusted:g,canBeUntrusted:y});case 24:return O.prev=24,O.t0=O.catch(0),O.abrupt("return",!1);case 27:case"end":return O.stop()}}),null,null,[[0,24]])}))));case 4:r=a.sent,u(r.filter(Boolean));case 6:case"end":return a.stop()}}))}),[t.keys,t.trustedFingerprints,t.encrypt]),i.a.createElement(Pt.a,{className:"pm-simple-table--has-actions"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{scope:"col",className:"ellipsis"},Object(_.c)("Table header").t(rs())),!s&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object(_.c)("Table header").t(ns())),!f&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object(_.c)("Table header").t(ts())),!s&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object(_.c)("Table header").t(es())),i.a.createElement("th",{scope:"col",className:"ellipsis"},Object(_.c)("Table header").t($l())),i.a.createElement("th",{scope:"col",className:Object(oi.a)(["ellipsis",s&&"w40"])},Object(_.c)("Table header").t(_l())))),i.a.createElement(Mi.a,null,c.map((function(e){var r=e.fingerprint,a=e.algo,c=e.creationTime,o=e.expirationTime,u=e.isActive,l=e.isWKD,d=e.publicKey,m=e.isExpired,p=e.isRevoked,b=e.isTrusted,v=e.isVerificationOnly,h=e.isUploaded,g=e.canBeActive,y=e.canBeTrusted,O=e.canBeUntrusted,j=new Date(c),E=new Date(o),x=[{text:Object(_.c)("Action").t(ql()),onClick:function(){var e,n;return ke.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e=new Blob([d.armor()],{type:"data:text/plain;charset=utf-8;"}),n="publickey - ".concat(t.email," - 0x").concat(r.slice(0,8).toUpperCase(),".asc"),Object(Uu.a)(e,n);case 3:case"end":return a.stop()}}))}},g&&{text:Object(_.c)("Action").t(Zl()),onClick:function(){var e=t.keys.api.findIndex((function(e){return e.getFingerprint()===r})),a=t.keys.pinned.findIndex((function(e){return e.getFingerprint()===r})),c=-1!==e?Object(we.c)(t.keys.api,e,0):t.keys.api,o=-1!==a?Object(we.c)(t.keys.pinned,a,0):t.keys.pinned;n(Ql({},t,{keys:{api:c,pinned:o}}))}},y&&{text:Object(_.c)("Action").t(Xl()),onClick:function(){n(Ql({},t,{trustedFingerprints:[].concat(fe()(t.trustedFingerprints),[r])}))}},O&&{text:Object(_.c)("Action").t(Hl()),onClick:function(){n(Ql({},t,{trustedFingerprints:t.trustedFingerprints.filter((function(e){return e!==r}))}))}},h&&{text:Object(_.c)("Action").t(Yl()),onClick:function(){n(Ql({},t,{keys:Ql({},t.keys,{pinned:t.keys.pinned.filter((function(e){return e.getFingerprint()!==r}))})}))}}].filter(Boolean),w=[i.a.createElement("div",{key:r,title:r,className:"flex flex-nowrap"},i.a.createElement(Gl,{className:"mr0-5 flex-item-noshrink",publicKey:d,email:t.email}),i.a.createElement("span",{className:"flex-item-fluid ellipsis"},r)),!s&&(Object(yo.a)(j)?Object(Zu.a)(j,"PP",{locale:qu.a}):"-"),!f&&(Object(yo.a)(E)?Object(Zu.a)(E,"PP",{locale:qu.a}):"-"),!s&&a,i.a.createElement(i.a.Fragment,{key:r},u?i.a.createElement(Tl.a,null,Object(_.c)("Key badge").t(Wl())):null,v?i.a.createElement(Tl.a,{type:"warning"},Object(_.c)("Key badge").t(Vl())):null,l?i.a.createElement(Tl.a,null,Object(_.c)("Key badge").t(zl())):null,b?i.a.createElement(Tl.a,null,Object(_.c)("Key badge").t(Bl())):null,p?i.a.createElement(Tl.a,{type:"error"},Object(_.c)("Key badge").t(Ul())):null,m?i.a.createElement(Tl.a,{type:"error"},Object(_.c)("Key badge").t(Fl())):null),i.a.createElement(fo.a,{key:r,className:"pm-button--small",list:x})].filter(Boolean);return i.a.createElement(Li.a,{key:r,cells:w})}))))};function cs(){var e=X()(["Select the PGP scheme to be used when signing or encrypting to a user. Note that PGP/Inline forces plain text messages"]);return cs=function(){return e},e}function os(){var e=X()(["Cryptographic scheme"]);return os=function(){return e},e}function is(){var e=X()(["Upload a public key to enable sending end-to-end encrypted emails to this email"]);return is=function(){return e},e}function us(){var e=X()(["Public keys"]);return us=function(){return e},e}function ls(){var e=X()(["Digitally signing emails helps authenticating that messages are sent by you"]);return ls=function(){return e},e}function ss(){var e=X()(["Sign emails"]);return ss=function(){return e},e}function fs(){var e=X()(["Email encryption forces email signature to help authenticate your sent messages"]);return fs=function(){return e},e}function ds(){var e=X()(["Encrypt emails"]);return ds=function(){return e},e}function ms(){var e=X()(["All uploaded keys are expired or revoked! Encryption is automatically disabled."]);return ms=function(){return e},e}function ps(){var e=X()(["Only change these settings if you are using PGP with non-ProtonMail recipients."]);return ps=function(){return e},e}function bs(){var e=X()(["To use Address Verification, you must trust one or more available public keys, including the primary key for this address. This prevents the encrypted keys from being faked."]);return bs=function(){return e},e}function vs(){var e=X()(["This address is disabled. To be able to send to this address, the owner must first enable the address."]);return vs=function(){return e},e}function hs(){var e=X()(["Address Verification with Trusted Keys is enabled for this address. To be able to send to this address, first trust public keys that can be used for sending."]);return hs=function(){return e},e}function gs(){var e=X()(["Setting up PGP allows you to send end-to-end encrypted emails with a non-Protonmail user that uses a PGP compatible service."]);return gs=function(){return e},e}function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function js(){var e=X()(["Invalid public key file"]);return js=function(){return e},e}var Es,xs=function(e){var t=e.model,n=e.setModel,r=Object(lt.a)().createNotification,a=!!t.keys.api.length,c=!!t.keys.pinned.length;return i.a.createElement(i.a.Fragment,null,!a&&i.a.createElement(dt.a,{learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object(_.c)("Info").t(gs())),!!t.keys.pinned.length&&t.noPrimary&&i.a.createElement(dt.a,{type:"warning"},Object(_.c)("Info").t(hs())),t.pgpAddressDisabled&&i.a.createElement(dt.a,{type:"warning"},Object(_.c)("Info").t(vs())),a&&i.a.createElement(dt.a,{learnMore:"https://protonmail.com/support/knowledge-base/address-verification/"},Object(_.c)("Info").t(bs())),!a&&!t.sign&&i.a.createElement(dt.a,{learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object(_.c)("Info").t(ps())),t.isPGPExternalWithoutWKDKeys&&t.keysExpired&&i.a.createElement(dt.a,{type:"error",learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object(_.c)("Info").t(ms())),!a&&i.a.createElement(Uc.a,null,i.a.createElement(Gt.a,{htmlFor:"encrypt-toggle"},Object(_.c)("Label").t(ds()),i.a.createElement(hl.a,{className:"ml0-5",title:Object(_.c)("Tooltip").t(fs())})),i.a.createElement(Io.a,null,i.a.createElement(Il.a,{id:"encrypt-toggle",checked:t.encrypt,disabled:!t.keys.pinned.length||t.keysExpired,onChange:function(e){var r=e.target;return n(Os({},t,{encrypt:r.checked,sign:!!r.checked||t.sign}))}}))),!a&&i.a.createElement(Uc.a,null,i.a.createElement(Gt.a,{htmlFor:"sign-toggle"},Object(_.c)("Label").t(ss()),i.a.createElement(hl.a,{className:"ml0-5",title:Object(_.c)("Tooltip").t(ls())})),i.a.createElement(Io.a,null,i.a.createElement(Il.a,{id:"sign-toggle",checked:t.sign,disabled:t.encrypt,onChange:function(e){var r=e.target;return n(Os({},t,{sign:r.checked,mimeType:""}))}}))),i.a.createElement(Uc.a,null,i.a.createElement(Gt.a,null,Object(_.c)("Label").t(us()),i.a.createElement(hl.a,{className:"ml0-5",title:Object(_.c)("Tooltip").t(is())})),i.a.createElement(Io.a,null,t.isPGPExternal&&i.a.createElement(Sl.a,{onFiles:function(e){if(!e.length)return r({type:"error",text:Object(_.c)("Error").t(js())});var a=t.keys.pinned.map((function(e){return e.getFingerprint()})),c=e.reduce((function(e,t){var n=t.getFingerprint();return a.includes(n)?(e.toUpdate.push(t),e):(e.toAdd.push(t),e)}),{toAdd:[],toUpdate:[]}),o=c.toAdd,i=c.toUpdate,u=t.keys.pinned.map((function(e){var t=e.getFingerprint(),n=i.find((function(e){return e.getFingerprint()===t}));return n||e})).concat(o);n(Os({},t,{keys:Os({},t.keys,{pinned:u}),trustedFingerprints:[].concat(fe()(t.trustedFingerprints),fe()(o.map((function(e){return e.getFingerprint()}))))}))},multiple:!0}))),(a||c)&&i.a.createElement(as,{model:t,setModel:n}),!a&&i.a.createElement(Uc.a,null,i.a.createElement(Gt.a,null,Object(_.c)("Label").t(os()),i.a.createElement(hl.a,{className:"ml0-5",title:Object(_.c)("Tooltip").t(cs())})),i.a.createElement(Io.a,null,i.a.createElement(Ml,{value:t.scheme,onChange:function(e){return n(Os({},t,{scheme:e}))}}))))};function ws(){var e=X()(["Show advanced PGP settings"]);return ws=function(){return e},e}function Cs(){var e=X()(["Hide advanced PGP settings"]);return Cs=function(){return e},e}function ks(){var e=X()(["Automatic indicates that the format in the composer is used to send to this user. Plain text indicates that the message will always be converted to plain text on send."]);return ks=function(){return e},e}function Ps(){var e=X()(["Email format"]);return Ps=function(){return e},e}function Ns(){var e=X()(["PGP/MIME automatically sends the message using the current composer mode. Please note that ProtonMail always signs PGP/MIME messages."]);return Ns=function(){return e},e}function Ds(){var e=X()(["PGP/Inline is only compatible with Plain Text format. Please note that ProtonMail always signs PGP/Inline messages."]);return Ds=function(){return e},e}function Is(){var e=X()(["Select the email format you want to be used by default when sending an email to this email address."]);return Is=function(){return e},e}function Ss(){var e=X()(["Email settings (",")"]);return Ss=function(){return e},e}function As(){var e=X()(["Save"]);return As=function(){return e},e}function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ls(){var e=X()(["Preferences saved"]);return Ls=function(){return e},e}var Ks=z.K.SEND_PGP_INLINE,Rs=z.K.SEND_PGP_MIME,Gs=lc,Fs=uc,Us=(Es={},Q()(Es,Ks,"pgp-inline"),Q()(Es,Rs,"pgp-mime"),Es),Bs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n,r){var a=n.getFingerprint(),c=r.getFingerprint(),o=t.includes(a),i=t.includes(c);return o^i?o?-1:1:o&&i?t.findIndex((function(e){return e===a}))-t.findIndex((function(e){return e===c})):e.findIndex((function(e){return e.getFingerprint()===a}))-e.findIndex((function(e){return e.getFingerprint()===c}))}},zs=function(e){var t=e.userKeysList,n=e.contactID,r=e.properties,a=e.emailProperty,c=ut()(e,["userKeysList","contactID","properties","emailProperty"]),u=Object(za.a)(),l=Object(G.a)().call,s=Object(kt.a)(),f=q()(s,2),d=f[0],m=f[1],p=Object(lt.a)().createNotification,b=Object(Bu.a)(),v=q()(b,2),h=v[0],g=h.PGPScheme,y=h.Sign,O=v[1],j=Object(o.useState)(!1),E=q()(j,2),x=E[0],w=E[1],C=a.value,k=a.group,P=Object(o.useState)({keys:{api:[],pinned:[]}}),N=q()(P,2),D=N[0],I=N[1],S=D.isPGPExternal&&D.sign,A="pgp-inline"===(D.scheme||Us[g]),M=function(e){var t=(D.isPGPInternal?fe()(D.keys.api):[].concat(fe()(D.keys.api),fe()(D.keys.pinned))).filter((function(e){return D.trustedFingerprints.includes(e.getFingerprint())}));return Object(we.f)(t,(function(e){return e.getFingerprint()})).map((function(t,n){return{field:"key",value:"data:application/pgp-keys;base64,".concat(Object(gl.j)(Object(gl.b)(t.toPacketlist().write()))),group:e,pref:"".concat(n+1)}}))};return Object(o.useEffect)((function(){var e,t,n,a,c,o,i,l,s,f,d,p,b,v,h,g,j,E;O||m(ke.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return e=r.filter((function(e){var t=e.field,n=e.group;return rc.includes(t)&&n===k})).reduce((function(e,t){var n=t.field,r=t.value,a=t.pref;if("key"===n&&r){var c=r.split(","),o=q()(c,2)[1],i=void 0===o?"":o,u=Object(gl.d)(Object(gl.g)(i));if(u.length){var l=Object(yl.b)(u).then((function(e){return{publicKey:q()(e,1)[0],pref:a}})).catch(ci.b);e.contactKeyPromises.push(l)}return e}return"x-pm-encrypt"===n&&r?(e.encrypt="true"===r,e):"x-pm-sign"===n&&r?(e.sign="true"===r,e):"x-pm-scheme"===n&&r?(e.scheme=r,e):"x-pm-mimetype"===n&&r?(e.mimeType=r,e):e}),{contactKeyPromises:[],mimeType:"",encrypt:!1,scheme:"",sign:1===y}),t=e.contactKeyPromises,n=e.mimeType,a=e.encrypt,c=e.scheme,o=e.sign,m.next=3,ke.a.awrap(Promise.all(t));case 3:return m.t0=Boolean,m.t1=ge,m.t2=function(e){return e.publicKey},i=m.sent.filter(m.t0).sort(m.t1).map(m.t2),m.next=9,ke.a.awrap(Object(kl.a)(u,C));case 9:return l=m.sent,s=El(l),f=!s,d=l.Keys.reduce((function(e,t,n){var r=t.Flags,a=l.publicKeys[n];return a&&(e.apiKeys.push(a),e.apiKeysFlags[a.getFingerprint()]=r),e}),{apiKeys:[],apiKeysFlags:Object.create(null)}),p=d.apiKeys,b=d.apiKeysFlags,m.next=15,ke.a.awrap(Promise.all([(O=l,x=void 0,w=void 0,x=O.Keys,w=void 0===x?[]:x,Promise.all(w.filter((function(e){return e.Flags&jl})).map((function(e){var t,n;return ke.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.PublicKey,r.next=3,ke.a.awrap(Object(gl.m)(t));case 3:return n=r.sent,r.abrupt("return",Object(gl.j)(Object(gl.b)(n)));case 5:case"end":return r.stop()}}))})))),wl(i)]));case 15:v=m.sent,h=q()(v,2),g=h[0],j=h[1],E=p.length?i.map((function(e){return e.getFingerprint()})):[],I({mimeType:n,encrypt:a,scheme:c,sign:o,email:C,keys:{api:p,pinned:i},apiKeysFlags:b,trustedFingerprints:E,isPGPExternal:f,isPGPInternal:s,isPGPExternalWithWKDKeys:f&&!!p.length,isPGPExternalWithoutWKDKeys:f&&!p.length,pgpAddressDisabled:xl(l),noPrimary:Cl(g,i),keysExpired:j});case 21:case"end":return m.stop()}var O,x,w})))}),[O]),Object(o.useEffect)((function(){var e,t;e=D.keys,ke.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ke.a.awrap(wl(e.pinned));case 2:t=n.sent,I((function(n){return Ts({},n,{keysExpired:t,encrypt:!(t||!e.pinned.length)&&n.encrypt})}));case 4:case"end":return n.stop()}}))}),[D.keys.pinned]),Object(o.useEffect)((function(){I((function(e){return Ts({},e,{keys:Ts({},e.keys,{api:fe()(e.keys.api).sort(Bs(e.keys.api,e.trustedFingerprints))})})}))}),[D.trustedFingerprints]),Object(o.useEffect)((function(){if(S)return A?I((function(e){return Ts({},e,{mimeType:z.D.PLAINTEXT})})):void I((function(e){return Ts({},e,{mimeType:""})}))}),[S,A]),i.a.createElement(pt.a,ot()({loading:d||O,submit:Object(_.c)("Action").t(As()),onSubmit:function(){return m(ke.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return e=r.filter((function(e){var t=e.field,n=e.group;return!["email"].concat(fe()(rc)).includes(t)||n&&n!==k})),o=[a,D.mimeType&&{field:"x-pm-mimetype",value:D.mimeType,group:k},D.isPGPExternalWithoutWKDKeys&&D.encrypt&&{field:"x-pm-encrypt",value:"true",group:k},D.isPGPExternalWithoutWKDKeys&&D.sign&&{field:"x-pm-sign",value:"true",group:k},D.isPGPExternalWithoutWKDKeys&&D.scheme&&{field:"x-pm-scheme",value:D.scheme,group:k}].concat(fe()(M(k))).filter(Boolean),i=ye(e.concat(o)),d.next=5,ke.a.awrap(hc([i],t[0]));case 5:return s=d.sent,f=yc(i)?Gs:Fs,d.next=9,ke.a.awrap(u(Object(qa.a)({Contacts:s,Overwrite:+!!n,Labels:f})));case 9:return d.next=11,ke.a.awrap(l());case 11:c.onClose(),p({text:Object(_.c)("Success").t(Ls())});case 13:case"end":return d.stop()}})));var e,o,i,s,f},title:Object(_.c)("Title").t(Ss(),C)},c),S?A?i.a.createElement(dt.a,null,Object(_.c)("Info").t(Ds())):i.a.createElement(dt.a,null,Object(_.c)("Info").t(Ns())):i.a.createElement(dt.a,null,Object(_.c)("Info").t(Is())),i.a.createElement(Uc.a,null,i.a.createElement(Gt.a,null,Object(_.c)("Label").t(Ps()),i.a.createElement(hl.a,{className:"ml0-5",title:Object(_.c)("Tooltip").t(ks())})),i.a.createElement(Io.a,null,i.a.createElement(Dl,{disabled:S,value:D.mimeType,onChange:function(e){return I(Ts({},D,{mimeType:e}))}}))),i.a.createElement("div",{className:"mb1"},i.a.createElement(Qe.a,{onClick:function(){return w(!x)},disabled:d||O},x?Object(_.c)("Action").t(Cs()):Object(_.c)("Action").t(ws()))),x?i.a.createElement(xs,{model:D,setModel:I}):null)};function Vs(){var e=X()(["Email settings"]);return Vs=function(){return e},e}function Ws(){var e=X()(["Contact group"]);return Ws=function(){return e},e}var Ys=function(e){var t=e.property,n=e.properties,r=e.contactID,a=e.contactEmail,c=e.contactGroups,o=void 0===c?[]:c,u=e.userKeysList,l=e.leftBlockWidth,s=void 0===l?"w30":l,f=e.rightBlockWidth,d=void 0===f?"w70":f,m=Object(ae.b)(),p=q()(m,1)[0].hasPaidMail,b=Object(ee.a)().createModal,v={work:Object(_.c)("Contact type label").t(ia()),home:Object(_.c)("Contact type label").t(oa()),cell:Object(_.c)("Contact type label").t(ca()),main:Object(_.c)("Contact type label").t(aa()),yomi:Object(_.c)("Contact type label").t(ra()),other:Object(_.c)("Contact type label").t(na()),fax:Object(_.c)("Contact type label").t(ta()),pager:Object(_.c)("Contact type label").t(ea())},h=t.field,g=t.first,y=Se(Ae(t.type)),O=v[y]||y,j=t.value;return i.a.createElement(Uc.a,null,i.a.createElement("div",{className:Object(oi.a)(["flex flex-items-center",s])},i.a.createElement(zo,{field:h,type:O,first:g})),i.a.createElement("div",{className:Object(oi.a)(["flex flex-nowrap flex-items-center pl1",d])},i.a.createElement("span",{className:Object(oi.a)(["mr0-5 flex-item-fluid",!["note"].includes(h)&&"ellipsis"])},function(){if("email"===h)return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"mr0-5",href:"mailto:".concat(j),title:j},j),o.map((function(e){var t=e.ID,n=e.Name,r=e.Color;return i.a.createElement(au,{key:t,name:n,color:r})})));if("url"===h)return i.a.createElement("a",{href:j,target:"_blank",rel:"noopener noreferrer"},j);if("tel"===h)return i.a.createElement("a",{href:"tel:".concat(j)},j);if(["bday","anniversary"].includes(h)){var e=[Object(go.a)(j),new Date(j)].filter(yo.a),t=q()(e,1)[0];return t?Object(Zu.a)(t,"PP",{locale:qu.a}):j}return"logo"===h?i.a.createElement(Hu.a,{src:j}):"adr"===h?Me(j):j}()),i.a.createElement("span",{className:"flex-item-noshrink"},function(){switch(h){case"email":if(!a)return null;return i.a.createElement(Xu.a,null,p?i.a.createElement(vl,{className:"pm-button pm-button--for-icon pm-group-button",contactEmails:[a]},i.a.createElement(Jo.a,{title:Object(_.c)("Title").t(Ws())},i.a.createElement(ht.a,{name:"contacts-groups"}))):null,i.a.createElement(Ju.a,{onClick:function(){b(i.a.createElement(zs,{userKeysList:u,contactID:r,emailProperty:t,properties:n}))},className:"pm-button--for-icon"},i.a.createElement(Jo.a,{title:Object(_.c)("Title").t(Vs())},i.a.createElement(ht.a,{name:"settings-singular"}))),i.a.createElement(Qu.a,{className:"pm-button--for-icon pm-group-button",value:j}));case"tel":return i.a.createElement(Qu.a,{className:"pm-button--for-icon",value:j});case"adr":return i.a.createElement(Qu.a,{className:"pm-button--for-icon",value:Me(j)});default:return null}}())))};function Hs(){var e=X()(["Other information"]);return Hs=function(){return e},e}function Xs(){var e=X()(["Addresses"]);return Xs=function(){return e},e}function Js(){var e=X()(["Phone numbers"]);return Js=function(){return e},e}function Qs(){var e=X()(["Email addresses"]);return Qs=function(){return e},e}var Zs={email:"email",tel:"phone",adr:"address",other:"info"},qs=function(e){var t=e.properties,n=e.contactID,r=e.contactEmails,a=e.contactGroupsMap,c=void 0===a?{}:a,o=e.field,u=e.userKeysList,l=e.leftBlockWidth,s=void 0===l?"w30":l,f=e.rightBlockWidth,d=void 0===f?"w70":f,m={email:Object(_.c)("Title").t(Qs()),tel:Object(_.c)("Title").t(Js()),adr:Object(_.c)("Title").t(Xs()),other:Object(_.c)("Title").t(Hs())},p=o?m[o]:m.other,b=o?Zs[o]:Zs.other,v=["photo","org"],h=o?[o]:nc.filter((function(e){return!v.includes(e)})),g=t.filter((function(e){var t=e.field;return h.includes(t)}));return g.length?i.a.createElement("div",{className:"border-bottom mb1"},i.a.createElement("h3",{className:"mb1 flex flex-nowrap flex-items-center"},i.a.createElement(ht.a,{name:b,className:"mr0-5"}),i.a.createElement("span",{className:"mr0-5"},p),"email"===o?null:i.a.createElement(Zo,{className:"flex"})),g.map((function(e,a){var o=r&&r[a],l=o&&o.LabelIDs.map((function(e){return c[e]})).filter(Boolean);return i.a.createElement(Ys,{key:a.toString(),contactID:n,contactEmail:o,contactGroups:l,property:e,properties:t,userKeysList:u,leftBlockWidth:s,rightBlockWidth:d})}))):null};function _s(){var e=X()(["Export"]);return _s=function(){return e},e}function $s(){var e=X()(["Edit"]);return $s=function(){return e},e}function ef(){var e=X()(["Contact details"]);return ef=function(){return e},e}var tf=function(e){var t=e.properties,n=void 0===t?[]:t,r=e.contactID,a=e.contactEmails,c=e.contactGroupsMap,o=e.userKeysList,u=e.errors,l=Object(ee.a)().createModal,s=Object(ae.b)(),f=q()(s,1)[0];return i.a.createElement("div",{className:"view-column-detail flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"flex flex-spacebetween flex-items-center border-bottom"},i.a.createElement("div",{className:"p1"},i.a.createElement("h2",{className:"m0"},Object(_.c)("Title").t(ef()))),i.a.createElement("div",{className:"p1"},i.a.createElement(st.a,{onClick:function(){l(i.a.createElement(Ii,{properties:n,contactID:r}))},className:"mr1"},Object(_.c)("Action").t($s())),i.a.createElement(gt.a,{onClick:function(){return function(e){var t=e.filter((function(e){var t=e.field;return["fn","email"].includes(t)})).map((function(e){var t=e.value;return Array.isArray(t)?t[0]:t}))[0],n=Fe(e),r=new Blob([n.toString()],{type:"data:text/plain;charset=utf-8;"});Object(Uu.a)(r,"".concat(t,".vcf"))}(n)}},Object(_.c)("Action").t(_s())))),i.a.createElement(Fu,{errors:u}),i.a.createElement(Yu,{properties:n}),i.a.createElement("div",{className:"pl1 pr1"},i.a.createElement(qs,{userKeysList:o,contactID:r,contactEmails:a,contactGroupsMap:c,properties:n,field:"email"}),f.hasPaidMail?i.a.createElement(i.a.Fragment,null,i.a.createElement(qs,{contactID:r,properties:n,field:"tel"}),i.a.createElement(qs,{contactID:r,properties:n,field:"adr"}),i.a.createElement(qs,{contactID:r,properties:n})):i.a.createElement(di,null)))},nf=function(e){var t=e.contactID,n=e.contactEmails,r=e.contactGroupsMap,a=e.userKeysList,c=void 0===a?[]:a,u=Object(o.useState)({ID:t}),l=q()(u,2),s=l[0],f=l[1],d=Object(o.useRef)(t),m=ju(t),p=q()(m,2),b=p[0],v=p[1];Object(o.useEffect)((function(){if(b&&c.length){d.current=b.ID;var e=Object(yu.f)(c),t=e.publicKeys,n=e.privateKeys;Iu(b,{publicKeys:t,privateKeys:n}).then((function(e){var t=e.properties,n=e.error;d.current===b.ID&&f({ID:b.ID,properties:t,error:n})}))}}),[b,c]);var h=s.properties,g=s.errors,y=s.ID;return v||!h||y!==t?i.a.createElement(ie.a,null):i.a.createElement(tf,{properties:h,contactID:t,contactEmails:n,contactGroupsMap:r,userKeysList:c,errors:g})},rf=n("2iEm"),af=n("pc7d"),cf=n.n(af),of=n("X8Oj"),uf=n.n(of),lf=n("uLbS"),sf=n.n(lf),ff=n("6C09"),df=n.n(ff),mf=n("hGKC"),pf=n.n(mf);function bf(){var e=X()(["No contacts exported."]);return bf=function(){return e},e}function vf(){var e=X()([""," out of "," contacts successfully exported."]);return vf=function(){return e},e}function hf(){var e=X()(["Decrypting contacts... This may take a few minutes. When the process is completed, you will be able to download the file with all your contacts exported."]);return hf=function(){return e},e}function gf(){var e=X()(["Exporting contacts"]);return gf=function(){return e},e}function yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Of(){var e=X()(["Save"]);return Of=function(){return e},e}function jf(){var e=X()(["Cancel"]);return jf=function(){return e},e}var Ef=function(e){var t,n,r=e.contactGroupID,a=e.userKeysList,c=e.onSave,u=void 0===c?ci.b:c,l=ut()(e,["contactGroupID","userKeysList","onSave"]),s=Object(za.a)(),f=Object(ne.a)(),d=q()(f,2),m=d[0],p=d[1],b=Object(o.useState)([]),v=q()(b,2),h=v[0],g=v[1],y=Object(o.useState)([]),O=q()(y,2),j=O[0],E=O[1],x=r?m.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)})).length:m.length,w=Math.ceil(x/50);return Object(o.useEffect)((function(){var e=new AbortController,t=function(t){return s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yf(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{signal:e.signal}))},n=Object(yu.f)(a),c=n.publicKeys,o=n.privateKeys,i=function(e,n){var a,i,u,l,s,f,d,m,p,b;return ke.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return a=n.signal,v.next=3,ke.a.awrap(t(Object(qa.g)({LabelID:r,Page:e,PageSize:50})));case 3:i=v.sent,u=i.Contacts,l=!0,s=!1,f=void 0,v.prev=8,d=function(){var e,t,n,r,i,u,l,s;return ke.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(e=p.value,t=e.Cards,n=e.ID,!a.aborted){f.next=3;break}return f.abrupt("return",{v:void 0});case 3:return f.prev=3,f.next=6,ke.a.awrap(Iu({Cards:t},{publicKeys:c,privateKeys:o}));case 6:if(r=f.sent,i=r.properties,u=void 0===i?[]:i,l=r.errors,!(void 0===l?[]:l).length){f.next=13;break}throw new Error("Error decrypting contact");case 13:s=Fe(u).toString(),!a.aborted&&g((function(e){return[].concat(fe()(e),[s])})),f.next=20;break;case 17:f.prev=17,f.t0=f.catch(3),!a.aborted&&E((function(e){return[].concat(fe()(e),[n])}));case 20:case"end":return f.stop()}}),null,null,[[3,17]])},m=u[Symbol.iterator]();case 11:if(l=(p=m.next()).done){v.next=20;break}return v.next=14,ke.a.awrap(d());case 14:if("object"!=typeof(b=v.sent)){v.next=17;break}return v.abrupt("return",b.v);case 17:l=!0,v.next=11;break;case 20:v.next=26;break;case 22:v.prev=22,v.t0=v.catch(8),s=!0,f=v.t0;case 26:v.prev=26,v.prev=27,l||null==m.return||m.return();case 29:if(v.prev=29,!s){v.next=32;break}throw f;case 32:return v.finish(29);case 33:return v.finish(26);case 34:case"end":return v.stop()}}),null,null,[[8,22,26,34],[27,,29,33]])};return function(e){var t;return ke.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t=0;case 1:if(!(t<w)){n.next=7;break}return n.next=4,ke.a.awrap(Promise.all([i(t,e),Object(_a.b)(100)]));case 4:t++,n.next=1;break;case 7:case"end":return n.stop()}}))}(e).catch((function(e){if("AbortError"!==e.name)throw l.onClose(),e})),function(){e.abort()}}),[]),i.a.createElement(pt.a,ot()({title:Object(_.c)("Title").t(gf()),onSubmit:function(){return e=h.join("\n"),t=new Blob([e],{type:"data:text/plain;charset=utf-8;"}),Object(Uu.a)(t,"".concat("protonContacts","-").concat(Object(Zu.a)(Date.now(),"yyyy-MM-dd"),".vcf")),u(),void l.onClose();var e,t},footer:(t={loading:h.length+j.length!==x},n=t.loading,i.a.createElement(i.a.Fragment,null,i.a.createElement(mt.a,null,Object(_.c)("Action").t(jf())),i.a.createElement(st.a,{loading:n,type:"submit"},Object(_.c)("Action").t(Of())))),loading:p},l),i.a.createElement(dt.a,null,Object(_.c)("Description").t(hf())),i.a.createElement(Ha,{id:"progress-export-contacts",alt:"contact-loader",value:jc(h.length,j.length,x),failed:!h.length,displaySuccess:Object(_.c)("Progress bar description").t(vf(),h.length,x),displayFailed:Object(_.c)("Progress bar description").t(bf())}))};function xf(){var e=X()(["Merge"]);return xf=function(){return e},e}function wf(){var e=X()([""," Do you want to merge these contacts now?"]);return wf=function(){return e},e}function Cf(){var e=X()(["Two or more contacts appear to be identical."]);return Cf=function(){return e},e}var kf=function(e){var t=e.loadingUserKeys,n=e.style,r=e.onMerge,a=ut()(e,["loadingUserKeys","style","onMerge"]),c=i.a.createElement("b",{key:"boldface"},Object(_.c)("Info").t(Cf()));return i.a.createElement("div",ot()({style:n,className:"p1 flex flex-nowrap flex-items-center bg-primary color-white"},a),i.a.createElement("div",{className:"mr1 flex-item-noshrink"},i.a.createElement(ht.a,{name:"merge",color:"white"})),i.a.createElement("div",{className:"alignleft"},i.a.createElement("span",{className:"mr0-5"},Object(_.c)("Info").jt(wf(),c)),i.a.createElement(gt.a,{className:"pm-button--small pm-button--primary pm-button--whiteborder alignbaseline",disabled:t,onClick:r},Object(_.c)("Action").t(xf()))))};function Pf(){var e=X()(["Settings"]);return Pf=function(){return e},e}function Nf(){var e=X()(["You can decide whether or not contacts are automatically added to your address book by navigating to ",""]);return Nf=function(){return e},e}function Df(){var e=X()(["You have "," in your address book"]);return Df=function(){return e},e}function If(){var e=X()(["Contacts"]);return If=function(){return e},e}function Sf(){var e=X()(["Settings > General > Contacts"]);return Sf=function(){return e},e}function Af(){var e=X()([""," contacts"]);return Af=function(){return e},e}function Mf(){var e=X()(["one contact"]);return Mf=function(){return e},e}function Tf(){var e=X()(["Export"]);return Tf=function(){return e},e}function Lf(){var e=X()(["Edit"]);return Lf=function(){return e},e}function Kf(){var e=X()(["You have "," in this group."]);return Kf=function(){return e},e}function Rf(){var e=X()([""," contacts"]);return Rf=function(){return e},e}function Gf(){var e=X()(["1 contact"]);return Gf=function(){return e},e}function Ff(){var e=X()(["Deselect"]);return Ff=function(){return e},e}function Uf(){var e=X()(["You selected "," from your address book."]);return Uf=function(){return e},e}function Bf(){var e=X()(["1 contact"]);return Bf=function(){return e},e}function zf(){var e=X()(["Upgrade"]);return zf=function(){return e},e}function Vf(){var e=X()(["Upgrade to a paid plan to enable encrypted contact details and manage contact groups."]);return Vf=function(){return e},e}function Wf(){var e=X()(["Unlock features"]);return Wf=function(){return e},e}function Yf(){var e=X()(["Export"]);return Yf=function(){return e},e}function Hf(){var e=X()(["Create a backup of your ProtonMail contacts by exporting them to a vCard file."]);return Hf=function(){return e},e}function Xf(){var e=X()(["Export contacts"]);return Xf=function(){return e},e}function Jf(){var e=X()(["Import"]);return Jf=function(){return e},e}function Qf(){var e=X()(["Add contacts to your ProtonMail account by importing them from a CSV or vCard file."]);return Qf=function(){return e},e}function Zf(){var e=X()(["Import contacts"]);return Zf=function(){return e},e}function qf(){var e=X()(["Groups"]);return qf=function(){return e},e}function _f(){var e=X()(["Use groups to send email to a list of addresses you regularly communicate with."]);return _f=function(){return e},e}function $f(){var e=X()(["Manage groups"]);return $f=function(){return e},e}function ed(){var e=X()(["Export"]);return ed=function(){return e},e}function td(){var e=X()(["Create a backup of your ProtonMail contacts by exporting them to a vCard file."]);return td=function(){return e},e}function nd(){var e=X()(["Export contacts"]);return nd=function(){return e},e}function rd(){var e=X()(["Import"]);return rd=function(){return e},e}function ad(){var e=X()(["Add contacts to your ProtonMail account by importing them from a CSV or vCard file."]);return ad=function(){return e},e}function cd(){var e=X()(["Import contacts"]);return cd=function(){return e},e}var od=function(e){var t=e.loadingUserKeys,n=e.onImport,r=e.onExport,a=e.onGroups;return i.a.createElement("div",{className:"flex flex-nowrap onmobile-flex-column"},i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:cf.a,alt:"contact-import",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t(cd())),i.a.createElement("p",null,Object(_.c)("Info").t(ad()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(st.a,{className:"bold",onClick:n,disabled:t},Object(_.c)("Action").t(rd())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:uf.a,alt:"contact-export",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t(nd())),i.a.createElement("p",null,Object(_.c)("Info").t(td()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(st.a,{className:"bold",onClick:r,disabled:t},Object(_.c)("Action").t(ed())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid onmobile-mr0 onmobile-mb1 p1 aligncenter"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:sf.a,alt:"contact-groups",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t($f())),i.a.createElement("p",null,Object(_.c)("Info").t(_f()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(st.a,{className:"bold",onClick:a},Object(_.c)("Action").t(qf())))))},id=function(e){var t=e.loadingUserKeys,n=e.onImport,r=e.onExport;return i.a.createElement("div",{className:"flex flex-nowrap onmobile-flex-column"},i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:cf.a,alt:"contact-import",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t(Zf())),i.a.createElement("p",null,Object(_.c)("Info").t(Qf()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(st.a,{className:"bold",onClick:n,disabled:t},Object(_.c)("Action").t(Jf())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:uf.a,alt:"contact-export",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t(Xf())),i.a.createElement("p",null,Object(_.c)("Info").t(Hf()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(st.a,{className:"bold",onClick:r,disabled:t},Object(_.c)("Action").t(Yf())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid onmobile-mr0 onmobile-mb1 p1 aligncenter"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:df.a,alt:"contact-unlock-features",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t(Wf())),i.a.createElement("p",null,Object(_.c)("Info").t(Vf()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(st.a,{className:"bold",onClick:function(){return Object(f.h)("/settings/subscription")}},Object(_.c)("Action").t(zf())))))},ud=function(e){var t=e.totalContacts,n=void 0===t?0:t,r=e.selectedContacts,a=void 0===r?0:r,c=e.totalContactsInGroup,o=void 0===c?0:c,u=e.contactGroupID,l=e.contactGroupName,s=e.user,f=e.userKeysList,d=e.loadingUserKeys,m=e.onUncheck,p=e.canMerge,b=e.onMerge,v=e.onImport,h=e.onExport,g=e.onGroups,y=s.hasPaidMail,O=Object(ee.a)().createModal;if(a){var j=i.a.createElement("b",{key:"total-contacts"},Object(_.c)("Info").ngettext(Object(_.msgid)(Bf()),"".concat(a," contacts"),a));return i.a.createElement("div",{className:"p2 view-column-detail flex flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter center mbauto mtauto"},i.a.createElement("div",{className:"mb2"},Object(_.c)("Info").jt(Uf(),j)),i.a.createElement("div",{className:"aligncenter mb2"},i.a.createElement("img",{src:pf.a,alt:"contact-group-card"})),i.a.createElement("div",{className:"mb2"},i.a.createElement(gt.a,{className:"mr1",onClick:m},Object(_.c)("Action").ngettext(Object(_.msgid)(Ff()),"Deselect all",a)))))}if(u){var E=i.a.createElement("b",{key:"total-contacts"},1===o?Object(_.c)("Info").t(Gf()):Object(_.c)("Info").t(Rf(),o));return i.a.createElement("div",{className:"p2 view-column-detail flex flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter center mbauto mtauto"},i.a.createElement("h1",{className:"ellipsis lh-standard"},l),i.a.createElement("div",{className:"mb2"},Object(_.c)("Info").jt(Kf(),E)),i.a.createElement("div",{className:"aligncenter mb2"},i.a.createElement("img",{src:pf.a,alt:"contact-group-card"})),i.a.createElement("div",{className:"mb2"},i.a.createElement(gt.a,{className:"mr1",onClick:function(){return O(i.a.createElement(nu,{contactGroupID:u}))}},Object(_.c)("Action").t(Lf())),!!o&&i.a.createElement(gt.a,{onClick:function(){return O(i.a.createElement(Ef,{contactGroupID:u,userKeysList:f}))},disabled:d},Object(_.c)("Action").t(Tf())))))}var x=1===n?i.a.createElement("b",{key:"boldface"},Object(_.c)("Info").t(Mf())):i.a.createElement("b",{key:"boldface"},Object(_.c)("Info").t(Af(),n)),w=i.a.createElement("b",{key:"boldface-2"},Object(_.c)("Info").t(Sf()));return i.a.createElement("div",{className:"p2 view-column-detail flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter mt2"},i.a.createElement("h1",null,Object(_.c)("Title").t(If())),i.a.createElement("div",{className:"mb2"},Object(_.c)("Info").jt(Df(),x)),i.a.createElement("div",{className:"mb1"},Object(_.c)("Info").jt(Nf(),w)),i.a.createElement("div",{className:"mb1"},i.a.createElement(rf.a,{to:"/contacts/settings",className:"inline-flex flex-nowrap nodecoration"},i.a.createElement(ht.a,{className:"mr0-5 flex-item-centered-vert fill-primary",name:"settings-master"}),i.a.createElement("span",null,Object(_.c)("Title").t(Pf())))),p&&i.a.createElement("div",{className:"mb2"},i.a.createElement(kf,{loadingUserKeys:d,onMerge:b}))),y?i.a.createElement(od,{userKeysList:f,loadingUserKeys:d,onImport:v,onExport:function(){return h()},onGroups:g}):i.a.createElement(id,{loadingUserKeys:d,onImport:v,onExport:function(){return h()}}))},ld=n("a5Ah");function sd(){var e=X()(["Delete"]);return sd=function(){return e},e}var fd=function(e){var t=e.user,n=e.onCheck,r=e.onDelete,a=e.checked,c=void 0!==a&&a,u=e.activeIDs,l=void 0===u?[]:u,s=e.contactEmailsMap,f=void 0===s?{}:s,d=e.simplified,m=void 0!==d&&d,p=Object(o.useMemo)((function(){return l.reduce((function(e,t){return f[t]?e.concat(f[t]):e}),[])}),[l,f]);return m?i.a.createElement("div",{className:"toolbar flex noprint"},i.a.createElement(rf.a,{to:"/contacts",className:"toolbar-button"},i.a.createElement(ht.a,{name:"arrow-left",className:"toolbar-icon mauto"}))):i.a.createElement("div",{className:"toolbar flex noprint"},i.a.createElement(Rt.a,{className:"flex pm-select-all ml0-75 pl1 pr1",checked:c,onChange:function(e){var t=e.target;return n(t.checked)}}),i.a.createElement(ld.a,null),i.a.createElement("button",{type:"button",title:Object(_.c)("Tooltip").t(sd()),className:"toolbar-button",onClick:r,disabled:!l.length},i.a.createElement(ht.a,{name:"delete",className:"toolbar-icon mauto"})),t.hasPaidMail?i.a.createElement(vl,{className:"toolbar-button toolbar-button--dropdown",disabled:!p.length,contactEmails:p,forToolbar:!0},i.a.createElement(ht.a,{name:"contacts-groups",className:"toolbar-icon mauto"})):null)},dd=n("llAM"),md=n("VjF5"),pd=n("+4In"),bd=n("c47Q"),vd=n("domY"),hd=n("SOA7"),gd=n("K/no"),yd=n("JjEE");function Od(){var e=X()(["Settings"]);return Od=function(){return e},e}function jd(){var e=X()(["Search contacts"]);return jd=function(){return e},e}function Ed(){var e=X()(["Contacts"]);return Ed=function(){return e},e}function xd(){var e=X()(["Search"]);return xd=function(){return e},e}var wd=function(e){var t=e.title,n=e.search,r=e.onSearch,a=e.onClearSearch,c=e.expanded,o=e.onToggleExpand,u=e.inSettings,l=void 0!==u&&u,s=e.isNarrow,f=void 0!==s&&s,d=e.history,m=Object(ae.b)(),p=q()(m,1)[0].hasPaidMail,b=Object(ee.a)().createModal;return i.a.createElement("header",{className:"header flex flex-items-center flex-nowrap reset4print"},i.a.createElement(dd.a,{url:"/contacts",className:"nomobile"}),i.a.createElement(md.a,{expanded:c,onToggle:o}),t&&f?i.a.createElement("span",{className:"h3 mb0 ellipsis lh-standard"},t):null,l||f?null:i.a.createElement(pd.a,{placeholder:Object(_.c)("Placeholder").t(xd()),value:n,onChange:r}),i.a.createElement(bd.a,null,p||f?null:i.a.createElement(vd.a,{external:!0}),f&&!l?null:i.a.createElement(hd.a,{className:"nomobile",to:"/contacts",icon:"contacts",text:Object(_.c)("Title").t(Ed()),"aria-current":!l}),!l&&f?i.a.createElement(gd.a,{content:i.a.createElement(ht.a,{name:"search",size:25,className:"topnav-icon mr0-5 flex-item-centered-vert fill-white"}),placeholder:Object(_.c)("Placeholder").t(jd()),search:n,onSearch:r,hasCaret:!1}):null,f&&l?null:i.a.createElement(hd.a,{to:"/contacts/settings/general",icon:"settings-master",text:Object(_.c)("Title").t(Od()),"aria-current":l})),f&&!l?i.a.createElement(yd.a,{onClick:function(){return b(i.a.createElement(Ii,{history:d,onAdd:a}))},icon:"plus"}):null)},Cd=n("BMtv");function kd(){var e=X()(["This feature requires a paid Proton account"]);return kd=function(){return e},e}function Pd(){var e=X()(["Upgrade"]);return Pd=function(){return e},e}function Nd(){var e=X()(["Upgrade required"]);return Nd=function(){return e},e}var Dd=function(e){var t=e.onConfirm,n=e.onClose,r=ut()(e,["onConfirm","onClose"]);return i.a.createElement(ft.a,ot()({title:Object(_.c)("Title").t(Nd()),onConfirm:function(){Object(f.h)("/settings/subscription"),t&&t()},onClose:n,confirm:Object(_.c)("Action").t(Pd())},r),i.a.createElement(dt.a,{type:"warning"},Object(_.c)("Warning").t(kd())))};function Id(){var e=X()(["Add contact"]);return Id=function(){return e},e}function Sd(){var e=X()(["Groups"]);return Sd=function(){return e},e}function Ad(){var e=X()(["Export all"]);return Ad=function(){return e},e}function Md(){var e=X()(["Import"]);return Md=function(){return e},e}function Td(){var e=X()(["Contacts"]);return Td=function(){return e},e}var Ld=function(e){var t=e.url,n=e.user,r=e.userKeysList,a=void 0===r?[]:r,c=e.loadingUserKeys,o=e.totalContacts,u=e.contactGroups,l=void 0===u?[]:u,s=e.expanded,f=e.onToggleExpand,d=e.onClearSearch,m=e.history,p=n.hasPaidMail,b=Object(ee.a)().createModal,v=[{icon:"contacts",isActive:function(e,t){return!!e&&!new URLSearchParams(t.search).get("contactGroupID")},text:Object(_.c)("Link").t(Td()),link:"/contacts"},!c&&{type:"button",className:"alignleft",icon:"import",text:Object(_.c)("Link").t(Md()),onClick:function(){b(i.a.createElement(io,{userKeysList:a}))}},o&&!c&&{type:"button",className:"alignleft",icon:"export",text:Object(_.c)("Link").t(Ad()),onClick:function(){b(i.a.createElement(Ef,{userKeysList:a}))}},{type:"button",className:"alignleft",icon:"settings-singular",text:Object(_.c)("Link").t(Sd()),onClick:function(){if(!p)return b(i.a.createElement(Dd,null));m.push("/contacts/settings/groups")}}];p&&v.push.apply(v,fe()(l.map((function(e){var t=e.Name,n=e.Color,r=e.ID;return{icon:"contacts-groups",isActive:function(e,t){return new URLSearchParams(t.search).get("contactGroupID")===r},color:n,text:t,link:"/contacts?contactGroupID=".concat(r)}}))));return i.a.createElement(Cd.a,{expanded:s,onToggleExpand:f,url:t,list:v.filter(Boolean),mobileLinks:[{to:"/inbox",icon:"protonmail",external:!0,current:!1},{to:"/contacts",icon:"protoncontacts",external:!1,current:!0}]},i.a.createElement("div",{className:"pl1 pr1 nomobile"},i.a.createElement(st.a,{className:"pm-button--large bold mt0-25 w100",onClick:function(){return b(i.a.createElement(Ii,{history:m,onAdd:d}))}},Object(_.c)("Action").t(Id()))))},Kd=function(e,t,n){var r=n.oldIndex,a=n.newIndex;return e.map((function(e,n){return n===t?Object(we.c)(e,r,a):e}))},Rd=function(e){var t=e.properties,n=void 0===t?[]:t,r=e.hasPaidMail,a=Ee(n,"fn"),c=xe(n,"email"),o=xe(n,"tel"),u=xe(n,"adr"),l=xe(n,"org"),s=xe(n,"note"),f=[[{prop:"Name",icon:"contact",component:a}],c.length&&c.map((function(e){return{prop:"Email",icon:"email",component:i.a.createElement("a",{href:"mailto:".concat(e)},e)}})),r&&o.length&&o.map((function(e){return{prop:"Phone",icon:"phone",component:i.a.createElement("a",{href:"tel:".concat(e)},e)}})),r&&u.length&&u.map((function(e){return{prop:"Address",icon:"address",component:Me(e)}})),r&&l.length&&l.map((function(e){return{prop:"Organization",icon:"organization",component:e}})),r&&s.length&&s.map((function(e){return{prop:"Note",icon:"note",component:e}}))].filter(Boolean);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Nt.a,{className:"flex flex-nowrap"},i.a.createElement("div",{className:"flex flex-column flex-nowrap mr2"},f.map((function(e){return i.a.createElement("div",{key:e[0].prop,className:"mb1"},e.map((function(e,t){var n=e.prop,r=e.icon;return i.a.createElement("div",{key:"icon-".concat(t),className:"flex flex-items-center flex-nowrap"},i.a.createElement(ht.a,{name:r,className:Object(oi.a)(["mr0-5 flex-item-noshrink",t&&"nonvisible"])}),i.a.createElement("span",null,n))})))}))),i.a.createElement("div",{className:"flex flex-column"},f.map((function(e){return i.a.createElement("div",{key:e[0].prop,className:"mb1"},e.map((function(e,t){var n=e.component;return i.a.createElement("div",{key:"icon-".concat(t),className:"flex flex-items-center mw100 ellipsis"},n)})))})))),!r&&!![].concat(fe()(o),fe()(u),fe()(l),fe()(s)).length&&i.a.createElement(Nt.a,null,i.a.createElement(di,null)))};function Gd(){var e=X()(["Close"]);return Gd=function(){return e},e}function Fd(){var e=X()(["Contact Details"]);return Fd=function(){return e},e}function Ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Bd=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=ut()(e,["contactID","userKeysList","hasPaidMail"]),c=Object(za.a)(),u=Object(kt.a)(!0),l=q()(u,2),s=l[0],f=l[1],d=Object(o.useState)({properties:[],errors:[]}),m=q()(d,2),p=m[0],b=m[1];return Object(o.useEffect)((function(){var e,r,a,o,i;try{f(ke.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ke.a.awrap(c(Object(qa.d)(t)));case 2:return e=u.sent,r=e.Contact,u.next=6,ke.a.awrap(Iu(r,Object(yu.f)(n)));case 6:a=u.sent,o=a.properties,i=a.errors,b({properties:o,errors:i});case 10:case"end":return u.stop()}})))}catch(u){b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ud(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p,{errors:[3]}))}}),[]),i.a.createElement(pt.a,ot()({small:!0,title:Object(_.c)("Title").t(Fd()),onSubmit:a.onClose,footer:i.a.createElement(st.a,{type:"submit"},Object(_.c)("Action").t(Gd()))},a),s?i.a.createElement(ie.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(Fu,{errors:p.errors}),i.a.createElement(Rd,{properties:p.properties,hasPaidMail:r})))},zd=function(e){var t=e.error;return i.a.createElement("div",{className:"bg-global-attention p1"},i.a.createElement(ht.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},t))},Vd=n("wIs1");function Wd(){var e=X()(["No contacts merged."]);return Wd=function(){return e},e}function Yd(){var e=X()([""," out of "," contacts successfully merged."]);return Yd=function(){return e},e}function Hd(){var e=X()(["Merging contacts... This may take a few minutes. When the process is completed, you can close this modal."]);return Hd=function(){return e},e}function Xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xd(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qd=ic,Zd=lc,qd=uc,_d=z.b.SINGLE_SUCCESS,$d=Object(Vd.a)((function(e){var t=e.contactID,n=e.userKeysList,r=e.alreadyMerged,a=e.beMergedModel,c=void 0===a?{}:a,u=e.beDeletedModel,l=void 0===u?{}:u,s=e.totalBeMerged,f=void 0===s?0:s,d=e.onFinish,m=e.history,p=e.location,b=Object(za.a)(),v=Object(o.useMemo)((function(){return Object(yu.f)(n)}),[]),h=v.privateKeys,g=v.publicKeys,y=Object(kt.a)(!0),O=q()(y,2),j=O[0],E=O[1],x=Object(o.useState)({mergedAndEncrypted:[],failedOnMergeAndEncrypt:[],submitted:[],failedOnSubmit:[]}),w=q()(x,2),C=w[0],k=w[1];Object(o.useEffect)((function(){var e,n,a,o,i,u,s=new AbortController,f=function(e){return b(Jd({},e,{signal:s.signal}))},v=function(e,t){var n,r,a,c;return ke.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.signal.aborted){o.next=3;break}return o.abrupt("return",[]);case 3:return o.next=5,ke.a.awrap(f(Object(qa.d)(e)));case 5:return n=o.sent,r=n.Contact,o.next=9,ke.a.awrap(Iu(r,{privateKeys:h,publicKeys:g}));case 9:if(a=o.sent,c=a.properties,!a.errors.length){o.next=14;break}throw new Error("Error decrypting contact ".concat(e));case 14:return o.abrupt("return",c);case 15:case"end":return o.stop()}}))},y=function(){var e,t,n,r,a,c,o,i,u,l,s,f,d,m=arguments;return ke.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:e=m.length>0&&void 0!==m[0]?m[0]:[],t=m.length>1?m[1]:void 0,n=t.signal,r=[],a=!0,c=!1,o=void 0,p.prev=6,i=e[Symbol.iterator]();case 8:if(a=(u=i.next()).done){p.next=19;break}return l=u.value,p.next=12,ke.a.awrap(Promise.all([v(l,{signal:n}),Object(_a.b)(100)]));case 12:s=p.sent,f=q()(s,1),d=f[0],r.push(d);case 16:a=!0,p.next=8;break;case 19:p.next=25;break;case 21:p.prev=21,p.t0=p.catch(6),c=!0,o=p.t0;case 25:p.prev=25,p.prev=26,a||null==i.return||i.return();case 28:if(p.prev=28,!c){p.next=31;break}throw o;case 31:return p.finish(28);case 32:return p.finish(25);case 33:return p.abrupt("return",r);case 34:case"end":return p.stop()}}),null,null,[[6,21,25,33],[26,,28,32]])},O=function(e){var t,n,a,o,i,u;return ke.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(t=e.signal).aborted){l.next=3;break}return l.abrupt("return",{});case 3:return n=Object.values(c),a=q()(n,1),o=a[0],i=[],l.prev=5,l.next=8,ke.a.awrap(vc(r,{privateKey:h[0],publicKey:g[0]}));case 8:u=l.sent,i.push({contact:u}),!t.aborted&&k((function(e){return Jd({},e,{mergedAndEncrypted:[].concat(fe()(e.mergedAndEncrypted),fe()(o))})})),l.next=16;break;case 13:l.prev=13,l.t0=l.catch(5),!t.aborted&&k((function(e){return Jd({},e,{failedOnMergeAndEncrypt:[].concat(fe()(e.failedOnMergeAndEncrypt),fe()(o))})}));case 16:return l.abrupt("return",i);case 17:case"end":return l.stop()}}),null,null,[[5,13]])},j=function(e){var t,n,r,a,o,i;return ke.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:t=e.signal,n=[],r=function(){var e,r,c;return ke.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=o[a],!t.aborted){i.next=3;break}return i.abrupt("return",{v:{}});case 3:return i.prev=3,i.next=6,ke.a.awrap(y(e,{signal:t}));case 6:return r=i.sent,i.next=9,ke.a.awrap(vc(Xe(r),{privateKey:h[0],publicKey:g[0]}));case 9:c=i.sent,n.push({contact:c}),!t.aborted&&k((function(t){return Jd({},t,{mergedAndEncrypted:[].concat(fe()(t.mergedAndEncrypted),fe()(e))})})),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(3),!t.aborted&&k((function(t){return Jd({},t,{failedOnMergeAndEncrypt:[].concat(fe()(t.failedOnMergeAndEncrypt),fe()(e))})}));case 17:case"end":return i.stop()}}),null,null,[[3,14]])},a=0,o=Object.values(c);case 4:if(!(a<o.length)){u.next=13;break}return u.next=7,ke.a.awrap(r());case 7:if("object"!=typeof(i=u.sent)){u.next=10;break}return u.abrupt("return",i.v);case 10:a++,u.next=4;break;case 13:return u.abrupt("return",n);case 14:case"end":return u.stop()}}))},x=function(e,n){var r,a,o,i,u,l,s,d,b,v,h,g;return ke.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(r=e.contacts,a=void 0===r?[]:r,o=e.labels,!(i=n.signal).aborted&&a.length){y.next=4;break}return y.abrupt("return");case 4:return u=[],y.next=7,ke.a.awrap(f(Object(qa.a)({Contacts:a.map((function(e){return e.contact})),Overwrite:Qd,Labels:o})));case 7:if(y.t0=function(e){return e.Response},l=y.sent.Responses.map(y.t0),!i.aborted){y.next=11;break}return y.abrupt("return");case 11:for(s=!0,d=!1,b=void 0,y.prev=14,v=function(){var e=g.value,n=e.Code,r=e.Contact.ID,a=c[r],o=a.slice(1);n===_d?(!i.aborted&&k((function(e){return Jd({},e,{submitted:[].concat(fe()(e.submitted),fe()(a))})})),u.push.apply(u,fe()(o)),!i.aborted&&o.includes(t)&&m.replace(Jd({},p,{state:{ignoreClose:!0},pathname:"/contacts/".concat(r)}))):!i.aborted&&k((function(e){return Jd({},e,{failedOnSubmit:[].concat(fe()(e.failedOnSubmit),fe()(a))})}))},h=l[Symbol.iterator]();!(s=(g=h.next()).done);s=!0)v();y.next=23;break;case 19:y.prev=19,y.t1=y.catch(14),d=!0,b=y.t1;case 23:y.prev=23,y.prev=24,s||null==h.return||h.return();case 26:if(y.prev=26,!d){y.next=29;break}throw b;case 29:return y.finish(26);case 30:return y.finish(23);case 31:if(y.t2=!i.aborted&&!!u.length,!y.t2){y.next=35;break}return y.next=35,ke.a.awrap(f(Object(qa.c)(u)));case 35:case"end":return y.stop()}}),null,null,[[14,19,23,31],[24,,26,30]])},w=function(e,t){var n,r,a,c,o,i,u;return ke.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted){l.next=4;break}return l.abrupt("return");case 4:o=Object(we.a)(r,100),i=o.length,u=0;case 7:if(!(u<i)){l.next=13;break}return l.next=10,ke.a.awrap(Promise.all([x({contacts:o[u],labels:a},{signal:c}),Object(_a.b)(100)]));case 10:u++,l.next=7;break;case 13:case"end":return l.stop()}}))},C=function(e){var n,r;return ke.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.signal,r=Object.keys(l),n.aborted||!r.length){a.next=5;break}return a.next=5,ke.a.awrap(f(Object(qa.c)(r)));case 5:!n.aborted&&r.includes(t)&&m.replace(Jd({},p,{state:{ignoreClose:!0},pathname:"/contacts/".concat(l[t])}));case 6:case"end":return a.stop()}}))};return E((e=s,ke.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.signal,r){t.next=7;break}return t.next=4,ke.a.awrap(j({signal:n}));case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,ke.a.awrap(O({signal:n}));case 9:t.t0=t.sent;case 10:return a=t.t0,o=Oc(a),i=o.withCategories,u=o.withoutCategories,t.next=14,ke.a.awrap(w({contacts:i,labels:Zd},{signal:n}));case 14:return t.next=16,ke.a.awrap(w({contacts:u,labels:qd},{signal:n}));case 16:return t.next=18,ke.a.awrap(C({signal:n}));case 18:if(t.t1=!n.aborted,!t.t1){t.next=22;break}return t.next=22,ke.a.awrap(d());case 22:case"end":return t.stop()}})))),function(){s.abort()}}),[]);var P=Ec([{allocated:.9,successful:C.mergedAndEncrypted.length,failed:C.failedOnMergeAndEncrypt.length,total:f},{allocated:.1,successful:C.submitted.length,failed:C.failedOnSubmit.length,total:f-C.failedOnMergeAndEncrypt.length}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(dt.a,null,Object(_.c)("Description").t(Hd())),i.a.createElement(Ha,{id:"progress-merge-contacts",alt:"contact-loader",value:P,failed:!C.submitted.length,displaySuccess:Object(_.c)("Progress bar description").t(Yd(),C.submitted.length,f),displayFailed:Object(_.c)("Progress bar description").t(Wd()),endPostponed:j}))}));function em(){var e=X()(["Merging contacts"]);return em=function(){return e},e}function tm(){var e=X()(["Close"]);return tm=function(){return e},e}function nm(){var e=X()(["Cancel"]);return nm=function(){return e},e}function rm(){var e=X()(["Contact Details"]);return rm=function(){return e},e}function am(){var e=X()(["Contacts could not be merged"]);return am=function(){return e},e}function cm(){var e=X()(["Some of the contacts to be merged display errors. Please review them individually"]);return cm=function(){return e},e}function om(){var e=X()(["Merge"]);return om=function(){return e},e}function im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?im(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):im(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lm=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=e.beMergedModel,c=e.beDeletedModel,u=e.updateModel,l=ut()(e,["contactID","userKeysList","hasPaidMail","beMergedModel","beDeletedModel","updateModel"]),s=Object(G.a)().call,f=Object(za.a)(),d=Object(o.useMemo)((function(){return Object(yu.f)(n)}),[]),m=d.privateKeys,p=d.publicKeys,b=Object(kt.a)(!0),v=q()(b,2),h=v[0],g=v[1],y=Object(o.useState)(!1),O=q()(y,2),j=O[0],E=O[1],x=Object(o.useState)(!1),w=q()(x,2),C=w[0],k=w[1],P=Object(o.useState)({}),N=q()(P,2),D=N[0],I=N[1],S=Object.values(a),A=q()(S,1)[0],M=Object.keys(c),T=function(){var e=A.slice(1).concat(M);u((function(t){return um({},t,{orderedContacts:t.orderedContacts.map((function(t){return t.filter((function(t){var n=t.ID;return!e.includes(n)}))})).filter((function(e){return e.length>1}))})}))};Object(o.useEffect)((function(){var e,t,n,r,a,c,o,i,u,l,s;g(ke.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:d.prev=0,e=[],t=!0,n=!1,r=void 0,d.prev=5,a=A[Symbol.iterator]();case 7:if(t=(c=a.next()).done){d.next=25;break}return o=c.value,d.next=11,ke.a.awrap(f(Object(qa.d)(o)));case 11:return i=d.sent,u=i.Contact,d.next=15,ke.a.awrap(Iu(u,{privateKeys:m,publicKeys:p}));case 15:if(l=d.sent,s=l.properties,!l.errors.length){d.next=21;break}throw I(um({},D,{errorOnLoad:!0})),new Error("Error decrypting contact");case 21:e.push(s);case 22:t=!0,d.next=7;break;case 25:d.next=31;break;case 27:d.prev=27,d.t0=d.catch(5),n=!0,r=d.t0;case 31:d.prev=31,d.prev=32,t||null==a.return||a.return();case 34:if(d.prev=34,!n){d.next=37;break}throw r;case 37:return d.finish(34);case 38:return d.finish(31);case 39:I(um({},D,{mergedContact:Xe(e)})),d.next=45;break;case 42:d.prev=42,d.t1=d.catch(0),I(um({},D,{errorOnMerge:!0}));case 45:case"end":return d.stop()}}),null,null,[[0,42],[5,27,31,39],[32,,34,38]]))}),[]);var L=function(){if(!j){var e=i.a.createElement(st.a,{type:"submit",disabled:!D.mergedContact},Object(_.c)("Action").t(om()));return um({content:function(){if(h)return i.a.createElement(ie.a,null);if(D.errorOnLoad||D.errorOnMerge){var e=D.errorOnLoad?Object(_.c)("Warning").t(cm()):Object(_.c)("Warning").t(am());return i.a.createElement(zd,{error:e})}return i.a.createElement(Rd,{properties:D.mergedContact,hasPaidMail:r})}(),title:Object(_.c)("Title").t(rm()),submit:e,onSubmit:function(){return E(!0)}},l)}var o=!C&&i.a.createElement(mt.a,null,Object(_.c)("Action").t(nm())),u=i.a.createElement(st.a,{type:"submit",loading:!C},Object(_.c)("Action").t(tm()));return um({title:Object(_.c)("Title").t(em()),hasClose:!1,content:i.a.createElement($d,{contactID:t,userKeysList:n,alreadyMerged:D.mergedContact,beMergedModel:a,beDeletedModel:c,totalBeMerged:A.length,onFinish:function(){return ke.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return T(),e.next=3,ke.a.awrap(s());case 3:k(!0);case 4:case"end":return e.stop()}}))}}),close:o,submit:u,onSubmit:l.onClose},l)}(),K=L.content,R=ut()(L,["content"]);return i.a.createElement(pt.a,R,K)},sm=n("YjUZ"),fm=n("adk/"),dm=n("8QwH"),mm=function(e){return e?"opacity-50":""},pm=function(e){var t=e.name,n=e.contactID,r=e.highlightedID,a=e.checked,c=e.deleted,o=e.greyedOut,u=e.onToggle;return i.a.createElement("div",{className:"flex flex-nowrap flex-items-center"},i.a.createElement(Rt.a,{checked:a,onChange:function(){return u(n)},className:"flex flex-items-center flex-item-noshrink mr0-5 ".concat(c?"nonvisible":"")}),i.a.createElement("span",{className:Object(oi.a)(["mw100","inbl","ellipsis",mm(o),n===r&&"bold"])},t))},bm=function(e){var t=e.contactID,n=e.emails,r=void 0===n?[]:n,a=e.highlightedID,c=e.greyedOut;return i.a.createElement("div",{className:Object(oi.a)(["flex","flex-items-center","mw100",mm(c),t===a&&"bold"])},i.a.createElement("span",{className:"inbl ellipsis"},r.map((function(e){return"<".concat(e,">")})).join(", ")))};function vm(){var e=X()(["Mark for deletion"]);return vm=function(){return e},e}function hm(){var e=X()(["Unmark for deletion"]);return hm=function(){return e},e}function gm(){var e=X()(["Contact details"]);return gm=function(){return e},e}var ym=function(e){var t=e.contacts,n=e.highlightedID,r=e.isChecked,a=e.beDeleted,c=e.onClickCheckbox,o=e.onClickDetails,u=e.onToggleDelete,l=ut()(e,["contacts","highlightedID","isChecked","beDeleted","onClickCheckbox","onClickDetails","onToggleDelete"]);return i.a.createElement(fm.a,ot()({colSpan:4},l),t.map((function(e,t){var l=e.ID,s=e.Name,f=e.emails,d=a[l],m=[!d&&{text:Object(_.c)("Action").t(gm()),onClick:function(){o(l)}},{text:d?Object(_.c)("Action").t(hm()):Object(_.c)("Action").t(vm()),onClick:function(){u(l)}}].filter(Boolean),p=[i.a.createElement(pm,{key:"name",name:s,contactID:l,highlightedID:n,checked:r[l],deleted:d,greyedOut:d,onToggle:c}),i.a.createElement(bm,{key:"email",contactID:l,highlightedID:n,emails:f,greyedOut:d}),i.a.createElement(fo.a,{key:"options",className:"pm-button--small",list:m})];return d?i.a.createElement(Li.a,{key:"".concat(l),index:t,cells:[null].concat(p)}):i.a.createElement(dm.a,{key:"".concat(l),index:t,cells:p})})))};function Om(){var e=X()(["Preview contact"]);return Om=function(){return e},e}function jm(){var e=X()(["ACTIONS"]);return jm=function(){return e},e}function Em(){var e=X()(["ADDRESS"]);return Em=function(){return e},e}function xm(){var e=X()(["NAME"]);return xm=function(){return e},e}var wm=function(){return i.a.createElement("thead",{className:"orderableTableHeader"},i.a.createElement("tr",null,i.a.createElement(Dt.a,{type:"header"}),i.a.createElement(Dt.a,{type:"header"},Object(_.c)("TableHeader").t(xm())),i.a.createElement(Dt.a,{type:"header"},Object(_.c)("TableHeader").t(Em())),i.a.createElement(Dt.a,{type:"header"},Object(_.c)("TableHeader").t(jm()))))},Cm=function(e){var t=e.contacts,n=void 0===t?[]:t,r=e.isChecked,a=void 0===r?{}:r,c=e.beDeleted,o=void 0===c?{}:c,u=e.onClickCheckbox,l=e.onClickDetails,s=e.onToggleDelete,f=e.onClickPreview,d=e.onSortEnd;return i.a.createElement(i.a.Fragment,null,n.map((function(e,t){var n=e.map((function(e){var t=e.ID;return a[t]&&!o[t]&&t})).filter(Boolean),r=e.map((function(e){var t=e.ID;return o[t]&&t})).filter(Boolean),c=n.length>1?n:[];return i.a.createElement(Nt.a,{key:"".concat(e&&e[0].Name),className:"mb2 flex flex-column flex-items-center"},i.a.createElement(sm.a,{onSortEnd:d(t),className:"mb1"},i.a.createElement(wm,null),i.a.createElement(ym,{contacts:e,highlightedID:c[0],isChecked:a,beDeleted:o,onClickCheckbox:u,onClickDetails:l,onToggleDelete:s})),i.a.createElement(gt.a,{className:"aligcenter",disabled:!c.length,type:"button",onClick:function(){return f(c[0],r)}},Object(_.c)("Action").t(Om())))})))};function km(){var e=X()(["You can mark for deletion the contacts that you do not want neither to merge nor to keep.\n                    Deletion will only take place after the merge button is clicked"]);return km=function(){return e},e}function Pm(){var e=X()(["Use Drag and Drop to rank merging priority between contacts. Uncheck the contacts you do not want to merge."]);return Pm=function(){return e},e}function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nm(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Im=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=e.model,c=e.updateModel,o=e.beMergedModel,u=e.beDeletedModel,l=Object(ee.a)().createModal,s=a.orderedContacts,f=a.isChecked,d=a.beDeleted;return i.a.createElement(i.a.Fragment,null,i.a.createElement(dt.a,null,Object(_.c)("Description").t(Pm())),i.a.createElement(dt.a,{type:"warning"},Object(_.c)("Description").t(km())),i.a.createElement(Cm,{onSortEnd:function(e){return function(t){var n=t.oldIndex,r=t.newIndex;c((function(t){return Dm({},t,{orderedContacts:Kd(s,e,{oldIndex:n,newIndex:r})})}))}},contacts:s,isChecked:f,beDeleted:d,onClickCheckbox:function(e){c((function(t){return Dm({},t,{isChecked:Dm({},f,Q()({},e,!f[e]))})}))},onClickDetails:function(e){l(i.a.createElement(Bd,{contactID:e,userKeysList:n,hasPaidMail:r}))},onToggleDelete:function(e){c((function(t){return Dm({},t,{beDeleted:Dm({},d,Q()({},e,!d[e]))})}))},onClickPreview:function(e,a){var s=Q()({},e,o[e]),f=a.reduce((function(e,t){return e[t]=u[t],e}),{});l(i.a.createElement(lm,{contactID:t,userKeysList:n,hasPaidMail:r,beMergedModel:s,beDeletedModel:f,updateModel:c}))}}))};function Sm(){var e=X()(["Merging contacts"]);return Sm=function(){return e},e}function Am(){var e=X()(["Close"]);return Am=function(){return e},e}function Mm(){var e=X()(["Cancel"]);return Mm=function(){return e},e}function Tm(){var e=X()(["Merge contacts"]);return Tm=function(){return e},e}function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Km(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rm(){var e=X()(["Merge"]);return Rm=function(){return e},e}var Gm=function(e){var t=e.contacts,n=e.contactID,r=e.userKeysList,a=e.hasPaidMail,c=ut()(e,["contacts","contactID","userKeysList","hasPaidMail"]),u=Object(G.a)().call,l=Object(o.useState)(!1),s=q()(l,2),f=s[0],d=s[1],m=Object(o.useState)(!1),p=q()(m,2),b=p[0],v=p[1],h=Object(o.useState)((function(){return{orderedContacts:t,isChecked:t.flat().reduce((function(e,t){return e[t.ID]=!0,e}),{}),beDeleted:t.flat().reduce((function(e,t){return e[t.ID]=!1,e}),{})}})),g=q()(h,2),y=g[0],O=g[1],j=y.orderedContacts,E=y.isChecked,x=y.beDeleted;Object(o.useEffect)((function(){j.flat().length||c.onClose()}),[j]);var w=Object(o.useMemo)((function(){return j.reduce((function(e,t){var n=t.map((function(e){return e.ID})),r=n.map((function(e){return E[e]&&!x[e]&&e})).filter(Boolean),a=n.map((function(e){return x[e]&&e})).filter(Boolean),c=r.length>1;c&&(e.beMergedModel[r[0]]=r,e.totalBeMerged+=r.length);var o=!0,i=!1,u=void 0;try{for(var l,s=a[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=l.value;e.beDeletedModel[f]=c?r[0]:""}}catch(d){i=!0,u=d}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}return e}),{beMergedModel:{},beDeletedModel:{},totalBeMerged:0})}),[j,E,x]),C=w.beMergedModel,k=w.beDeletedModel,P=w.totalBeMerged,N=function(){if(!f){var e=i.a.createElement(st.a,{type:"submit",disabled:!P},Object(_.c)("Action").t(Rm()));return Km({title:Object(_.c)("Title").t(Tm()),content:i.a.createElement(Im,{contactID:n,userKeysList:r,hasPaidMail:!!a,model:y,updateModel:O,beMergedModel:C,beDeletedModel:k}),submit:e,onSubmit:function(){return d(!0)}},c)}var t=!b&&i.a.createElement(mt.a,null,Object(_.c)("Action").t(Mm())),o=i.a.createElement(st.a,{type:"submit",loading:!b},Object(_.c)("Action").t(Am()));return Km({title:Object(_.c)("Title").t(Sm()),hasClose:!1,content:i.a.createElement($d,{contactID:n,userKeysList:r,beMergedModel:C,beDeletedModel:k,totalBeMerged:P,onFinish:function(){return ke.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.a.awrap(u());case 2:v(!0);case 3:case"end":return e.stop()}}))}}),close:t,submit:o,onSubmit:c.onClose},c)}(),D=N.content,I=ut()(N,["content"]);return i.a.createElement(pt.a,I,D)},Fm=n("5Bhs"),Um=n("DInE");function Bm(){var e=X()(["This action will permanently delete the selected contact. Are you sure you want to delete this contact?"]);return Bm=function(){return e},e}function zm(){var e=X()(["Delete"]);return zm=function(){return e},e}function Vm(){var e=X()(["Contact deleted"]);return Vm=function(){return e},e}function Wm(){var e=X()(["Some contacts could not be deleted"]);return Wm=function(){return e},e}function Ym(){var e=X()(["Contacts deleted"]);return Ym=function(){return e},e}function Hm(){var e=X()(["Delete"]);return Hm=function(){return e},e}var Xm=function(e){var t=e.contactIDs,n=void 0===t?[]:t,r=e.deleteAll,a=e.onDelete,c=ut()(e,["contactIDs","deleteAll","onDelete"]),o=Object(za.a)(),u=Object(lt.a)().createNotification,l=Object(G.a)().call,s=Object(kt.a)(),f=q()(s,2),d=f[0],m=f[1],p=i.a.createElement(Fm.a,{type:"submit",loading:d},Object(_.c)("Action").t(Hm()));return i.a.createElement(pt.a,ot()({title:Object(_.c)("Title").t(zm()),onSubmit:function(){return m(ke.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return t.next=3,ke.a.awrap(o(Object(qa.b)()));case 3:return a&&a(),t.next=6,ke.a.awrap(l());case 6:return c.onClose(),t.abrupt("return",u({text:Object(_.c)("Success").t(Ym())}));case 8:return t.t0=Um.a,t.next=11,ke.a.awrap(o(Object(qa.c)(n)));case 11:return t.t1=t.sent,e=(0,t.t0)(t.t1),a&&a(),t.next=16,ke.a.awrap(l());case 16:if(c.onClose(),e){t.next=19;break}return t.abrupt("return",u({text:Object(_.c)("Error").t(Wm()),type:"warning"}));case 19:u({text:Object(_.c)("Success").ngettext(Object(_.msgid)(Vm()),"Contacts deleted",n.length)});case 20:case"end":return t.stop()}})));var e},submit:p,loading:d},c),i.a.createElement(dt.a,{type:"warning"},Object(_.c)("Warning").ngettext(Object(_.msgid)(Bm()),"This action will permanently delete selected contacts. Are you sure you want to delete these contacts?",n.length)))},Jm=n("kJz7"),Qm=n("6UvI");function Zm(){var e=X()(["Upgrade"]);return Zm=function(){return e},e}var qm=function(e){var t=e.children,n=e.title;return Object(o.useEffect)((function(){document.title="".concat(n," - ProtonContacts")}),[n]),i.a.createElement("div",{className:"flex flex-nowrap no-scroll"},i.a.createElement(Jm.a,{items:[i.a.createElement(Qm.a,{key:"storage"},i.a.createElement(Su.a,{url:"/settings/subscription",target:"_self",className:"pm-button pm-button--primary"},Object(_.c)("Action").t(Zm())))]}),i.a.createElement("div",{className:"content flex-item-fluid h100v reset4print"},t))};function _m(){var e=X()(["Contacts"]);return _m=function(){return e},e}function $m(){var e=X()(["Contacts"]);return $m=function(){return e},e}function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var np=function(e){var t=e.location,n=e.history,r=Object($.a)(),a=r.state,c=r.toggle,u=r.set,l=Object(ee.a)().createModal,s=Object(o.useState)(""),f=q()(s,2),d=f[0],m=f[1],p=Object(ue.g)(d),b=Object(te.a)(),v=q()(b,2),h=v[0],g=v[1],y=Object(ne.a)(),O=q()(y,2),j=O[0],E=O[1],x=Object(re.a)(),w=q()(x,2),C=w[0],k=w[1],N=Object(o.useState)(Object.create(null)),D=q()(N,2),I=D[0],S=D[1],A=Object(ae.b)(),M=q()(A,1)[0],T=Object(ce.c)(M),L=q()(T,2),K=L[0],R=L[1],G=Object(oe.a)(),F=G.isDesktop,U=G.isNarrow,B=Object(o.useMemo)((function(){var e=t.pathname.split("/contacts/");return q()(e,2)[1]}),[t]),z=Object(o.useMemo)((function(){return new URLSearchParams(t.search).get("contactGroupID")}),[t.search]),V=Object(o.useMemo)((function(){return C&&z?{contactGroupName:C.find((function(e){return e.ID===z})).Name,totalContactsInGroup:j.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(z)})).length}:Object.create(null)}),[j,z]),W=V.contactGroupName,Y=V.totalContactsInGroup,H=Object(o.useMemo)((function(){return Object.keys(I).some((function(e){return I[e]}))}),[I]);Object(o.useEffect)((function(){S(Object.create(null)),u(!1),m("")}),[z]);var X=Object(o.useMemo)((function(){return Array.isArray(h)?h.reduce((function(e,t){var n=t.ContactID;return e[n]||(e[n]=[]),e[n].push(t),e}),Object.create(null)):{}}),[h]),J=Object(o.useMemo)((function(){return Object(le.a)(C)}),[C]),Q=Object(o.useMemo)((function(){return Array.isArray(j)?j.filter((function(e){var t=e.Name,n=e.ID,r=e.LabelIDs,a=X[n]?X[n].map((function(e){return e.Email})).join(" "):"",c=!p.length||Object(ue.g)("".concat(t," ").concat(a)).includes(p),o=!z||r.includes(z);return c&&o})):[]}),[j,z,p,X]),Z=Object(o.useMemo)((function(){return Q.map((function(e){var t=e.ID;return tp({},e,{emails:(X[t]||[]).map((function(e){return e.Email})),isChecked:!!I[t]})}))}),[Q,I,X]),se=Object(o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object.values(e.reduce((function(e,t,n){var r=t.Name,a=Object(ue.g)(r);return e[a]?e[a].push(n):e[a]=[n],e}),Object.create(null))).map(we.e).filter((function(e){return e.length>1})),n=Object.values(e.reduce((function(e,t,n){return t.emails.map(ue.g).forEach((function(t){e[t]?e[t].push(n):e[t]=[n]})),e}),Object.create(null))).map(we.e).filter((function(e){return e.length>1})),r=Ye([].concat(fe()(t),fe()(n)));return r.map((function(t){return t.map((function(t){return e[t]}))}))}(Z)}),[Z]),de=se.length>0,me=M.hasPaidMail,pe=Object(o.useMemo)((function(){return Z.filter((function(e){return e.isChecked})).map((function(e){return e.ID}))}),[Z,B]),be=Object(o.useMemo)((function(){var e=Q.length;return!!e&&pe.length===e}),[Q,pe]),ve=Object(o.useMemo)((function(){return!pe.length&&B?[B]:pe}),[pe,B]),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.reduce((function(e,n){return e[n]=t,e}),Object.create(null));S(tp({},I,{},n))},ge=function(){m("")},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];he(Q.map((function(e){return e.ID})),e)},Oe=function(){ye(!1)},je=g||E||k||R,Ee=j?j.length:0,xe=U&&B?"--noHeader":"",Ce=B&&!!Ee&&!H&&i.a.createElement(P.a,{key:B},i.a.createElement(nf,{contactID:B,contactEmails:X[B],contactGroupsMap:J,userKeysList:K})),ke=(F||!Ce)&&i.a.createElement(gu,{emptyAddressBook:!Ee,contactID:B,contactGroupID:z,totalContacts:Ee,totalContactsInGroup:Y,contacts:Z,contactGroupsMap:J,user:M,userKeysList:K,loadingUserKeys:R,onCheck:he,onClearSearch:ge,onClearSelection:Oe,isDesktop:F}),Pe=F&&!Ce&&!!Z.length&&i.a.createElement(ud,{history:n,user:M,userKeysList:K,loadingUserKeys:R,totalContacts:Ee,totalContactsInGroup:Y,selectedContacts:pe.length,contactGroupID:z,contactGroupName:W,onUncheck:Oe,canMerge:de,onMerge:function(){l(i.a.createElement(Gm,{contacts:se,contactID:B,userKeysList:K,hasPaidMail:!!me}))},onImport:function(){return l(i.a.createElement(io,{userKeysList:K}))},onExport:function(e){return l(i.a.createElement(Ef,{contactGroupID:e,userKeysList:K}))},onGroups:function(){return n.replace("/contacts/settings/groups")}});return i.a.createElement(qm,{title:W||Object(_.c)("Title").t($m())},(!U||!B)&&i.a.createElement(wd,{title:Object(_.c)("Title").t(_m()),expanded:a,onToggleExpand:c,search:d,onSearch:m,onClearSearch:ge,isNarrow:U,history:n}),i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(Ld,{url:"/contacts",history:n,user:M,expanded:a,onToggleExpand:c,onClearSearch:ge,totalContacts:Ee,contactGroups:C,userKeysList:K}),i.a.createElement("div",{className:"main flex-item-fluid"},i.a.createElement(fd,{user:M,contactEmailsMap:X,activeIDs:ve,checked:be,onCheck:ye,onDelete:function(){var e=ve.length===j.length;l(i.a.createElement(Xm,{contactIDs:ve,deleteAll:e,onDelete:function(){if(e)return n.replace(tp({},t,{state:{ignoreClose:!0},pathname:"/contacts"})),S(Object.create(null));ve.length===Q.length&&ge(),B&&ve.includes(B)&&n.replace(tp({},t,{state:{ignoreClose:!0},pathname:"/contacts"})),he(pe,!1)}}))},simplified:!!B&&!F}),i.a.createElement("div",{className:"main-area--withToolbar".concat(xe," no-scroll flex flex-nowrap")},je?i.a.createElement(ie.a,null):i.a.createElement(i.a.Fragment,null,ke,Ce,Pe)))))},rp=n("P2jq"),ap=n("2cEl"),cp=function(e){var t=e.title,n=e.children;return i.a.createElement("main",{className:"main-area-content relative flex-item-fluid"},i.a.createElement(ap.a,null,t),i.a.createElement("div",{className:"container-section-sticky"},n))},op=n("9E8O"),ip=n("hsnk");function up(){var e=X()(["Automatically save contacts"]);return up=function(){return e},e}function lp(){var e=X()(["Contacts"]);return lp=function(){return e},e}var sp=function(){var e=Object(Bu.a)(),t=q()(e,1)[0],n=(t=void 0===t?{}:t).AutoSaveContacts;return i.a.createElement(i.a.Fragment,null,i.a.createElement(op.a,null,Object(_.c)("Title").t(lp())),i.a.createElement(Uc.a,null,i.a.createElement(Gt.a,{htmlFor:"saveContactToggle"},i.a.createElement("span",{className:"mr0-5"},Object(_.c)("Label").t(up())),i.a.createElement(hl.a,{url:"https://protonmail.com/support/knowledge-base/autosave-contact-list/"})),i.a.createElement(Io.a,null,i.a.createElement(ip.a,{autoSaveContacts:!!n,id:"saveContactToggle"}))))};function fp(){var e=X()(["General"]);return fp=function(){return e},e}var dp=function(){return i.a.createElement(cp,{title:Object(_.c)("Title").t(fp())},i.a.createElement(sp,null))},mp=n("0HG9");function pp(){var e=X()([""," email address"]);return pp=function(){return e},e}function bp(){var e=X()(["Contacts in the group aren't deleted if the contact group is deleted."]);return bp=function(){return e},e}function vp(){var e=X()(["Are you sure you want to delete this contact group?"]);return vp=function(){return e},e}function hp(){var e=X()(["Delete contact group"]);return hp=function(){return e},e}function gp(){var e=X()(["Delete"]);return gp=function(){return e},e}function yp(){var e=X()(["Edit"]);return yp=function(){return e},e}function Op(){var e=X()(["Actions"]);return Op=function(){return e},e}function jp(){var e=X()(["Group size"]);return jp=function(){return e},e}function Ep(){var e=X()(["Name"]);return Ep=function(){return e},e}function xp(){var e=X()(["Contact group removed"]);return xp=function(){return e},e}var wp=function(){var e=Object(re.a)(),t=q()(e,1)[0],n=Object(te.a)(),r=q()(n,1)[0],a=Object(lt.a)().createNotification,c=Object(ee.a)().createModal,u=Object(za.a)(),l=Object(G.a)().call,s=Object(o.useState)(t),f=q()(s,2),d=f[0],m=void 0===d?[]:d,p=f[1];Object(o.useEffect)((function(){p(t)}),[t]);var b=function(e){return function(){return ke.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ke.a.awrap(u(Object(Si.b)(e)));case 2:return t.next=4,ke.a.awrap(l());case 4:a({text:Object(_.c)("Contact group notification").t(xp())});case 5:case"end":return t.stop()}}))}},v=Object(o.useCallback)((function(e){var n,r,a;return ke.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.oldIndex,r=e.newIndex,c.prev=1,a=Object(we.c)(m,n,r),p(a),c.next=6,ke.a.awrap(u(Object(Si.d)({LabelIDs:a.map((function(e){return e.ID}))})));case 6:l(),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),p(t);case 12:case"end":return c.stop()}}),null,null,[[1,9]])}),[m,t]),h=[Object(_.c)("Table header").t(Ep()),Object(_.c)("Table header").t(jp()),Object(_.c)("Table header").t(Op())];return i.a.createElement(sm.a,{className:"noborder",onSortEnd:v},i.a.createElement(mp.a,{cells:h}),i.a.createElement(fm.a,null,m.map((function(e,t){var n=e.ID,a=e.Name,o=e.Color,u=(r||[]).filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(n)})).length,l=[{text:Object(_.c)("Action").t(yp()),onClick:function(){c(i.a.createElement(nu,{contactGroupID:n}))}},{text:Object(_.c)("Action").t(gp()),onClick:function(){c(i.a.createElement(ft.a,{onConfirm:b(n),title:Object(_.c)("Title").t(hp())},i.a.createElement(dt.a,{type:"warning"},i.a.createElement("p",null,Object(_.c)("Info").t(vp())),i.a.createElement("p",null,Object(_.c)("Info").t(bp())))))}}],s=[i.a.createElement("div",{key:n,className:"flex"},i.a.createElement("span",{className:"ellipsis"},i.a.createElement(au,{name:a,color:o})," ",a)),Object(_.c)("Info").ngettext(Object(_.msgid)(pp(),u),"".concat(u," email addresses"),u),i.a.createElement(fo.a,{key:n,className:"pm-button--small",list:l})];return i.a.createElement(dm.a,{key:n,index:t,cells:s})}))))};function Cp(){var e=X()(["Add group"]);return Cp=function(){return e},e}function kp(){var e=X()(["A group can contain multiple email addresses from the same contact. Please note that a sending limit may apply and prevent you from sending emails to excessively large groups."]);return kp=function(){return e},e}function Pp(){var e=X()(["Contact groups"]);return Pp=function(){return e},e}var Np=function(){var e=Object(ee.a)().createModal;return i.a.createElement(i.a.Fragment,null,i.a.createElement(op.a,null,Object(_.c)("Title").t(Pp())),i.a.createElement(dt.a,null,Object(_.c)("Info").t(kp())),i.a.createElement("div",{className:"mb1"},i.a.createElement(st.a,{onClick:function(){return e(i.a.createElement(nu,null))}},Object(_.c)("Action").t(Cp()))),i.a.createElement(wp,null))};function Dp(){var e=X()(["Contact groups"]);return Dp=function(){return e},e}var Ip=function(){return i.a.createElement(cp,{title:Object(_.c)("Title").t(Dp())},i.a.createElement(Np,null))};function Sp(){var e=X()(["Settings"]);return Sp=function(){return e},e}function Ap(){var e=X()(["Contact settings"]);return Ap=function(){return e},e}function Mp(){var e=X()(["Contact groups"]);return Mp=function(){return e},e}function Tp(){var e=X()(["General"]);return Tp=function(){return e},e}var Lp=function(e){var t=e.location,n=Object(o.useRef)(),r=Object(ae.b)(),a=q()(r,1)[0].hasPaidMail,c=Object($.a)(),u=c.state,l=c.toggle,s=c.set,f=Object(oe.a)().isNarrow;Object(o.useEffect)((function(){s(!1),n.current.scrollTop=0}),[t.pathname]);var d=[{link:"/contacts/settings/general",icon:"settings-singular",text:Object(_.c)("Link").t(Tp())},a&&{link:"/contacts/settings/groups",icon:"contacts-groups",text:Object(_.c)("Link").t(Mp())}].filter(Boolean);return i.a.createElement(qm,{title:Object(_.c)("Title").t(Ap())},i.a.createElement(wd,{inSettings:!0,title:Object(_.c)("Title").t(Sp()),expanded:u,onToggleExpand:l,isNarrow:f}),i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(Cd.a,{url:"/contacts",list:d,expanded:u,onToggleExpand:l,mobileLinks:[{to:"/inbox",icon:"protonmail",external:!0,current:!1},{to:"/contacts",icon:"protoncontacts",external:!1,current:!0}]}),i.a.createElement("div",{className:"main flex-item-fluid main-area",ref:n},i.a.createElement("div",{className:"flex flex-reverse"},i.a.createElement(rp.a.Provider,{value:n},i.a.createElement(N.a,null,i.a.createElement(D.a,{path:"/contacts/settings/general",component:dp}),i.a.createElement(D.a,{path:"/contacts/settings/groups",component:Ip}),i.a.createElement(I.a,{to:"/contacts/settings/general"})))))))},Kp=[S.a,A.a,M.a,T.a,L.a,K.a,R.a],Rp=[A.a,S.a],Gp=function(e){var t=e.onLogout;return i.a.createElement(k.a,{onLogout:t,locales:{},preloadModels:Rp,eventModels:Kp},i.a.createElement(Y,null,i.a.createElement(P.a,null,i.a.createElement(N.a,null,i.a.createElement(D.a,{path:"/contacts/settings",render:function(e){var t=e.location;return i.a.createElement(Lp,{location:t})}}),i.a.createElement(D.a,{path:"/contacts",render:function(e){var t=e.location,n=e.history;return i.a.createElement(np,{location:t,history:n})}}),i.a.createElement(I.a,{to:"/contacts"})))))},Fp=n("jKe7"),Up=n("2INN"),Bp=n("RRB+"),zp=n("plUg"),Vp=n("xpwl"),Wp=function(e){var t=e.onLogin;return i.a.createElement(Bp.a,null,i.a.createElement(zp.a,null),i.a.createElement(Fp.a,null,i.a.createElement(Up.a,{render:function(){return i.a.createElement(Vp.a,{onLogin:t})}})))};n("wdeV");Object(d.a)(r);var Yp=function(){var e=Object(l.a)(),t=e.UID,n=e.login,r=e.logout;return t?i.a.createElement(Gp,{onLogout:r}):i.a.createElement(Wp,{onLogin:n})},Hp=Object(u.hot)((function(){return i.a.createElement(s.a,{config:r},i.a.createElement(Yp,null))}));c.a.render(i.a.createElement(Hp,null),document.querySelector(".app-root"))},0:function(e,t,n){n("+wUL"),e.exports=n("1UW9")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"5FMj":function(e,t,n){var r={"./3-d-secure.svg":"0gKn","./american-express-safekey.svg":"Jui7","./cc-american-express.svg":"/qD2","./cc-dankort.svg":"0T0d","./cc-diners-club.svg":"vuvo","./cc-discover.svg":"AZZk","./cc-forbrugs.svg":"k2eZ","./cc-jcb.svg":"7Amw","./cc-maestro.svg":"lXKh","./cc-mastercard.svg":"ZUPP","./cc-paypal.svg":"egYP","./cc-unionpay.svg":"ma7A","./cc-visa.svg":"vO2o","./cc-visaelectron.svg":"RMFI","./discover-protectbuy.svg":"qsy5","./mastercard-securecode.svg":"6Bn0","./verified-by-visa.svg":"Q7qE"};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id="5FMj"},Cq9y:function(e,t,n){},YO3j:function(e,t,n){var r={"./af/index.js":["IqAn",11],"./ar-DZ/index.js":["JVC1",12],"./ar-SA/index.js":["xMju",13],"./be/index.js":["YEhR",3],"./bg/index.js":["isx8",4],"./bn/index.js":["+b7I",14],"./ca/index.js":["Vwa+",15],"./cs/index.js":["dvhP",16],"./cy/index.js":["HQUR",17],"./da/index.js":["7ur/",18],"./de/index.js":["bgw5",19],"./el/index.js":["dH0v",20],"./en-AU/index.js":["VHew",21],"./en-CA/index.js":["wXhn",22],"./en-GB/index.js":["nwJ3",23],"./en-US/index.js":["IogR",24],"./eo/index.js":["UB7v",25],"./es/index.js":["/S0t",26],"./et/index.js":["Br0m",27],"./fa-IR/index.js":["gEFy",28],"./fi/index.js":["ndVD",29],"./fr-CA/index.js":["KTij",30],"./fr/index.js":["LKA2",31],"./gl/index.js":["4bge",32],"./gu/index.js":["3t4y",33],"./he/index.js":["75M+",34],"./hi/index.js":["CUe2",35],"./hr/index.js":["L9Jq",36],"./hu/index.js":["Nm+E",37],"./hy/index.js":["netp",38],"./id/index.js":["A6C3",39],"./is/index.js":["N4bE",40],"./it/index.js":["hmb4",41],"./ja/index.js":["uAXs",42],"./ka/index.js":["pwL5",43],"./kk/index.js":["zGPi",5],"./ko/index.js":["iW8+",44],"./lt/index.js":["xj+b",45],"./lv/index.js":["x5pY",6],"./ms/index.js":["gUWk",46],"./nb/index.js":["73vv",47],"./nl/index.js":["hCQt",48],"./nn/index.js":["vORL",49],"./pl/index.js":["B6yL",7],"./pt-BR/index.js":["2dYp",50],"./pt/index.js":["gdks",51],"./ro/index.js":["r2yp",52],"./ru/index.js":["nz/o",8],"./sk/index.js":["Wqan",9],"./sl/index.js":["KYSo",53],"./sr/index.js":["7mU3",54],"./sv/index.js":["hxgj",55],"./ta/index.js":["1ssA",56],"./te/index.js":["SGoj",57],"./th/index.js":["Pk+z",58],"./tr/index.js":["3ZWG",59],"./ug/index.js":["yT3n",60],"./uk/index.js":["LCGg",10],"./vi/index.js":["dGQT",61],"./zh-CN/index.js":["UJqf",62],"./zh-TW/index.js":["zn9v",63]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="YO3j",e.exports=a},wdeV:function(e,t,n){}});
//# sourceMappingURL=index.eba14d3b.js.map