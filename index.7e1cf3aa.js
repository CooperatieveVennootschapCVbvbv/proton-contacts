!function(e){function t(t){for(var r,o,i=t[0],u=t[1],l=t[2],s=0,d=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);d.length;)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},c=[];var o={3:"sha384-jCD9qCH2bybDJEGMLynT43zVdq8LLgV7J0pghxbjbqIhKCgmzmL7BRcFLi1QMMIE",4:"sha384-6PdHTQIXvb+AjIRUAvfn7OkIDSYdIWgp/stFClMbYVBcjGj6MxJwy4p2ilmZEr4y",5:"sha384-O7GHwHdPt52m0pfD28KBwE1rsPQCSsnFp44Z/nRy1KzguReGHHBi/cEUopRdBnbD",6:"sha384-gBUPJ19Jwo6S+AN79jSQ1g27HyRgmbLKmMV89TpwyxpmBOD19uuuCozQBiDy5/mq",7:"sha384-IKfHoZ5PKLDNEHQ5n7X2gH/DpJOvNNk+RElAaLd3mrcVsKmZkj/W5GvUm3Lj/5CC",8:"sha384-Wc8tuqMkH1XGiyLSJFzMBH/XDZxbw6aS+SXbUxLHmjEV7xvVM9JCAs+SkWFCmBjI",9:"sha384-5OZP5WWAMXvYgR6mjUEusufdPT+INf/QFjTDoz2sP1dxD5mH6UDVB5bdMzb18DsS",10:"sha384-eWWgPwOmcqQVuWe+6dhe5a3mJd6GTGS30B+eL/6Gr5qqpRcx2041WBM1i70ZWz7Q",11:"sha384-DYlLWPaor4YGzrAsfSdkq6b/vTdTaoGtF6JoA3MSvxL2BlRRt4FZo8HdK2fKXi57",12:"sha384-hoX+bE5UuBnWvgNr5JNvKDGTOUNArIKEqEA1TCgCTFpqAlM1MQw0Is5p1w7aJSaR",13:"sha384-Ex+Btwrp3pqCYWYmoPUKjJM2XeAdlhPRmvEOINCmdqE41ikCRz79Zwt+ixt1jvLM",14:"sha384-lGY2Tdg0Tn8L6oLhyd56SGoucMFLFQbR/AX1pFOgpghKMwDoUbtbiBshRmA2fMKH",15:"sha384-/qAAIxpIL3IdwhoYVHH3WvWKcqpx5vN6AwH8DrPZSyhUoJYMIlhnliFqb4asYusU",16:"sha384-ytP7V7TVR6Bwv9zZEjQzGhU1hIvrBoP8oL2uCUiMvmFHtnYZqjkR02jDzgBemUtg",17:"sha384-CFLg+WUHHsAdPheVJe/oaSiIbz6c9mhYfB7EaBR3EslsFVnf6pYVaqXxVgYCHXgH",18:"sha384-U2mqJOixX/qH0KFjceiZWURKWHnfZD0BnXmgrRx0LfwnO4vRbd4iy2ZYtvYbOG0i",19:"sha384-4kb5Emnrq+oIM0rXmTdXdjNCrnWBRsOeVps79SnryIP67f0gitEcFZEqaJxDLBNV",20:"sha384-K7w+OWjRVzygUmN4dp5CKlRAMA3+b20hGPNuXL8EYSFKd32ItXjHadPb/gKPDntZ",21:"sha384-wiG6f9Yv6ZUbhF3Q/Tkg0nwf7WAOfGYaVPcrQNgCj/rcrOvu6QECWMzjuyO0Dr4J",22:"sha384-/ToU4hiPMHhcjRDmbIxn6yP1cbem3nKXkKQuXv88bxFqwV9+g2V6ZouQ3bHZcbu+",23:"sha384-LVS3YtM5zJ1kr7sBjJK0bEllcmAvyhAUNgtUxeuo6mabNUGQnOrKunqSXfVljjaJ",24:"sha384-RRkNqDxw9Vffgjiosds/Eo7Pps3dv+ptuWCbwixtpz3TGzkjbfwg5WF7QgkpKd0S",25:"sha384-tsI3agj/Ezwc0j1oyyWxVDjdihPhZ2D6I6MWhHR+J9TrASUgnsz0LU+itUbPAFOZ",26:"sha384-s8coE+OtcDzXNMroxOeYxu/ww7PSVRYZ63Xnp2jEPljcjAFJULksAYCsj/2+wmap",27:"sha384-jrNoaLzewLH2tbTpBr3ZO1BtSNekFIzpp0AN0ma9pxBdBRfw9zAp0P1nKF53/Zw7",28:"sha384-VcpBz89y9hUlsoU9AgCMhyJs1mN9wyzRgJK7Vu1D53eImBXb5cR9RPaLpKpZKee0",29:"sha384-SRj/QvFRb6+grtNaxDIhh3IMjIaIJEgjoG7pIrkTz4dJkDAfczYAJn9Hwfc3iIgE",30:"sha384-nToreGS/PvzuaEIzxC9mS8VYcfOT1Euug10IY4YhauvWZKmprqDjKX7zUBBhEsgu",31:"sha384-ZWJQQWkRded0vMw/rppAZCeo3ZX0HAviuEY31uBuTrOguUdD+1fknGEvAFOE0Gk9",32:"sha384-tuPrZY1kt1YFdd8jIDWl+voBI++BvZatQ0EBpZ+NmarJ2Ojr1w/KJGU3DeTzAy1G",33:"sha384-fErhU40qWyh4o2x9gPUOw1vMajB+xsPDjL49ieovY+DxoinuhjvsjO0O2Acc/Xop",34:"sha384-x7p7db5ZUExp5HUxbU7n6PZ69/e+scPZNCnuWT0dhwCsavs8m5C1Bv5UHoIQDxwB",35:"sha384-qL4jF23dJig9/dXOr4y/0HnOvmSHwebPZqmvMbLEvoOWiPftXh9rY8zu+aVbEsA8",36:"sha384-8YPjFE3ButtQRPqHYoYUu0gYGCV+/s2cXpgp1j645edeTBI7nQVU6yNOwNCu2JUV",37:"sha384-oeEzuZMts/PmUP/wLJ4LYzK+v8QkiJ39kYna8uK8bDI3Y2aljy4vJkiOqB5CQpdQ",38:"sha384-wFxzSZw039qNXF+vQNpfN5jGy8KIzjvnphAfS+xGYUS1aUbqqjadA3+2a6PoD3HN",39:"sha384-GL2r3jAMbl05jSCHeEdzB6nvnXC/hnaXjmoyGoYCDVhW+bGiOZEl19txJzgzIt3x",40:"sha384-Hm26jrNieLht/Fm6NEx7l6d5gpEcKIaAJWbTZC0Hdn7dQY7etRdY5vcDKdh7/GaX",41:"sha384-r9yGKq9pB89JJ6s566qg9xGtPjzMS83haCowSFsEyE6Be/AaLvL6A1L2IzF+7/JD",42:"sha384-/FeIaXQPN+Ke5dldrXvrz6a+RXBePPC6ZgnvElMaEntt3REARXEhCvReNyNy5xmx",43:"sha384-Mk8/PzjB1+gtITJIwxwAd8qq4gtMlD+oKivW4zs9aNduJrCfx6uryAnbMHE8rKGJ",44:"sha384-4NmjbbctZoIDpI0oYrdhc/KAjiPf0YFpCtVigm9oQ8LS6c2I65UQb9imdosFyT8a",45:"sha384-MhrA5nbvQW2mdGVTVXegVG1q5/DQaR+uKKl/Oc4w0t4f7sBe3RybrNG0nRwaTyvl",46:"sha384-zDBi4NGBvvUXFeF4YVnbw2iuJ/IQKKHkBt2B7sTEfnAWBtQs0o1+d26FtSL11mvR",47:"sha384-qpwA3ju66S4sFA54xhgbDR2FWQ8oees5mspSjsTYeNrHqVGPIgZ6vM/a+GrjQ+uX",48:"sha384-lzE4hvJAZ5pAMaS9mzwMyM5zpC9UEkRqxN/h+PfAyADbUGqOEb6y0BjgjFBbusSN",49:"sha384-SrW76mG7Yck3Ypz94SZKPFai4cEjq9M0jfNSbbN4/JonPEQT9d835Ka84t7hdrNL",50:"sha384-xibs8GsIE0MalEkx0KpALjrfAnyC4Yy0egjFUjEwqPzCI8lgGuPqD9x+w16PL/gy",51:"sha384-DJRLDSISQvSbE55pIhyXdFpVlGAACG44tYj7hLjAbDB6BHWLE30klV82n25s3DCV",52:"sha384-U4pd5yl/7d5llkFlRP7HDgVdPsPTB+PSv0eO//y4C6cDP8sT6eUDyBXpxyRFOIXl",53:"sha384-Qb1icXL0UfoBIbbUmFAtPj0KJHtKT6kquKY/BUpQCCfsKxuTUZ+yXE9HJCBCt3Z8",54:"sha384-tyfZIUbZ973Hc5dfktJZx085I9tXPfiOM5dVOBN3OWG3tR4wwLHLxb5Sqhr7YQqL",55:"sha384-xFyzbmJBSRTG14bxUD8LSZKU7ZEluzXuxAop/aVnTdQC46AbJ5lHQYc9VA4SEaKm",56:"sha384-mMdknU2E4wRoaJzhJ8YOIwURCQ7+kMh9V0+h7jNwt183u+Cy0dRkq8aHfH2Rvj8H",57:"sha384-NEt3FPcS/KPgd/pM94ECv4qW9lScMQl2SmuOShvOJACYHM5BYQjdUqYq3mITbYHv",58:"sha384-uWC7Mq/iGBjutexYRHujyFw21gpgGD5yvJ5vfklZiQohGHCIEYRM/FRlaXq2m2SJ",59:"sha384-T9qk/wd1Z1Dj2qbO46IFc+43mf7uFrUQS3NsST3sLNjUM9Q7kgsxhn5zh4dfrtxm",60:"sha384-JOeri0ApfHIKIcjmItSP3S0HeP+WVC5UgizagKpZlGoOWurnN6K0JpQi84VOHwfc",61:"sha384-INSJAEMy/PN+MEIfj0xRJAmO4SKCKkcCvDeWRRZHE0lvxFVLN+uZSlstLJt7eCw0",62:"sha384-HyReR/16KttPy4N2qtQb1xjwMKFcAGg3XwUFSaWX19AFiS+HMT2BuZWOy3XKkg6x",63:"sha384-Y0hiKbFd98+RwoftdYstfAU5Pv8ZQy99HI2skeXAkKrgjC7rjUkJXKLw4DFrjxbN",64:"sha384-6dpxYT+ACA0U76AJP6taqIqGMgPMRQFDgzxvZMr2nxb0Az6HMwJ9TpS3MA3izqPh"};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+""+({}[e]||e)+"."+{3:"8cc6bd05",4:"289eac7a",5:"34349e75",6:"87e23fae",7:"ce6bb801",8:"4fb07aef",9:"947f57b2",10:"c500f9e0",11:"6e754a52",12:"2de2dcec",13:"26218c77",14:"4232a5ec",15:"609df72e",16:"012fa836",17:"bdebd471",18:"08ebfe2c",19:"16f6169c",20:"d736650b",21:"10671e7d",22:"a56c611e",23:"66ca65c5",24:"30469ae3",25:"ac5f5d69",26:"b6da30c6",27:"1e187bdf",28:"1dbedd03",29:"57a08404",30:"051b1870",31:"94cd7924",32:"c82c4169",33:"fec249b2",34:"091970ef",35:"990b39c7",36:"6bd0e35d",37:"99015436",38:"41c9f701",39:"459f1e59",40:"628e857b",41:"184cdca1",42:"e893aea6",43:"a458ed20",44:"37493299",45:"4deed603",46:"4c1a2f55",47:"26991b7c",48:"e415b576",49:"59a11d7d",50:"56cee7c7",51:"eb96219e",52:"896d8463",53:"6e331f91",54:"752e1167",55:"ac9be0c7",56:"92580cea",57:"ba7fd9cf",58:"fe25594a",59:"fbd3d022",60:"f764d01c",61:"9d38de72",62:"ac5ad630",63:"81184869",64:"c6d1b7db"}[e]+".chunk.js"}(e),0!==u.src.indexOf(window.location.origin+"/")&&(u.crossOrigin="anonymous");var l=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",l.name="ChunkLoadError",l.type=r,l.request=c,n[1](l)}a[e]=void 0}};var s=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,u.integrity=o[e],u.crossOrigin="anonymous",document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var f=l;c.push([0,2]),n()}({"+wUL":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"CLIENT_ID",(function(){return m})),n.d(r,"CLIENT_TYPE",(function(){return p})),n.d(r,"CLIENT_SECRET",(function(){return b})),n.d(r,"APP_VERSION",(function(){return v})),n.d(r,"APP_NAME",(function(){return h})),n.d(r,"API_URL",(function(){return g})),n.d(r,"SECURE_URL",(function(){return y})),n.d(r,"LOCALES",(function(){return O})),n.d(r,"API_VERSION",(function(){return j})),n.d(r,"DATE_VERSION",(function(){return E})),n.d(r,"CHANGELOG_PATH",(function(){return x})),n.d(r,"VERSION_PATH",(function(){return w})),n.d(r,"SENTRY_RELEASE",(function(){return C})),n.d(r,"SENTRY_DSN",(function(){return k}));n("pNMO"),n("4Brf"),n("tjZM"),n("3I1R"),n("7+kd"),n("0oug"),n("KhsS"),n("gOCb"),n("a57n"),n("GXvd"),n("I1Gw"),n("gXIK"),n("lEou"),n("gbiT"),n("ma9I"),n("qHT+"),n("piMb"),n("yyme"),n("TeQF"),n("fbCW"),n("x0AG"),n("BIHw"),n("XbcX"),n("QWBl"),n("pjDv"),n("yq1k"),n("yXV3"),n("4mDm"),n("oVuX"),n("uqXc"),n("2B1R"),n("Xe3L"),n("E9XD"),n("9N29"),n("Junv"),n("+2oP"),n("Rfxz"),n("ToJy"),n("94Xl"),n("pDQq"),n("QGkA"),n("c9m3"),n("wZ/5"),n("gtqK"),n("rOQg"),n("tCCV"),n("rMz7"),n("9LPj"),n("7+zs"),n("DQNa"),n("tW5y"),n("sMBO"),n("DEfu"),n("Tskq"),n("Uydy"),n("eajv"),n("n/mU"),n("PqOI"),n("QNnp"),n("/5zm"),n("CsgD"),n("9mRW"),n("QFcT"),n("vAFs"),n("a5NK"),n("yiG3"),n("kNcU"),n("KvGi"),n("AmFO"),n("eJiR"),n("I9xj"),n("tl/u"),n("qePV"),n("NbN+"),n("8AyJ"),n("i6QF"),n("kSko"),n("WDsR"),n("r/Vq"),n("5uH8"),n("w1rZ"),n("JevA"),n("toAj"),n("VC3L"),n("zKZe"),n("Eqjn"),n("HRxU"),n("eoL8"),n("5xtp"),n("T63A"),n("3KgV"),n("wfmh"),n("5DmW"),n("27RR"),n("cDke"),n("NBAS"),n("Kxld"),n("yQYn"),n("4h0Y"),n("5D5o"),n("tkto"),n("v5b1"),n("W/eh"),n("zuhW"),n("r5Og"),n("ExoC"),n("07d7"),n("B6y2"),n("rNhl"),n("4l63"),n("5s+n"),n("p532"),n("pv2x"),n("SuFq"),n("PzqY"),n("rBZX"),n("XUE8"),n("nkod"),n("f3jH"),n("x2An"),n("25bX"),n("G/JM"),n("1t3B"),n("ftMj"),n("i5pp"),n("TWNs"),n("rB9j"),n("U3f4"),n("JfAA"),n("YGK4"),n("9bJ7"),n("inlA"),n("9tb/"),n("JTJg"),n("PKPk"),n("Rm1S"),n("hDyC"),n("TZCg"),n("2A+d"),n("OM9Z"),n("UxlC"),n("hByQ"),n("EnZy"),n("LKBx"),n("SYor"),n("HiXI"),n("7ueG"),n("GKVU"),n("E5NM"),n("BNMt"),n("zHFu"),n("x83w"),n("l2dK"),n("GRPF"),n("xdBZ"),n("mRH6"),n("yWo2"),n("IxXR"),n("TFPT"),n("Zk8X"),n("z8NH"),n("SpvK"),n("/Yfv"),n("iwkZ"),n("FDzp"),n("XMab"),n("ilnZ"),n("hMMk"),n("+ywr"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("IL/d"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("7JcK"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0"),n("ENF9"),n("H+LF"),n("FZtP"),n("3bBZ"),n("Ew+T"),n("n5b4"),n("Kz25"),n("vxnP"),n("mGGf");var a=n("i8i4"),c=n.n(a),o=n("q1tI"),i=n.n(o),u=(n("ls82"),n("wSuE")),l=(n("pZvr"),n("sQ7P")),s=n("U0S0"),f=n("6lBS"),d=n("g5XH"),m="WebContacts",p=1,b="",v="0.0.0",h="proton-contacts",g="https://protonmail.blue/api",y="https://secure.protonmail.blue",O={},j="3",E="Mon, 16 Dec 2019 21:16:08 GMT",x="assets/changelog.tpl.html",w="assets/version.json",C="",k="",P=n("LTi8"),N=n("VjqJ"),D=n("yoKv"),I=n("4p7I"),S=n("mLw1"),A=n("mBH9"),T=n("pW7U"),M=n("p2/2"),L=n("f6D/"),K=n("XTKM"),R=n("/kVl"),F=n("Iivb"),G=n("FZZp"),U=n("Xrgn"),B=n("+q81"),z=n("8hY9"),V=n("bf08"),W=n("veyU"),Y=Object(o.createContext)(),H=function(e){var t=e.children,n=Object(G.a)().subscribe,r=Object(U.a)((function(){return Object(B.a)(Object(z.a)({max:10}))}));return Object(o.useLayoutEffect)((function(){return n((function(e){var t=e.Contacts;if(Array.isArray(t)){var n=!0,a=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value,l=u.ID,s=u.Action,f=u.Contact;r.has(l)&&(s===V.t.DELETE&&r.delete(l),s===V.t.UPDATE&&r.set(l,{value:f,status:W.a.RESOLVED}))}}catch(d){a=!0,c=d}finally{try{n||null==i.return||i.return()}finally{if(a)throw c}}}}))}),[]),i.a.createElement(Y.Provider,{value:r},t)},X=n("VkAN"),J=n.n(X),q=n("lSNA"),Q=n.n(q),Z=n("J4zp"),_=n.n(Z),$=n("whF5"),ee=n("KAzH"),te=n("F9b+"),ne=n("X9p3"),re=n("yfEu"),ae=n("7xJH"),ce=n("nitM"),oe=n("wc4/"),ie=n("eBbU"),ue=n("ImWu"),le=n("LKB7"),se=n("DIu/"),fe=n("RIqP"),de=n.n(fe);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=["fn","email","tel","adr","key"],ve=function(e){return be.includes(e)},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.value})).map((function(e){return Array.isArray(e.value)?e:pe({},e,{value:e.value.toString()})})).map((function(e){var t=e.field,n=e.value;return"adr"!==t||Array.isArray(n)?e:pe({},e,{value:n.split(",").slice(0,6)})}))},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=be.reduce((function(e,t){return e[t]=0,e}),Object.create(null));return e.map((function(e){return be.includes(e.field)?pe({},e,{pref:t[e.field]=t[e.field]+1}):e}))},ye=function(e,t){return e.pref-t.pref},Oe=function(e){var t=e.reduce((function(e,t){return be.includes(t.field)?e.withPref.push(t):e.withoutPref.push(t),e}),{withPref:[],withoutPref:[]}),n=t.withPref,r=t.withoutPref;return n.sort(ye).concat(r)},je=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=1,n=!1;!n;)e.includes("item".concat(t))?t++:n=!0;return"item".concat(t)},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return e.group}));return e.map((function(e){if(!["email"].includes(e.field)||e.group)return e;var n=je(t);return t.push(n),pe({},e,{group:n})}))},xe=function(e,t){return(e.find((function(e){return e.field===t}))||{}).value},we=function(e,t){return ge(e).filter((function(e){return e.field===t})).sort(ye).map((function(e){return e.value}))},Ce=n("+AqD"),ke=n("o0o1"),Pe=n.n(ke),Ne=n("UeCU"),De=n.n(Ne),Ie=n("HlEg"),Se=n("dG5C"),Ae=n("pdRq"),Te=["bday","anniversary","gender","lang","tz","geo","title","role","photo","logo","org","member","note","url"],Me=["key","x-pm-mimetype","x-pm-encrypt","x-pm-sign","x-pm-scheme","x-pm-tls"],Le=["version","prodid","categories"],Ke=["version","prodid","fn","uid","email"].concat(Me),Re=0,Fe=1,Ge=0,Ue=1,Be=n("iylp"),ze=function(e){var t=function(e){try{return e.getValues()}catch(r){var t=e.jCal||[],n=_()(t,4)[3];return[void 0===n?"":n]}}(e).map((function(e){return Array.isArray(e)?e:"string"==typeof e?e:e.toString()}));return _()(t,1)[0]},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase().replace("x-","")},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e.length?e[0]:"":e},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(Boolean).map((function(e){return e.trim()})).join(", ")},He=function(e,t,n){var r,a,c,o,i,u,l;return Pe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return r=e.filter((function(e){var n=e.field,r=e.group;return Me.includes(n)&&r===t})).reduce((function(e,t){var n=t.field,r=t.value,a=t.pref;if("key"===n&&r){var c=r.split(","),o=_()(c,2)[1],i=void 0===o?"":o,u=Object(Se.d)(Object(Se.g)(i));if(u.length){var l=Object(Ae.b)(u).then((function(e){return{publicKey:_()(e,1)[0],pref:a}})).catch(Be.b);e.pinnedKeyPromises.push(l)}return e}return"x-pm-encrypt"===n&&r?(e.encrypt="true"===r,e):"x-pm-sign"===n&&r?(e.sign="true"===r,e):"x-pm-scheme"===n&&r?(e.scheme=r,e):"x-pm-mimetype"===n&&r?(e.mimeType=r,e):e}),{pinnedKeyPromises:[],mimeType:"",encrypt:!1,scheme:"",sign:1===n}),a=r.pinnedKeyPromises,c=r.mimeType,o=r.encrypt,i=r.scheme,u=r.sign,s.next=3,Pe.a.awrap(Promise.all(a));case 3:return s.t0=Boolean,s.t1=ye,s.t2=function(e){return e.publicKey},l=s.sent.filter(s.t0).sort(s.t1).map(s.t2),s.abrupt("return",{pinnedKeys:l,mimeType:c,encrypt:o,scheme:i,sign:u});case 8:case"end":return s.stop()}}))},Xe="1*",Je="*",qe={fn:{cardinality:Xe},n:{cardinality:"*1"},nickname:{cardinality:Je},photo:{cardinality:Je},bday:{cardinality:"*1"},anniversary:{cardinality:"*1"},gender:{cardinality:"*1"},adr:{cardinality:Je},tel:{cardinality:Je},email:{cardinality:Je},impp:{cardinality:Je},lang:{cardinality:Je},tz:{cardinality:Je},geo:{cardinality:Je},title:{cardinality:Je},role:{cardinality:Je},logo:{cardinality:Je},org:{cardinality:Je},member:{cardinality:Je},related:{cardinality:Je},categories:{cardinality:Je},note:{cardinality:Je},prodid:{cardinality:"*1"},rev:{cardinality:"*1"},sound:{cardinality:Je},uid:{cardinality:"*1"},clientpidmap:{cardinality:Je},url:{cardinality:Je},version:{cardinality:"1"},key:{cardinality:Je},fburl:{cardinality:Je},caladruri:{cardinality:Je},caluri:{cardinality:Je}},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("x-")},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new De.a.Component(De.a.parse(e)),n=t.getAllProperties();return n.reduce((function(e,t){var n=t.name.split("."),r=n[1]?n[1]:n[0],a=t.getParameter("type"),c=t.getParameter("pref"),o="string"==typeof c&&ve(r)?+c:void 0;if(!r)return e;if(!Qe(r)&&!qe[r])return e;var i={pref:o,field:r,group:n[1]?n[0]:void 0,type:a,value:ze(t)};return e.push(i),e}),[]).sort(ye)},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new De.a.Component("vcard");if(!e.some((function(e){return"version"===e.field}))){var n=new De.a.Property("version");n.setValue("4.0"),t.addProperty(n)}return e.reduce((function(e,t){var n=t.field,r=t.type,a=t.pref,c=t.value,o=[t.group,n].filter(Boolean).join("."),i=new De.a.Property(o);return i.setValue(c),r&&i.setParameter("type",r),a&&i.setParameter("pref",""+a),e.addProperty(i),e}),t)},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return t.forEach((function(t){var n=t.field,r=(qe[n]||{}).cardinality;[Xe,Je].includes(void 0===r?Je:r)?e.push(t):e.find((function(e){return e.field===n}))||e.push(t)})),e}),[])},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e.match(/BEGIN:VCARD/g)&&e.match(/BEGIN:VCARD/g).length===(e.match(/END:VCARD/g)||[]).length},tt=function(e){var t;return Pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Pe.a.awrap(Object(Ie.a)(e));case 2:if(t=n.sent,et(t)){n.next=5;break}throw new Error("Error when reading vcf file");case 5:return n.abrupt("return",t);case 6:case"end":return n.stop()}}))};function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=function e(t){var n=!1,r=t.reduce((function(e,t){var r=e.connected,a=e.newConnections,c=function(e,t){var n=!0,r=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;if(void 0!==t[i])return t[i]}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return-1}(t,r);if(-1!==c){a[c]=Object(Ce.e)([].concat(de()(t),de()(a[c])));var o=!0,i=!1,u=void 0;try{for(var l,s=t[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=l.value;void 0===r[f]&&(r[f]=c)}}catch(h){i=!0,u=h}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}n=!0}else{var d=!0,m=!1,p=void 0;try{for(var b,v=t[Symbol.iterator]();!(d=(b=v.next()).done);d=!0){r[b.value]=a.length}}catch(h){m=!0,p=h}finally{try{d||null==v.return||v.return()}finally{if(m)throw p}}a.push(t)}return e}),{connected:Object.create(null),newConnections:[]}).newConnections;return n?e(r):t},ct=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("adr"===t){var r=n.map((function(t){return!t.map((function(t,n){var r=Array.isArray(t),a=Array.isArray(e[n]);return r&&a?e[n].some((function(e){return!t.includes(e)})):!(!r&&!a)||t!==e[n]})).filter(Boolean).length})).filter(Boolean);return r.length?"":e}return n.includes(e)?"":e},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];var t=e.reduce((function(e,t,n){var r=e.mergedContact,a=e.mergedProperties,c=e.mergedPropertiesPrefs,o=e.mergedGroups;if(0===n){r.push.apply(r,de()(t));var i=!0,u=!1,l=void 0;try{for(var s,f=t[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var d=s.value,m=d.pref,p=d.field,b=d.value,v=d.group;a[p]?(a[p].push(b),ve(p)&&c[p].push(m)):(a[p]=[b],ve(p)&&(c[p]=[m])),"email"===p&&(o[b]=v)}}catch(A){u=!0,l=A}finally{try{i||null==f.return||f.return()}finally{if(u)throw l}}}else{var h=t.filter((function(e){return"email"===e.field})).map((function(e){return{email:e.value,group:e.group}})).reduce((function(e,t){var n=t.email,r=t.group;return Object.values(o).includes(r)?e[r]=o[n]||je(Object.values(o)):e[r]=r,e}),Object.create(null)),g=!0,y=!1,O=void 0;try{for(var j,E=t[Symbol.iterator]();!(g=(j=E.next()).done);g=!0){var x=j.value,w=x.pref,C=x.field,k=x.group,P=x.value,N=k?h[k]:k;if(a[C]){var D=ct(P,C,a[C]),I=ve(C)?Math.max.apply(Math,de()(c[C]))+1:void 0,S=Qe(C)||[Je,Xe].includes(qe[C].cardinality);D&&S&&(r.push(rt({},x,{pref:I,value:D,group:N})),a[C].push(D),ve(C)&&(c[C]=[I]),N&&"email"===C&&(o[P]=N))}else r.push(rt({},x,{pref:w,group:N})),a[C]=[P],ve(C)&&(c[C]=[w]),N&&"email"===C&&(o[P]=N)}}catch(A){y=!0,O=A}finally{try{g||null==E.return||E.return()}finally{if(y)throw O}}}return e}),{mergedContact:[],mergedProperties:Object.create(null),mergedPropertiesPrefs:Object.create(null),mergedGroups:Object.create(null)}),n=t.mergedContact;return n},it=n("0U2K"),ut=n("rbcQ"),lt=n("9C/b"),st=n("b9ZJ"),ft=n.n(st),dt=n("QWsV"),mt=n.n(dt),pt=n("ai43"),bt=n("zI3M"),vt=n("pVnL"),ht=n.n(vt),gt=n("QILm"),yt=n.n(gt),Ot=n("pIIs"),jt=n("/z5T"),Et=n("ncqd"),xt=n("+Vas"),wt=n("FbvF"),Ct=n("sjWO"),kt=n("YJeA"),Pt=n("CzMN"),Nt=n("Md23"),Dt=n("e2Bf"),It=n("0xu3");function St(){var e=J()(["Delete"]);return St=function(){return e},e}var At=function(e){var t=e.file,n=e.iconName,r=e.className,a=e.clear,c=void 0===a?Object($.c)("Action").t(St()):a,o=e.onClear,u=yt()(e,["file","iconName","className","clear","onClear"]),l=Object(Ie.b)(t.name),s=_()(l,2),f=s[0],d=s[1];return i.a.createElement("div",ht()({className:"flex bordered-container w100 ".concat(r)},u),i.a.createElement("div",{className:"p0-5 flex flex-item-noshrink w10"},i.a.createElement(Nt.a,{name:n,className:"mauto"})),i.a.createElement("div",{className:"message-attachmentInfo p0-5 flex flex-nowrap w90"},i.a.createElement("div",{className:"flex-item-fluid pr1"},i.a.createElement("div",{className:"ellipsis",title:f},f),i.a.createElement("div",null,"".concat(d.toUpperCase()," - ").concat(Object(It.a)(t.size)))),i.a.createElement(Dt.a,{className:"flex-item-noshrink",onClick:o},c)))};function Tt(){var e=J()(["Select file from computer"]);return Tt=function(){return e},e}function Mt(){var e=J()(["We support importing CSV files from Outlook, Outlook Express, Yahoo! Mail, Hotmail, Eudora and some other apps. We also support importing vCard 4.0. (UTF-8 encoding)."]);return Mt=function(){return e},e}var Lt=function(e){var t=e.attached,n=e.file,r=e.onAttach,a=e.onClear;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xt.a,{learnMore:"https://protonmail.com/support/knowledge-base/adding-contacts/"},Object($.c)("Description").t(Mt())),i.a.createElement(kt.a,{className:"flex"},t?i.a.createElement(At,{file:n,iconName:"contacts-groups",onClear:a}):i.a.createElement(Pt.a,{className:"center",accept:".csv, .vcf",id:"import-contacts",onChange:r},Object($.c)("Action").t(Tt()))))};Lt.PropTypes={files:[]};var Kt=Lt,Rt=n("/hVJ"),Ft=n("Z/R7"),Gt=n("h075"),Ut=n("fTXG");function Bt(){var e=J()(["VALUES"]);return Bt=function(){return e},e}function zt(){var e=J()(["VCARD FIELD"]);return zt=function(){return e},e}function Vt(){var e=J()(["CSV FIELD"]);return Vt=function(){return e},e}function Wt(){var e=J()(["IMPORT"]);return Wt=function(){return e},e}var Yt=function(e){var t=e.disabledPrevious,n=e.disabledNext,r=e.onPrevious,a=e.onNext,c=yt()(e,["disabledPrevious","disabledNext","onPrevious","onNext"]);return i.a.createElement("thead",c,i.a.createElement("tr",null,i.a.createElement(Ut.a,{type:"header",className:"w15 aligncenter"},Object($.c)("TableHeader").t(Wt())),i.a.createElement(Ut.a,{type:"header",className:"aligncenter"},Object($.c)("TableHeader").t(Vt())),i.a.createElement(Ut.a,{type:"header",className:"aligncenter"},Object($.c)("TableHeader").t(zt())),i.a.createElement(Ut.a,{type:"header",className:"w30 aligncenter"},i.a.createElement("div",{className:"inline-flex"},i.a.createElement("span",{className:"flex-item-centered-vert mr0-5"},Object($.c)("TableHeader").t(Bt())),i.a.createElement("span",{className:"flex flex-nowrap"},i.a.createElement(Dt.a,{disabled:t,icon:i.a.createElement(Nt.a,{name:"caret",className:"flex-item-noshrink rotateZ-90"}),onClick:r}),i.a.createElement(Dt.a,{disabled:n,icon:i.a.createElement(Nt.a,{name:"caret",className:"flex-item-noshrink rotateZ-270"}),onClick:a}))))))};Yt.defaultPropTypes={disabledPrevious:!0,disabledNext:!0};var Ht=Yt,Xt=n("ErEO"),Jt=n("tWpJ"),qt=n("dVIL"),Qt=n("SI5Q");function Zt(){var e=J()(["Sound"]);return Zt=function(){return e},e}function _t(){var e=J()(["Categories"]);return _t=function(){return e},e}function $t(){var e=J()(["Related"]);return $t=function(){return e},e}function en(){var e=J()(["IMPP"]);return en=function(){return e},e}function tn(){var e=J()(["Member"]);return tn=function(){return e},e}function nn(){var e=J()(["Logo"]);return nn=function(){return e},e}function rn(){var e=J()(["Geo"]);return rn=function(){return e},e}function an(){var e=J()(["Timezone"]);return an=function(){return e},e}function cn(){var e=J()(["Language"]);return cn=function(){return e},e}function on(){var e=J()(["Gender"]);return on=function(){return e},e}function un(){var e=J()(["URL"]);return un=function(){return e},e}function ln(){var e=J()(["Note"]);return ln=function(){return e},e}function sn(){var e=J()(["Role"]);return sn=function(){return e},e}function fn(){var e=J()(["Title"]);return fn=function(){return e},e}function dn(){var e=J()(["Anniversary"]);return dn=function(){return e},e}function mn(){var e=J()(["Birthday"]);return mn=function(){return e},e}function pn(){var e=J()(["Organization"]);return pn=function(){return e},e}function bn(){var e=J()(["Photo"]);return bn=function(){return e},e}function vn(){var e=J()(["Address"]);return vn=function(){return e},e}function hn(){var e=J()(["Phone"]);return hn=function(){return e},e}function gn(){var e=J()(["Email"]);return gn=function(){return e},e}function yn(){var e=J()(["Nickname"]);return yn=function(){return e},e}function On(){var e=J()(["Compact name"]);return On=function(){return e},e}function jn(){var e=J()(["Name"]);return jn=function(){return e},e}function En(){var e=J()(["Logo"]);return En=function(){return e},e}function xn(){var e=J()(["Geo"]);return xn=function(){return e},e}function wn(){var e=J()(["Timezone"]);return wn=function(){return e},e}function Cn(){var e=J()(["Language"]);return Cn=function(){return e},e}function kn(){var e=J()(["Gender"]);return kn=function(){return e},e}function Pn(){var e=J()(["URL"]);return Pn=function(){return e},e}function Nn(){var e=J()(["Note"]);return Nn=function(){return e},e}function Dn(){var e=J()(["Member"]);return Dn=function(){return e},e}function In(){var e=J()(["Role"]);return In=function(){return e},e}function Sn(){var e=J()(["Title"]);return Sn=function(){return e},e}function An(){var e=J()(["Anniversary"]);return An=function(){return e},e}function Tn(){var e=J()(["Birthday"]);return Tn=function(){return e},e}function Mn(){var e=J()(["Organization"]);return Mn=function(){return e},e}function Ln(){var e=J()(["Photo"]);return Ln=function(){return e},e}function Kn(){var e=J()(["Logo"]);return Kn=function(){return e},e}function Rn(){var e=J()(["Geo"]);return Rn=function(){return e},e}function Fn(){var e=J()(["Timezone"]);return Fn=function(){return e},e}function Gn(){var e=J()(["Language"]);return Gn=function(){return e},e}function Un(){var e=J()(["Gender"]);return Un=function(){return e},e}function Bn(){var e=J()(["URL"]);return Bn=function(){return e},e}function zn(){var e=J()(["Note"]);return zn=function(){return e},e}function Vn(){var e=J()(["Member"]);return Vn=function(){return e},e}function Wn(){var e=J()(["Role"]);return Wn=function(){return e},e}function Yn(){var e=J()(["Title"]);return Yn=function(){return e},e}function Hn(){var e=J()(["Anniversary"]);return Hn=function(){return e},e}function Xn(){var e=J()(["Birthday"]);return Xn=function(){return e},e}function Jn(){var e=J()(["Organization"]);return Jn=function(){return e},e}function qn(){var e=J()(["Photo"]);return qn=function(){return e},e}function Qn(){var e=J()(["Address"]);return Qn=function(){return e},e}function Zn(){var e=J()(["Phone"]);return Zn=function(){return e},e}function _n(){var e=J()(["Email"]);return _n=function(){return e},e}function $n(){var e=J()(["Name"]);return $n=function(){return e},e}function er(){var e=J()(["Sound"]);return er=function(){return e},e}function tr(){var e=J()(["Categories"]);return tr=function(){return e},e}function nr(){var e=J()(["Related"]);return nr=function(){return e},e}function rr(){var e=J()(["IMPP"]);return rr=function(){return e},e}function ar(){var e=J()(["Member"]);return ar=function(){return e},e}function cr(){var e=J()(["Logo"]);return cr=function(){return e},e}function or(){var e=J()(["Geo"]);return or=function(){return e},e}function ir(){var e=J()(["Timezone"]);return ir=function(){return e},e}function ur(){var e=J()(["Language"]);return ur=function(){return e},e}function lr(){var e=J()(["Gender"]);return lr=function(){return e},e}function sr(){var e=J()(["URL"]);return sr=function(){return e},e}function fr(){var e=J()(["Note"]);return fr=function(){return e},e}function dr(){var e=J()(["Role"]);return dr=function(){return e},e}function mr(){var e=J()(["Title"]);return mr=function(){return e},e}function pr(){var e=J()(["Anniversary"]);return pr=function(){return e},e}function br(){var e=J()(["Birthday"]);return br=function(){return e},e}function vr(){var e=J()(["Organization"]);return vr=function(){return e},e}function hr(){var e=J()(["Photo"]);return hr=function(){return e},e}function gr(){var e=J()(["Address"]);return gr=function(){return e},e}function yr(){var e=J()(["Phone"]);return yr=function(){return e},e}function Or(){var e=J()(["Email"]);return Or=function(){return e},e}function jr(){var e=J()(["Nickname"]);return jr=function(){return e},e}function Er(){var e=J()(["Compact name"]);return Er=function(){return e},e}function xr(){var e=J()(["Name"]);return xr=function(){return e},e}var wr=function(){return[{text:Object($.c)("Contact field label").t(Ln()),value:"photo"},{text:Object($.c)("Contact field label").t(Mn()),value:"org"},{text:Object($.c)("Contact field label").t(Tn()),value:"bday"},{text:Object($.c)("Contact field label").t(An()),value:"anniversary"},{text:Object($.c)("Contact field label").t(Sn()),value:"title"},{text:Object($.c)("Contact field label").t(In()),value:"role"},{text:Object($.c)("Contact field label").t(Dn()),value:"member"},{text:Object($.c)("Contact field label").t(Nn()),value:"note"},{text:Object($.c)("Contact field label").t(Pn()),value:"url"},{text:Object($.c)("Contact field label").t(kn()),value:"gender"},{text:Object($.c)("Contact field label").t(Cn()),value:"lang"},{text:Object($.c)("Contact field label").t(wn()),value:"tz"},{text:Object($.c)("Contact field label").t(xn()),value:"geo"},{text:Object($.c)("Contact field label").t(En()),value:"logo"}]},Cr=function(){return{fn:Object($.c)("Contact field label").t(jn()),n:Object($.c)("Contact field label").t(On()),nickname:Object($.c)("Contact field label").t(yn()),email:Object($.c)("Contact field label").t(gn()),tel:Object($.c)("Contact field label").t(hn()),adr:Object($.c)("Contact field label").t(vn()),photo:Object($.c)("Contact field label").t(bn()),org:Object($.c)("Contact field label").t(pn()),bday:Object($.c)("Contact field label").t(mn()),anniversary:Object($.c)("Contact field label").t(dn()),title:Object($.c)("Contact field label").t(fn()),role:Object($.c)("Contact field label").t(sn()),note:Object($.c)("Contact field label").t(ln()),url:Object($.c)("Contact field label").t(un()),gender:Object($.c)("Contact field label").t(on()),lang:Object($.c)("Contact field label").t(cn()),tz:Object($.c)("Contact field label").t(an()),geo:Object($.c)("Contact field label").t(rn()),logo:Object($.c)("Contact field label").t(nn()),member:Object($.c)("Contact field label").t(tn()),impp:Object($.c)("Contact field label").t(en()),related:Object($.c)("Contact field label").t($t()),categories:Object($.c)("Contact field label").t(_t()),sound:Object($.c)("Contact field label").t(Zt())}},kr=function(e){var t=e.value,n=e.onChangeField,r=[{text:Object($.c)("Contact field label").t(xr()),value:"fn"},{text:Object($.c)("Contact field label").t(Er()),value:"n"},{text:Object($.c)("Contact field label").t(jr()),value:"nickname"},{text:Object($.c)("Contact field label").t(Or()),value:"email"},{text:Object($.c)("Contact field label").t(yr()),value:"tel"},{text:Object($.c)("Contact field label").t(gr()),value:"adr"},{text:Object($.c)("Contact field label").t(hr()),value:"photo"},{text:Object($.c)("Contact field label").t(vr()),value:"org"},{text:Object($.c)("Contact field label").t(br()),value:"bday"},{text:Object($.c)("Contact field label").t(pr()),value:"anniversary"},{text:Object($.c)("Contact field label").t(mr()),value:"title"},{text:Object($.c)("Contact field label").t(dr()),value:"role"},{text:Object($.c)("Contact field label").t(fr()),value:"note"},{text:Object($.c)("Contact field label").t(sr()),value:"url"},{text:Object($.c)("Contact field label").t(lr()),value:"gender"},{text:Object($.c)("Contact field label").t(ur()),value:"lang"},{text:Object($.c)("Contact field label").t(ir()),value:"tz"},{text:Object($.c)("Contact field label").t(or()),value:"geo"},{text:Object($.c)("Contact field label").t(cr()),value:"logo"},{text:Object($.c)("Contact field label").t(ar()),value:"member"},{text:Object($.c)("Contact field label").t(rr()),value:"impp"},{text:Object($.c)("Contact field label").t(nr()),value:"related"},{text:Object($.c)("Contact field label").t(tr()),value:"categories"},{text:Object($.c)("Contact field label").t(er()),value:"sound"}];return i.a.createElement(qt.a,{className:"pt0"},i.a.createElement(Qt.a,{value:t,options:r,onChange:function(e){var t=e.target;return n(t.value)}}))};function Pr(){var e=J()(["Emergency"]);return Pr=function(){return e},e}function Nr(){var e=J()(["Agent"]);return Nr=function(){return e},e}function Dr(){var e=J()(["Me"]);return Dr=function(){return e},e}function Ir(){var e=J()(["Sweetheart"]);return Ir=function(){return e},e}function Sr(){var e=J()(["Date"]);return Sr=function(){return e},e}function Ar(){var e=J()(["Crush"]);return Ar=function(){return e},e}function Tr(){var e=J()(["Muse"]);return Tr=function(){return e},e}function Mr(){var e=J()(["Kin"]);return Mr=function(){return e},e}function Lr(){var e=J()(["Sibling"]);return Lr=function(){return e},e}function Kr(){var e=J()(["Sibling"]);return Kr=function(){return e},e}function Rr(){var e=J()(["Parent"]);return Rr=function(){return e},e}function Fr(){var e=J()(["Child"]);return Fr=function(){return e},e}function Gr(){var e=J()(["Neighbor"]);return Gr=function(){return e},e}function Ur(){var e=J()(["Co-resident"]);return Ur=function(){return e},e}function Br(){var e=J()(["Colleague"]);return Br=function(){return e},e}function zr(){var e=J()(["Co-worker"]);return zr=function(){return e},e}function Vr(){var e=J()(["Met"]);return Vr=function(){return e},e}function Wr(){var e=J()(["Friend"]);return Wr=function(){return e},e}function Yr(){var e=J()(["Acquaintance"]);return Yr=function(){return e},e}function Hr(){var e=J()(["Contact"]);return Hr=function(){return e},e}function Xr(){var e=J()(["Other"]);return Xr=function(){return e},e}function Jr(){var e=J()(["Work"]);return Jr=function(){return e},e}function qr(){var e=J()(["Home"]);return qr=function(){return e},e}function Qr(){var e=J()(["Address"]);return Qr=function(){return e},e}function Zr(){var e=J()(["Pager"]);return Zr=function(){return e},e}function _r(){var e=J()(["Fax"]);return _r=function(){return e},e}function $r(){var e=J()(["Main"]);return $r=function(){return e},e}function ea(){var e=J()(["Mobile"]);return ea=function(){return e},e}function ta(){var e=J()(["Other"]);return ta=function(){return e},e}function na(){var e=J()(["Work"]);return na=function(){return e},e}function ra(){var e=J()(["Home"]);return ra=function(){return e},e}function aa(){var e=J()(["Phone"]);return aa=function(){return e},e}function ca(){var e=J()(["Other"]);return ca=function(){return e},e}function oa(){var e=J()(["Work"]);return oa=function(){return e},e}function ia(){var e=J()(["Home"]);return ia=function(){return e},e}function ua(){var e=J()(["Email"]);return ua=function(){return e},e}function la(){var e=J()(["Yomi"]);return la=function(){return e},e}function sa(){var e=J()(["Name"]);return sa=function(){return e},e}function fa(){var e=J()(["Pager"]);return fa=function(){return e},e}function da(){var e=J()(["Fax"]);return da=function(){return e},e}function ma(){var e=J()(["Other"]);return ma=function(){return e},e}function pa(){var e=J()(["Yomi"]);return pa=function(){return e},e}function ba(){var e=J()(["Main"]);return ba=function(){return e},e}function va(){var e=J()(["Mobile"]);return va=function(){return e},e}function ha(){var e=J()(["Personal"]);return ha=function(){return e},e}function ga(){var e=J()(["Work"]);return ga=function(){return e},e}var ya=function(){return{fn:[{text:Object($.c)("Property type").t(sa()),value:""},{text:Object($.c)("Property type").t(la()),value:"yomi"}],n:[],nickname:[],email:[{text:Object($.c)("Property type").t(ua()),value:""},{text:Object($.c)("Property type").t(ia()),value:"home"},{text:Object($.c)("Property type").t(oa()),value:"work"},{text:Object($.c)("Property type").t(ca()),value:"other"}],tel:[{text:Object($.c)("Property type").t(aa()),value:""},{text:Object($.c)("Property type").t(ra()),value:"home"},{text:Object($.c)("Property type").t(na()),value:"work"},{text:Object($.c)("Property type").t(ta()),value:"other"},{text:Object($.c)("Property type").t(ea()),value:"cell"},{text:Object($.c)("Property type").t($r()),value:"main"},{text:Object($.c)("Property type").t(_r()),value:"fax"},{text:Object($.c)("Property type").t(Zr()),value:"pager"}],adr:[{text:Object($.c)("Property type").t(Qr()),value:""},{text:Object($.c)("Property type").t(qr()),value:"home"},{text:Object($.c)("Property type").t(Jr()),value:"work"},{text:Object($.c)("Property type").t(Xr()),value:"other"}],bday:[],anniversary:[],gender:[],lang:[],tz:[],geo:[],title:[],role:[],logo:[],photo:[],org:[],related:[{text:Object($.c)("Property type").t(Hr()),value:"contact"},{text:Object($.c)("Property type").t(Yr()),value:"acquaintance"},{text:Object($.c)("Property type").t(Wr()),value:"friend"},{text:Object($.c)("Property type").t(Vr()),value:"met"},{text:Object($.c)("Property type").t(zr()),value:"co-worker"},{text:Object($.c)("Property type").t(Br()),value:"colleague"},{text:Object($.c)("Property type").t(Ur()),value:"co-resident"},{text:Object($.c)("Property type").t(Gr()),value:"neighbor"},{text:Object($.c)("Property type").t(Fr()),value:"child"},{text:Object($.c)("Property type").t(Rr()),value:"parent"},{text:Object($.c)("Property type").t(Kr()),value:"sibling"},{text:Object($.c)("Property type").t(Lr()),value:"spouse"},{text:Object($.c)("Property type").t(Mr()),value:"kin"},{text:Object($.c)("Property type").t(Tr()),value:"muse"},{text:Object($.c)("Property type").t(Ar()),value:"crush"},{text:Object($.c)("Property type").t(Sr()),value:"date"},{text:Object($.c)("Property type").t(Ir()),value:"sweetheart"},{text:Object($.c)("Property type").t(Dr()),value:"me"},{text:Object($.c)("Property type").t(Nr()),value:"agent"},{text:Object($.c)("Property type").t(Pr()),value:"emergency"}],member:[],note:[],url:[]}},Oa=function(e){var t=e.field,n=e.value,r=e.onChangeType,a=ya();return i.a.createElement(qt.a,{className:"pt0"},i.a.createElement(Qt.a,{value:n,options:a[t],onChange:function(e){var t=e.target;return r(t.value)}}))},ja=n("NpuA"),Ea=n.n(ja),xa=["name","initials","short name","maiden name","group membership","mileage","billing information","directory server","sensitivity","priority","subject"],wa=function(e){switch(e.toLowerCase()){case"home":return"home";case"business":case"work":return"work";case"mobile":case"cell":return"cell";case"other":return"other";case"main":case"primary":return"main";case"company main":return"work";case"pager":return"pager";case"home fax":case"work fax":return"fax";default:return""}},Ca=function(e){return{header:e.header,value:e.value,checked:!0,pref:1,field:"fn",type:"main",combineInto:"fn-main",combineIndex:e.index}},ka=function(e){return{header:e.header,value:e.value,checked:!0,pref:2,field:"fn",type:"yomi",combineInto:"fn-yomi",combineIndex:e.index}},Pa=function(e){return{header:e.header,value:e.value,checked:!0,field:"n",combineInto:"n",combineIndex:e.index}},Na=function(e){var t=e.pref;return{pref:t,header:e.header,value:e.value,checked:!0,field:"email",type:e.type,group:t}},Da=function(e){return{pref:e.pref,header:e.header,value:e.value,checked:!0,field:"tel",type:e.type}},Ia=function(e){var t=e.pref,n=e.header,r=e.type,a=e.value,c=e.index;return{pref:t,header:n,value:a,checked:!0,field:"adr",type:r,combineInto:"adr-".concat(r),combineIndex:c}},Sa=function(e){return{pref:e.pref,header:e.header,value:e.value,checked:!0,field:"org",combineInto:"org",combineIndex:e.index}},Aa=function(e){var t=e.original,n=e.standard,r=Object(le.g)(n),a=t;if(["title","name prefix"].includes(r))return function(e){return[Ca({header:a,value:e,index:0}),Pa({header:a,value:e,index:3})]};if(["first name","given name"].includes(r))return function(e){return[Ca({header:a,value:e,index:1}),Pa({header:a,value:e,index:1})]};if(["middle name","additional name"].includes(r))return function(e){return[Ca({header:a,value:e,index:2}),Pa({header:a,value:e,index:2})]};if(["last name","family name"].includes(r))return function(e){return[Ca({header:a,value:e,index:3}),Pa({header:a,value:e,index:0})]};if(["suffix","name suffix"].includes(r))return function(e){return[Ca({header:a,value:e,index:4}),Pa({header:a,value:e,index:4})]};if(["given yomi","given name yomi"].includes(r))return function(e){return ka({header:a,value:e,index:0})};if(["middle name yomi","additional name yomi"].includes(r))return function(e){return ka({header:a,value:e,index:1})};if(["surname yomi","family name yomi"].includes(r))return function(e){return ka({header:a,value:e,index:2})};if(/^company\s?(\d*)/.test(r)){var c=r.match(/^company\s?(\d*)/),o=_()(c,2)[1];return function(e){return Sa({pref:o,header:a,value:e,index:0})}}if(/^department\s?(\d*)/.test(r)){var i=r.match(/^department\s?(\d*)/),u=_()(i,2)[1];return function(e){return Sa({pref:u,header:a,value:e,index:1})}}if(/^(\w+)?\s?e-?mail\s?(\d*)/.test(r)){var l=r.match(/^(\w+)?\s?e-?mail\s?(\d*)/),s=_()(l,3),f=s[1],d=s[2];return function(e){return Na({pref:d,header:a,value:e,type:f?wa(f):""})}}if(/^(\w+\s*\w+)?\s?phone\s?(\d*)$/.test(r)){var m=r.match(/^(\w+\s*\w+)?\s?phone\s?(\d*)$/),p=_()(m,3),b=p[1],v=p[2];return function(e){return Da({pref:v,header:a,value:e,type:b?wa(b):""})}}if(/^(\w+)?\s?fax\s?(\d*)$/.test(r)){var h=r.match(/^(\w+)?\s?fax\s?(\d*)$/),g=_()(h,3)[2];return function(e){return Da({pref:g,header:a,value:e,type:"fax"})}}if(/^(\w+)?\s?pager\s?(\d*)$/.test(r)){var y=r.match(/^(\w+)?\s?pager\s?(\d*)$/),O=_()(y,3)[2];return function(e){return Da({pref:O,header:a,value:e,type:"pager"})}}if(/^callback|telex\s?(\d*)$/.test(r)){var j=r.match(/^callback|telex\s?(\d*)$/),E=_()(j,2)[1];return function(e){return Da({pref:E,header:a,value:e,type:"other"})}}if(/^(\w*)\s?po box\s?(\d*)$/.test(r)){var x=r.match(/^(\w*)\s?po box\s?(\d*)$/),w=_()(x,3),C=w[1],k=w[2];return function(e){return Ia({pref:k,header:a,type:wa(C),value:e,index:0})}}if(/^(\w*)\s?extended address\s?(\d*)$/.test(r)){var P=r.match(/^(\w*)\s?extended address\s?(\d*)$/),N=_()(P,3),D=N[1],I=N[2];return function(e){return Ia({pref:I,header:a,type:wa(D),value:e,index:1})}}if(/^(\w*)\s?street\s?(\d*)$/.test(r)){var S=r.match(/^(\w*)\s?street\s?(\d*)$/),A=_()(S,3),T=A[1],M=A[2];return function(e){return Ia({pref:M,header:a,type:wa(T),value:e,index:2})}}if(/^(\w*)\s?city\s?(\d*)$/.test(r)){var L=r.match(/^(\w*)\s?city\s?(\d*)$/),K=_()(L,3),R=K[1],F=K[2];return function(e){return Ia({pref:F,header:a,type:wa(R),value:e,index:3})}}if(/^(\w*)\s?state\s?(\d*)$/.test(r)){var G=r.match(/^(\w*)\s?state\s?(\d*)$/),U=_()(G,3),B=U[1],z=U[2];return function(e){return Ia({pref:z,header:a,type:wa(B),value:e,index:4})}}if(/^(\w*)\s?postal code\s?(\d*)$/.test(r)){var V=r.match(/^(\w*)\s?postal code\s?(\d*)$/),W=_()(V,3),Y=W[1],H=W[2];return function(e){return Ia({pref:H,header:a,type:wa(Y),value:e,index:5})}}if(/^(\w*)\s?country|region\s?(\d*)$/.test(r)){var X=r.match(/^(\w*)\s?country\/region\s?(\d*)$/),J=_()(X,3),q=J[1],Q=J[2];return function(e){return Ia({pref:Q,header:a,type:wa(q),value:e,index:6})}}return"nickname"===r?function(e){return{header:a,value:e,checked:!0,field:"nickname"}}:"imaddress"===r?function(e){return{header:a,value:e,checked:!0,field:"impp"}}:"job title"===r?function(e){return{header:a,value:e,checked:!0,field:"title"}}:"role"===r?function(e){return{header:a,value:e,checked:!0,field:"role"}}:r.includes("relation")?function(e){return{header:a,value:e,checked:!0,field:"related"}}:"manager's name"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"co-worker"}}:"assistant's name"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"agent"}}:"spouse"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"spouse"}}:"birthday"===r?function(e){return{header:a,value:e,checked:!0,field:"bday"}}:"anniversary"===r?function(e){return{header:a,value:e,checked:!0,field:"anniversary"}}:r.includes("web")?function(e){return{header:a,value:e,checked:!0,field:"url"}}:"photo"===r?function(e){return{header:a,value:e,checked:!0,field:"photo"}}:"logo"===r?function(e){return{header:a,value:e,checked:!0,field:"logo"}}:"location"===r?function(e){return{header:a,value:e,checked:!0,field:"geo",type:"main"}}:"office location"===r?function(e){return{header:a,value:e,checked:!0,field:"geo",type:"work"}}:"notes"===r||r.includes("custom field")?function(e){return{header:a,value:e,checked:!0,field:"note"}}:function(e){return{header:a,value:e,checked:!0,field:"note",custom:!0}}},Ta=function(e){return e[0].checked?e[0].value:""},Ma={fn:function(e){return e.reduce((function(e,t){var n=t.value,r=t.checked;return n&&r?e+" ".concat(n):e}),"").trim()},n:function(e){var t=new Array(5).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t},adr:function(e){var t=new Array(7).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t},org:function(e){var t=new Array(2).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(";")},email:Ta,tel:Ta,nickname:Ta,photo:Ta,bday:Ta,anniversary:Ta,title:Ta,role:Ta,note:Ta,url:Ta,gender:Ta,lang:Ta,tz:Ta,geo:Ta,logo:Ta,member:Ta,impp:Ta,related:Ta,categories:Ta,sound:Ta,custom:function(e){var t=e[0],n=t.header;return t.value?"".concat(n,": ").concat(Ta(e)):""}},La={fn:function(e){return e.reduce((function(e,t){var n=t.value,r=t.checked;return n&&r?e+" ".concat(n):e}),"").trim()},n:function(e){var t=new Array(5).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(", ")},adr:function(e){var t=new Array(7).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(", ")},org:function(e){var t=new Array(2).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join("; ")},nickname:function(e){return Ta(e)[0]},email:Ta,tel:Ta,photo:Ta,bday:Ta,anniversary:Ta,title:Ta,role:Ta,note:Ta,url:Ta,gender:Ta,lang:Ta,tz:Ta,geo:Ta,logo:Ta,member:Ta,impp:Ta,related:Ta,categories:Ta,sound:Ta,custom:function(e){var t=e[0],n=t.header,r=t.value;return t.checked&&r?"".concat(n,": ").concat(Ta(e)):""}};function Ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ra=function(e){var t,n,r,a,c;return Pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Pe.a.awrap(new Promise((function(t,n){Ea.a.parse(e,{header:!1,dynamicTyping:!1,complete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.data,r=void 0===n?[]:n,a=e.errors,c=void 0===a?[]:a;return t({headers:r[0],contacts:r.slice(1),errors:c})},error:n,skipEmptyLines:!0})})));case 2:if(t=o.sent,n=t.headers,r=t.contacts,!t.errors.length){o.next=8;break}throw new Error("Error when reading csv file");case 8:return a=n.length,c=r.map((function(e){return e.slice(0,a)})).filter((function(e){return e.length===a})),o.abrupt("return",{headers:n,contacts:c});case 11:case"end":return o.stop()}}))},Fa=function(e){var t=e.headers,n=void 0===t?[]:t,r=e.contacts,a=void 0===r?[]:r;if(!a.length)return[];var c=function(e){var t=e.headers,n=e.contacts;if(!n.length)return{headers:t,contacts:n};var r=t.map((function(e){return e.replace("_"," ").toLowerCase()})),a=r.reduce((function(e,t,r){var a=e.beRemoved,c=e.beChanged,o=n[0][r];if(function(e,t){return!t.some((function(t){return""!==t[e]}))}(r,n)&&(a[r]=!0),xa.includes(t)||t.startsWith("im")||t.includes("event"))return a[r]=!0,e;if("address"===t&&(c[r]="street"),"zip"===t&&(c[r]="postal code"),"county"===t&&(c[r]="state"),/^address\s?(\d+)? - type$/.test(t)){var i=t.match(/^address\s?\d+? - type$/),u=_()(i,2)[1],l=u||"";return a[r]=!0,a[r+1]=!0,c[r+2]=(Object(le.d)(wa(o))+" Street ".concat(l)).trim(),c[r+3]=(Object(le.d)(wa(o))+" City ".concat(l)).trim(),c[r+4]=(Object(le.d)(wa(o))+" PO Box ".concat(l)).trim(),c[r+5]=(Object(le.d)(wa(o))+" State ".concat(l)).trim(),c[r+6]=(Object(le.d)(wa(o))+" Postal Code ".concat(l)).trim(),c[r+7]=(Object(le.d)(wa(o))+" Country/Region ".concat(l)).trim(),c[r+8]=(Object(le.d)(wa(o))+" Extended Address ".concat(l)).trim(),e}if(/^organization\s?\d+? - (\w+)$/.test(t)){var s=t.match(/^organization\s?\d+? - (\w+)$/),f=_()(s,2)[1];return"name"===f?c[r]="Company":"title"===f?c[r]="Job Title":"department"===f?c[r]="Department":"job description"===f?c[r]="Role":a[r]=!0,e}if(/(.*) - type$/i.test(t)){var d=t.match(/(.*) - type$/i),m=_()(d,2)[1];return a[r]=!0,c[r+1]=(Object(le.d)(wa(o))+" "+m).trim(),e}return e}),{beRemoved:Object.create(null),beChanged:Object.create(null)}),c=a.beRemoved,o=a.beChanged;return{headers:r.map((function(e,n){return{original:t[n],standard:o[n]?o[n]:e}})).filter((function(e,t){return!c[t]})),contacts:n.map((function(e){return e.filter((function(e,t){return!c[t]}))}))}}({headers:n,contacts:a}),o=c.headers,i=c.contacts,u=o.map(Aa);return i.map((function(e){return e.map((function(e,t){return u[t](e)})).flat()})).map((function(e){return e.filter((function(e){return!!e}))}))},Ga=function(e){var t=e.headers,n=void 0===t?[]:t,r=e.contacts,a=void 0===r?[]:r,c=Fa({headers:n,contacts:a});if(!c.length)return[];for(var o=[],i=c[0].reduce((function(e,t,n){var r=t.combineInto,a=t.combineIndex;return r?(e[r]||(e[r]=[]),e[r][a]=n,e):(o.push(n),e)}),{}),u=0,l=Object.keys(i);u<l.length;u++){var s=l[u];i[s]=i[s].filter((function(e){return null!==e}))}var f=a.map((function(){return[]})),d=!0,m=!1,p=void 0;try{for(var b,v=function(){var e=_()(b.value,2),t=e[0],n=e[1];f.forEach((function(e){return e.push([])})),n.forEach((function(e){f.forEach((function(n,r){return n[t].push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c[r][e]))}))}))},h=Object.values(i).entries()[Symbol.iterator]();!(d=(b=h.next()).done);d=!0)v()}catch(j){m=!0,p=j}finally{try{d||null==h.return||h.return()}finally{if(m)throw p}}for(var g=function(){var e=O[y];f.forEach((function(t,n){return t.push([c[n][e]])}))},y=0,O=o;y<O.length;y++)g();return f},Ua=function(e){if(!e.length)return{};var t=e[0],n=t.pref,r=t.field,a=t.type;return t.custom?{pref:n,field:r,type:a,value:Ma.custom(e),display:La.custom(e)}:{pref:n,field:r,type:a,value:Ma[r](e),display:La[r](e)}},Ba=function(e){var t=e.preVcards,n=e.onToggle,r=e.onChangeField,a=e.onChangeType,c=Ua(t),o=c.field,u=c.type,l=c.display;return t.map((function(e,c){var s=e.checked,f=e.header;return i.a.createElement("tr",{key:c.toString()},i.a.createElement("td",{className:"aligncenter"},i.a.createElement(Jt.a,{checked:s,onChange:function(){return n(c)}})),i.a.createElement("td",null,f),0===c?i.a.createElement(i.a.Fragment,null,i.a.createElement("td",{rowSpan:t.length},i.a.createElement("div",{className:"flex"},i.a.createElement(kr,{value:o,onChangeField:r}),void 0!==u?i.a.createElement(Oa,{field:o,value:u,onChangeType:a}):null)),i.a.createElement("td",{rowSpan:t.length},l)):null)}))},za=function(e){var t=e.loading,n=e.contact,r=e.onToggle,a=e.onChangeField,c=e.onChangeType;return i.a.createElement("tbody",null,t?i.a.createElement(Xt.a,{colSpan:4}):n&&n.map((function(e,t){return i.a.createElement(Ba,{key:t.toString(),preVcards:e,onToggle:r(t),onChangeField:a(t),onChangeType:c(t)})})))};za.defaultPropTypes={disabledPrevious:!0,disabledNext:!0};var Va=za;function Wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ha=function(e,t,n){return e.map((function(e,r){return r!==t?e:e.map((function(e){return function(e,t){var n={fn:["","yomi"],n:[],nickname:[],email:["","home","work","other"],tel:["","home","work","other","cell","main","fax","pager"],adr:["","home","work","other"],bday:[],anniversary:[],gender:[],lang:[],tz:[],geo:[],title:[],role:[],logo:[],org:[],related:["contact","acquaintance","friend","met","co-worker","colleague","co-resident","neighbor","child","parent","sibling","spouse","kin","muse","crush","date","sweetheart","me","agent","emergency"],member:[],note:[],url:[]};return Ya({},e,{field:t,type:n[t].includes(e.type)?e.type:n[t].length?n[t][0]:void 0,custom:!1})}(e,n)}))}))},Xa=function(e,t,n){return e.map((function(e,r){return r!==t?e:e.map((function(e){return function(e,t){return Ya({},e,{type:t})}(e,n)}))}))};function Ja(){var e=J()(["No contacts to be imported"]);return Ja=function(){return e},e}function qa(){var e=J()(["Also, we have automatically matched CSV fields with vCard fields. You can review and change this matching manually."]);return qa=function(){return e},e}function Qa(){var e=J()(["We have detected the following fields in the CSV file you uploaded. Check the ones you want to import."]);return Qa=function(){return e},e}function Za(){var e=J()(["First name and last name cannot be unchecked at the same time"]);return Za=function(){return e},e}var _a=function(e){var t=e.file,n=e.onSetVcardContacts,r=Object(Ot.a)().createNotification,a=Object(Rt.a)(!0),c=_()(a,2),u=c[0],l=c[1],s=Object(o.useState)(0),f=_()(s,2),d=f[0],m=f[1],p=Object(o.useState)([]),b=_()(p,2),v=b[0],h=b[1];return Object(o.useEffect)((function(){l(function(){var e;return Pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e=Ga(t),h(e);case 2:case"end":return n.stop()}}))}())}),[]),Object(o.useEffect)((function(){n(function(e){return e.map((function(e){return e.map(Ua)})).sort((function(e,t){return e.pref<=t.pref}))}(v))}),[v]),i.a.createElement(i.a.Fragment,null,i.a.createElement(xt.a,null,Object($.c)("Description of the purpose of the import CSV modal").t(Qa())),i.a.createElement(xt.a,null,Object($.c)("Description of the purpose of the import CSV modal").t(qa())),i.a.createElement(Ft.a,null,i.a.createElement(Ht,{disabledPrevious:u||0===d,disabledNext:u||0===v.length||d+1===v.length,onNext:function(){return m((function(e){return e+1}))},onPrevious:function(){return m((function(e){return e-1}))}}),i.a.createElement(Va,{loading:u,contact:v&&v[d],onToggle:function(e){return function(t){if("fn-main"===v[0][e][t].combineInto){var n=v[0][e],a=n.findIndex((function(e){return"first name"===e.header.toLowerCase()})),c=n.findIndex((function(e){return"last name"===e.header.toLowerCase()})),o=-1!==a&&n[a].checked,i=-1!==c&&n[c].checked;if(!o&&t===c||!i&&t===a)return r({type:"error",text:Object($.c)("Error notification").t(Za())})}h(v.map((function(n){return function(e,t){var n=_()(t,2),r=n[0],a=n[1];return e.map((function(e,t){return t!==r?e:e.map((function(e,t){return t!==a?e:Ya({},e,{checked:!e.checked})}))}))}(n,[e,t])})))}},onChangeField:function(e){return function(t){return h(v.map((function(n){return Ha(n,e,t)})))}},onChangeType:function(e){return function(t){return h(v.map((function(n){return Xa(n,e,t)})))}}})),!u&&!v.length&&i.a.createElement(Gt.a,{className:"aligncenter"},Object($.c)("Info").t(Ja())))},$a=n("k7CA");function ec(){var e=J()(["Failed"]);return ec=function(){return e},e}function tc(){var e=J()(["Completed"]);return tc=function(){return e},e}function nc(){var e=J()(["Progress"]);return nc=function(){return e},e}var rc=function(e){var t=e.id,n=e.alt,r=e.displayDuring,a=void 0===r?Object($.c)("Progress bar description").t(nc()):r,c=e.displaySuccess,o=void 0===c?Object($.c)("Progress bar description").t(tc()):c,u=e.displayFailed,l=void 0===u?Object($.c)("Progress bar description").t(ec()):u,s=e.value,f=e.max,d=void 0===f?100:f,m=e.endPostponed,p=void 0!==m&&m,b=e.failed,v=void 0!==b&&b,h=yt()(e,["id","alt","displayDuring","displaySuccess","displayFailed","value","max","endPostponed","failed"]),g=s<d||p,y=g?i.a.createElement(ue.a,null):v?i.a.createElement(Nt.a,{name:"off",fill:"warning",size:100,alt:"".concat(n,"-finished")}):i.a.createElement(Nt.a,{name:"on",fill:"success",size:100,alt:"".concat(n,"-finished")}),O=v?l:o;return i.a.createElement("div",{className:"aligncenter"},y,i.a.createElement("progress",ht()({className:"progress-contact w100 mt1","aria-describedby":t,value:s,max:d},h)),i.a.createElement("p",{"aria-atomic":"true","aria-live":"polite",id:"id"},g?"".concat(a,": ").concat(s,"%"):O))},ac=n("I7cj"),cc=n("KeOk");function oc(){var e=J()(["Click for details"]);return oc=function(){return e},e}var ic=function(e){var t=e.errors,n=void 0===t?[]:t,r=e.loading,a=e.summary,c=void 0===a?Object($.c)("Info on errors").t(oc()):a;return!!n.length&&!r&&i.a.createElement(ac.a,null,i.a.createElement(cc.a,null,c),i.a.createElement(kt.a,null,n.sort((function(e,t){return e.index-t.index})).map((function(e){var t=e.index,n=e.message;return i.a.createElement("div",{key:t},n)}))))},uc=n("3fNN"),lc=n("pqLH"),sc=n("Kv4S"),fc=n("ID4j"),dc=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"proton-web-".concat(e()).concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())};function mc(){var e=J()(["Unknown"]);return mc=function(){return e},e}var pc=V.k.CLEAR_TEXT,bc=V.k.ENCRYPTED_AND_SIGNED,vc=V.k.SIGNED,hc=function(e){return e.reduce((function(e,t){var n=t.field;return Le.includes(n)?(e.toClearText.push(t),e):Ke.includes(n)?(e.toSign.push(t),e):(e.toEncryptAndSign.push(t),e)}),{toEncryptAndSign:[],toSign:[],toClearText:[]})},gc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=[],a=hc(e),c=a.toEncryptAndSign,o=void 0===c?[]:c,i=a.toSign,u=void 0===i?[]:i,l=a.toClearText,s=void 0===l?[]:l;if(o.length>0){var f=_e(o).toString();r.push(Object(sc.a)({data:f,publicKeys:n,privateKeys:t,armor:!0,detached:!0}).then((function(e){var t=e.data,n=e.signature;return{Type:bc,Data:t,Signature:n}})))}if(u.length>0){var d=u.some((function(e){return"uid"===e.field})),m=u.some((function(e){return"fn"===e.field}));if(!d){var p=dc();u.push({field:"uid",value:p})}if(!m){var b=Object($.c)("Default display name vcard").t(mc());u.push({field:"fn",value:b})}var v=_e(u).toString();r.push(Object(fc.g)({data:v,privateKeys:t,armor:!0,detached:!0}).then((function(e){var t=e.signature;return{Type:vc,Data:v,Signature:t}})))}if(s.length>0){var h=_e(s).toString();r.push({Type:pc,Data:h,Signature:null})}return Promise.all(r)},yc=function(e,t){var n,r,a,c,o,i;return Pe.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.privateKey,r=t.publicKey,a=he(e),c=ge(a),o=Ee(c),u.next=6,Pe.a.awrap(gc(o,[n],[r]));case 6:return i=u.sent,u.abrupt("return",{Cards:i});case 8:case"end":return u.stop()}}))},Oc=function(){var e,t,n,r,a,c=arguments;return Pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:[],t=c.length>1?c[1]:void 0,n=t.privateKey,r=t.publicKey,a=e.reduce((function(e,t){return e.push(yc(t,{privateKey:n,publicKey:r})),e}),[]),o.abrupt("return",Promise.all(a));case 4:case"end":return o.stop()}}))},jc=V.k.CLEAR_TEXT,Ec=function(e){return e.some((function(e){var t=e.field;return e.value&&"categories"===t}))},xc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=t.contact,r=n.Cards;return n.error?e:(r.some((function(e){var t=e.Type,n=e.Data;return t===jc&&n.includes("CATEGORIES")}))?e.withCategories.push(t):e.withoutCategories.push(t),e)}),{withCategories:[],withoutCategories:[]})},wc=function(e,t,n){return 0==+n?0:Math.min(Math.floor((+e+t)/n*100),100)},Cc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){var n=t.allocated,r=t.successful,a=t.failed,c=t.total;return e.combinedTotal+=c,e.combinedAllocations+=n,e.progresses.push(wc(r,a,c)),e}),{combinedTotal:0,combinedAllocations:0,progresses:[]}),n=t.combinedTotal,r=t.combinedAllocations,a=t.progresses;if(1!==r&&e.length)throw new Error("Allocations must add up to one");if(!n)return 0;var c=e.reduce((function(e,t,r){return e+t.allocated*(!t.total&&n?100:a[r])}),0);return Math.round(c)};function kc(){var e=J()(["Some contacts could not be imported. Click for details"]);return kc=function(){return e},e}function Pc(){var e=J()(["No contacts imported"]);return Pc=function(){return e},e}function Nc(){var e=J()([""," out of "," contact successfully imported."]);return Nc=function(){return e},e}function Dc(){var e=J()(["Encrypting and importing contacts... This may take a few minutes. When the process is completed, you can close this modal."]);return Dc=function(){return e},e}function Ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ic(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ac(){var e=J()(["Contact "," from your list could not be imported. ",""]);return Ac=function(){return e},e}function Tc(){var e=J()(["Contact "," from your list could not be encrypted."]);return Tc=function(){return e},e}function Mc(){var e=J()(["Contact "," from your list could not be parsed. ",""]);return Mc=function(){return e},e}var Lc=Fe,Kc=Ge,Rc=Ue,Fc=V.b.SINGLE_SUCCESS,Gc=function(e,t){return Object($.c)("Info on errors importing contacts").t(Mc(),e,t)},Uc=function(e){return Object($.c)("Info on errors importing contacts").t(Tc(),e)},Bc=function(e,t){return Object($.c)("Info on errors importing contacts").t(Ac(),e,t)},zc=function(e){var t=e.isVcf,n=e.file,r=void 0===n?"":n,a=e.vcardContacts,c=e.privateKey,u=e.onFinish,l=Object($a.a)(),s=Object(Rt.a)(!0),f=_()(s,2),d=f[0],m=f[1],p=Object(o.useState)({total:a.length,parsed:a.map((function(e,t){return{index:t,contact:e}})),encrypted:[],submitted:[],failedOnEncrypt:[],failedOnParse:[],failedOnSubmit:[]}),b=_()(p,2),v=b[0],h=b[1];Object(o.useEffect)((function(){var e,n,o,i,s,f,d,p=new AbortController,b=function(e){var t=e.signal,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("END:VCARD");return t.pop(),t.map((function(e){return e.trim()+"\r\nEND:VCARD"}))}(r);return!t.aborted&&h(Sc({},v,{total:n.length})),t.aborted?[]:n.reduce((function(e,n,r){try{if(n.includes("VERSION:2.1")||n.includes("VERSION:3.0"))throw new Error("vCard versions < 4.0 not supported");var a=Ze(n);e.push({index:r,contact:a})}catch(o){var c=o.message;!t.aborted&&h((function(e){return Sc({},e,{failedOnParse:[].concat(de()(e.failedOnParse),[{index:r,message:Gc(r+1,c)}])})}))}return e}),[])},g=function(e,t,n){var r,a,o,i;return Pe.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return r=e.contact,a=e.index,o=n.signal,u.prev=2,u.next=5,Pe.a.awrap(yc(r,{privateKey:c,publicKey:t}));case 5:return i=u.sent,!o.aborted&&h((function(e){return Sc({},e,{encrypted:[].concat(de()(e.encrypted),[i])})})),u.abrupt("return",{index:a,contact:i});case 10:return u.prev=10,u.t0=u.catch(2),!o.aborted&&h((function(e){return Sc({},e,{failedOnEncrypt:[].concat(de()(e.failedOnEncrypt),[{index:a,message:Uc(a+1)}])})})),u.abrupt("return",{index:a,contact:{error:!0}});case 14:case"end":return u.stop()}}),null,null,[[2,10]])},y=function(){var e,t,n,r,a=arguments;return Pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:[],t=a.length>1?a[1]:void 0,n=a.length>2?a[2]:void 0,!(r=n.signal).aborted){c.next=5;break}return c.abrupt("return",[]);case 5:return c.abrupt("return",Promise.all(e.map((function(e){return g(e,t,{signal:r})}))));case 6:case"end":return c.stop()}}))},O=function(){var e,t,n,r,a,o,i,u,l,s,f,d,m,p=arguments;return Pe.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:e=p.length>0&&void 0!==p[0]?p[0]:[],t=p.length>1?p[1]:void 0,n=t.signal,r=c.toPublic(),a=Object(Ce.a)(e,5),o=[],i=!0,u=!1,l=void 0,b.prev=8,s=a[Symbol.iterator]();case 10:if(i=(f=s.next()).done){b.next=21;break}if(d=f.value,!n.aborted){b.next=14;break}return b.abrupt("return",[]);case 14:return b.next=16,Pe.a.awrap(y(d,r,{signal:n}));case 16:m=b.sent,o.push.apply(o,de()(m));case 18:i=!0,b.next=10;break;case 21:b.next=27;break;case 23:b.prev=23,b.t0=b.catch(8),u=!0,l=b.t0;case 27:b.prev=27,b.prev=28,i||null==s.return||s.return();case 30:if(b.prev=30,!u){b.next=33;break}throw l;case 33:return b.finish(30);case 34:return b.finish(27);case 35:return b.abrupt("return",o);case 36:case"end":return b.stop()}}),null,null,[[8,23,27,35],[28,,30,34]])},j=function(e,t){var n,r,a,c,o,i,u,s,f;return Pe.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted&&r.length){d.next=4;break}return d.abrupt("return");case 4:return o=r.map((function(e){return e.index})),d.next=7,Pe.a.awrap((m=Object(uc.a)({Contacts:r.map((function(e){return e.contact})),Overwrite:Lc,Labels:a,timeout:36e5}),l(Sc({},m,{signal:p.signal}))));case 7:if(d.t0=function(e){return e.Response},i=d.sent.Responses.map(d.t0),!c.aborted){d.next=11;break}return d.abrupt("return");case 11:u=i.reduce((function(e,t,n){var r=t.Code,a=t.Error,c=t.Contact,i=(c=void 0===c?{}:c).ID,u=o[n];return r===Fc?e.submittedBatch.push(i):e.failedOnSubmitBatch.push({index:u,message:Bc(u+1,a)}),e}),{submittedBatch:[],failedOnSubmitBatch:[]}),s=u.submittedBatch,f=u.failedOnSubmitBatch,h((function(e){return Sc({},e,{submitted:[].concat(de()(e.submitted),de()(s)),failedOnSubmit:[].concat(de()(e.failedOnSubmit),de()(f))})}));case 13:case"end":return d.stop()}var m}))},E=function(e,t){var n,r,a,c,o,i,u;return Pe.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted){l.next=4;break}return l.abrupt("return");case 4:o=Object(Ce.a)(r,100),i=o.length,u=0;case 7:if(!(u<i)){l.next=13;break}return l.next=10,Pe.a.awrap(Promise.all([j({contacts:o[u],labels:a},{signal:c}),Object(lc.b)(100)]));case 10:u++,l.next=7;break;case 13:case"end":return l.stop()}}))};return m((e=p,Pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.signal,o=t?b({signal:n}):a.map((function(e,t){return{index:t,contact:e}})),t&&!n.aborted&&h((function(e){return Sc({},e,{parsed:o})})),r.next=5,Pe.a.awrap(O(o,{signal:n}));case 5:return i=r.sent,s=xc(i),f=s.withCategories,d=s.withoutCategories,r.next=9,Pe.a.awrap(E({contacts:f,labels:Rc},{signal:n}));case 9:return r.next=11,Pe.a.awrap(E({contacts:d,labels:Kc},{signal:n}));case 11:if(r.t0=!n.aborted,!r.t0){r.next=15;break}return r.next=15,Pe.a.awrap(u());case 15:case"end":return r.stop()}})))),function(){p.abort()}}),[]);var g=Cc([{allocated:.05,successful:v.parsed.length,failed:v.failedOnParse.length,total:v.total},{allocated:.9,successful:v.encrypted.length,failed:v.failedOnEncrypt.length,total:v.total-v.failedOnParse.length},{allocated:.05,successful:v.submitted.length,failed:v.failedOnSubmit.length,total:v.total-v.failedOnParse.length-v.failedOnEncrypt.length}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(xt.a,null,Object($.c)("Description").t(Dc())),i.a.createElement(rc,{id:"progress-import-contacts",alt:"contact-loader",value:g,displaySuccess:Object($.c)("Progress bar description").ngettext(Object($.msgid)(Nc(),v.submitted.length,v.total),"".concat(v.submitted.length," out of ").concat(v.total," contacts successfully imported."),v.submitted.length),displayFailed:Object($.c)("Progress bar description").t(Pc()),failed:!v.submitted.length,endPostponed:d}),i.a.createElement(ic,{loading:d,errors:[].concat(de()(v.failedOnParse),de()(v.failedOnEncrypt),de()(v.failedOnSubmit)),summary:Object($.c)("Info on errors importing contacts").t(kc())}))},Vc=n("BN5H");function Wc(){var e=J()(["We picked up at least one group/organization from the list of contacts you are importing. Take the time to review how we should import these groups."]);return Wc=function(){return e},e}var Yc=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(xt.a,null,Object($.c)("Description").t(Wc())),i.a.createElement(Gt.a,null,i.a.createElement(Vc.a,null)))};function Hc(){var e=J()(["Create"]);return Hc=function(){return e},e}function Xc(){var e=J()(["Close"]);return Xc=function(){return e},e}function Jc(){var e=J()(["Cancel"]);return Jc=function(){return e},e}function qc(){var e=J()(["Import"]);return qc=function(){return e},e}function Qc(){var e=J()(["File selected appears to be corrupted"]);return Qc=function(){return e},e}function Zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zc(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $c(){var e=J()(["We only support importing files smaller than 10 MB. Please split your contacts into several smaller files."]);return $c=function(){return e},e}function eo(){var e=J()(["File is too big!"]);return eo=function(){return e},e}function to(){var e=J()(["Go back"]);return to=function(){return e},e}function no(){var e=J()(["No .csv or .vcf file selected"]);return no=function(){return e},e}function ro(){var e=J()(["Import"]);return ro=function(){return e},e}function ao(){var e=J()(["Import groups"]);return ao=function(){return e},e}function co(){var e=J()(["Importing contacts"]);return co=function(){return e},e}function oo(){var e=J()(["Import CSV file"]);return oo=function(){return e},e}function io(){var e=J()(["Import contacts"]);return io=function(){return e},e}function uo(){var e=J()(["Import contacts"]);return uo=function(){return e},e}var lo=10*Math.pow(V.d,2),so=function(e){var t,n=e.userKeysList,r=yt()(e,["userKeysList"]),a=(t={},Q()(t,1,Object($.c)("Title").t(uo())),Q()(t,2,Object($.c)("Title").t(io())),Q()(t,3,Object($.c)("Title").t(oo())),Q()(t,4,Object($.c)("Title").t(co())),Q()(t,5,Object($.c)("Title").t(ao())),t),c=Object(te.a)().createModal,u=Object(Ot.a)().createNotification,l=Object(G.a)().call,s=Object(o.useState)(1),f=_()(s,2),d=f[0],m=f[1],p=Object(o.useState)({}),b=_()(p,2),v=b[0],h=b[1],g=Object(o.useState)([]),y=_()(g,2),O=y[0],j=y[1],E=Object(o.useState)(!1),x=_()(E,2),w=x[0],C=x[1],k=function(){if(d<=2){var e=i.a.createElement(jt.a,{disabled:1===d,type:"submit"},Object($.c)("Action").t(ro())),t=function(){h({}),m(1)};return{content:i.a.createElement(Kt,{attached:2===d,file:v.attached,onAttach:function(e){var n=e.target,r=Object(Ie.b)(n.files[0].name),a=_()(r,2)[1],o=["csv","vcf"].includes(a.toLowerCase())?n.files[0]:null;return n.files.length&&!o?u({type:"error",text:Object($.c)("Error notification").t(no())}):o.size>lo?c(i.a.createElement(Et.a,{onConfirm:t,onClose:t,confirm:Object($.c)("Action").t(to()),close:null,title:Object($.c)("Title").t(eo())},i.a.createElement(xt.a,{type:"error"},Object($.c)("Error info").t($c())))):(m(2),void h({attached:o,extension:a}))},onClear:t}),submit:e,onSubmit:function(){var e,n;return Pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,"csv"!==v.extension){r.next=9;break}return r.next=4,Pe.a.awrap(Ra(v.attached));case 4:e=r.sent,h(_c({},v,{read:e})),m(3),r.next=14;break;case 9:return r.next=11,Pe.a.awrap(tt(v.attached));case 11:n=r.sent,h(_c({},v,{read:n})),m(4);case 14:r.next=21;break;case 16:r.prev=16,r.t0=r.catch(0),u({type:"error",text:Object($.c)("Error notification").t(Qc())}),m(1),t();case 21:case"end":return r.stop()}}),null,null,[[0,16]])}}}if(3===d){var a=i.a.createElement(jt.a,{disabled:!O.length,type:"submit"},Object($.c)("Action").t(qc()));return{content:i.a.createElement(_a,{file:v.read,vcardContacts:O,onSetVcardContacts:j}),submit:a,onSubmit:function(){return m(4)}}}if(4===d){var o=!w&&i.a.createElement(wt.a,null,Object($.c)("Action").t(Jc())),s=i.a.createElement(jt.a,{loading:!w,type:"submit"},Object($.c)("Action").t(Xc()));return{content:i.a.createElement(zc,{isVcf:"vcf"===v.extension,file:v.read,vcardContacts:O,onSetVcardContacts:j,privateKey:n[0].privateKey,onFinish:function(){return Pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.a.awrap(l());case 2:C(!0);case 3:case"end":return e.stop()}}))}}),close:o,submit:s,onSubmit:r.onClose}}if(5===d){var f=i.a.createElement(jt.a,{type:"submit"},Object($.c)("Action").t(Hc()));return{content:i.a.createElement(Yc,{vcardContacts:O}),submit:f,onSubmit:function(){return Pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.a.awrap(l());case 2:r.onClose();case 3:case"end":return e.stop()}}))}}}}(),P=k.content,N=yt()(k,["content"]);return i.a.createElement(Ct.a,ht()({title:a[d]},N,r),P)},fo=n("+Ln1"),mo=n("z5T1"),po=n("dAix"),bo=n("xsSi"),vo=n("x4CE"),ho=n("Um+v"),go=n("Y6df"),yo=n("uqVu"),Oo=n("rN/M"),jo=n("4+6U"),Eo=n("Se/U");function xo(){var e=J()(["Upload picture"]);return xo=function(){return e},e}var wo=function(e){var t=e.value,n=e.onChange;return i.a.createElement("div",null,t?i.a.createElement("img",{src:t}):i.a.createElement(Dt.a,{onClick:n},Object($.c)("Action").t(xo())))};function Co(){var e=J()(["Extended address"]);return Co=function(){return e},e}function ko(){var e=J()(["Post office box"]);return ko=function(){return e},e}function Po(){var e=J()(["Country"]);return Po=function(){return e},e}function No(){var e=J()(["Postal code"]);return No=function(){return e},e}function Do(){var e=J()(["Region"]);return Do=function(){return e},e}function Io(){var e=J()(["City"]);return Io=function(){return e},e}function So(){var e=J()(["Street address"]);return So=function(){return e},e}var Ao=function(e){var t=e.value,n=e.onChange,r=Object(o.useState)(function(e){var t=Array.isArray(e)?e:e.split(",");return Array.from({length:7}).map((function(e,n){return t[n]||""}))}(t)),a=_()(r,2),c=a[0],u=a[1],l=function(e){return function(t){var r=t.target,a=de()(c);a[e]=r.value,u(a),n(a)}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mb1"},i.a.createElement(Oo.a,{id:"street",value:c[2],placeholder:Object($.c)("Label").t(So()),onChange:l(2)})),i.a.createElement("div",{className:"mb1"},i.a.createElement(Oo.a,{id:"locality",value:c[3],placeholder:Object($.c)("Label").t(Io()),onChange:l(3)})),i.a.createElement("div",{className:"mb1"},i.a.createElement("label",{className:"small opacity-50",htmlFor:"region"}),i.a.createElement(Oo.a,{id:"region",value:c[4],placeholder:Object($.c)("Label").t(Do()),onChange:l(4)})),i.a.createElement("div",{className:"mb1"},i.a.createElement(Oo.a,{id:"postalCode",value:c[5],placeholder:Object($.c)("Label").t(No()),onChange:l(5)})),i.a.createElement("div",{className:"mb1"},i.a.createElement(Oo.a,{id:"country",value:c[6],placeholder:Object($.c)("Label").t(Po()),onChange:l(6)})),c[0]?i.a.createElement("div",{className:"mb1"},i.a.createElement(Oo.a,{id:"postBox",value:c[0],placeholder:Object($.c)("Label").t(ko()),onChange:l(0)})):null,c[1]?i.a.createElement("div",{className:"mb1"},i.a.createElement(Oo.a,{id:"extended",value:c[1],placeholder:Object($.c)("Label").t(Co()),onChange:l(1)})):null)},To=n("2PQF"),Mo=n("LJWS");function Lo(){var e=J()(["Upload picture"]);return Lo=function(){return e},e}function Ko(){var e=J()(["Upload picture"]);return Ko=function(){return e},e}function Ro(){var e=J()(["Image URL"]);return Ro=function(){return e},e}function Fo(){var e=J()(["Add image URL"]);return Fo=function(){return e},e}function Go(){var e=J()(["Save"]);return Go=function(){return e},e}function Uo(){var e=J()(["Image upload failed"]);return Uo=function(){return e},e}function Bo(){var e=J()(["Edit image"]);return Bo=function(){return e},e}var zo=function(e){var t=e.url,n=e.onSubmit,r=e.onClose,a=yt()(e,["url","onSubmit","onClose"]),c=Object(o.useState)(t),u=_()(c,2),l=u[0],s=u[1],f=Object($.c)("Title").t(Bo()),d=Object(Ot.a)().createNotification;return i.a.createElement(Ct.a,ht()({title:f,onSubmit:function(){n(l),r()},submit:Object($.c)("Action").t(Go()),onClose:r},a),i.a.createElement(Vc.a,null,i.a.createElement(qt.a,{htmlFor:"contactImageModal-input-url"},Object($.c)("Label").t(Fo())),i.a.createElement(To.a,null,i.a.createElement(Oo.a,{id:"contactImageModal-input-url",value:l,onChange:function(e){var t=e.target;return s(t.value)},placeholder:Object($.c)("Placeholder").t(Ro())}))),i.a.createElement(Vc.a,null,i.a.createElement(qt.a,{htmlFor:"contactImageModal-input-file"},Object($.c)("Label").t(Ko())),i.a.createElement(To.a,null,i.a.createElement(Pt.a,{id:"contactImageModal-input-file",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){var e;return Pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pe.a.awrap(Object(Mo.b)({original:a.result,maxWidth:180,maxHeight:180,finalMimeType:"image/jpeg",encoderOptions:1,bigResize:!0}));case 3:e=t.sent,n(e),r(),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(0),d({text:Object($.c)("Error").t(Uo()),type:"error"}),t.t0;case 12:case"end":return t.stop()}}),null,null,[[0,8]])},a.readAsDataURL(t)}},Object($.c)("Action").t(Lo())))))};zo.defaultProps={url:""};var Vo=zo,Wo=function(e){var t=e.field,n=e.value,r=e.uid,a=e.onChange,c=yt()(e,["field","value","uid","onChange"]),o=Object(te.a)().createModal,u=Cr(),l=function(e){var t=e.target;return a({value:t.value,uid:r})};if("email"===t)return i.a.createElement(vo.a,ht()({value:n,placeholder:u.email,onChange:l},c));if("tel"===t)return i.a.createElement(ho.a,ht()({value:n,placeholder:u.tel,onChange:l},c));if("adr"===t){return i.a.createElement(Ao,{value:n,onChange:function(e){return a({value:e,uid:r})}})}if("note"===t)return i.a.createElement(go.a,ht()({value:n,placeholder:u.note,onChange:l},c));if("bday"===t||"anniversary"===t){var s=""===n?new Date:Object(jo.a)(n);if(Object(Eo.a)(s)){return i.a.createElement(yo.a,ht()({placeholder:u[t],value:s,onChange:function(e){return a({value:e.toISOString(),uid:r})}},c))}}if("photo"===t||"logo"===t){return i.a.createElement(wo,ht()({value:n,onChange:function(){o(i.a.createElement(Vo,{url:n,onSubmit:function(e){return a({uid:r,value:e})}}))}},c))}return i.a.createElement(Oo.a,ht()({value:n,placeholder:u[t],onChange:l},c))},Yo=function(e){var t=e.field,n=e.type,r=yt()(e,["field","type"]),a=Cr(),c=a[n]||n||a[t];return i.a.createElement("label",ht()({className:"capitalize"},r),c)},Ho=function(e){var t=e.field,n=e.uid,r=e.type,a=void 0===r?"":r,c=e.onChange,o=ya(),u=wr();return u.map((function(e){return e.value})).includes(t)?i.a.createElement(qt.a,{className:"pt0 mr1"},i.a.createElement(Qt.a,{value:t,options:u,onChange:function(e){var t=e.target;return c({value:t.value,key:"field",uid:n})}})):"fn"!==t&&o[t].map((function(e){return e.value})).includes(a)?i.a.createElement(qt.a,{className:"pt0 mr1"},i.a.createElement(Qt.a,{value:a,options:o[t],onChange:function(e){var t=e.target;return c({value:t.value,key:"type",uid:n})}})):i.a.createElement(Yo,{field:t,type:a})};function Xo(){var e=J()(["Delete"]);return Xo=function(){return e},e}function Jo(){var e=J()(["Clear"]);return Jo=function(){return e},e}function qo(){var e=J()(["Edit"]);return qo=function(){return e},e}var Qo=function(e){var t=e.property,n=e.onChange,r=e.onRemove,a=e.isOrderable,c=void 0!==a&&a,o=Object(te.a)().createModal,u=t.field,l=t.uid,s=t.value,f=Ve(We(t.type)),d=!["fn"].includes(u),m=["photo","logo"].includes(u)&&t.value,p=[["photo","logo"].includes(u)&&!!s&&{text:Object($.c)("Action").t(qo()),onClick:function(){o(i.a.createElement(Vo,{url:t.value,onSubmit:function(e){return n({uid:l,value:e})}}))}},m&&{text:Object($.c)("Action").t(Jo()),onClick:function(){n({uid:l,value:""})}},d&&{text:Object($.c)("Action").t(Xo()),onClick:function(){r(t.uid)}}].filter(Boolean);return i.a.createElement("div",{className:"flex flex-nowrap flex-item-noshrink"},c?i.a.createElement(po.a,{key:"icon"},i.a.createElement("div",{className:"cursor-row-resize mr0-5 flex flex-item-noshrink mt1r"},i.a.createElement(Nt.a,{name:"text-justify"}))):i.a.createElement("div",{className:"mr0-5 flex flex-items-center flex-item-noshrink"},i.a.createElement(Nt.a,{name:"text-justify nonvisible"})),i.a.createElement("div",{className:"flex flex-nowrap flex-items-center onmobile-flex-column w95"},i.a.createElement("span",{className:"w30 flex flex-nowrap mb1"},i.a.createElement(Ho,{field:u,type:f,uid:t.uid,onChange:n})),i.a.createElement("span",{className:"w50 mb1"},i.a.createElement("div",{className:"mr1"},i.a.createElement(Wo,{field:u,value:t.value,uid:t.uid,onChange:n}))),i.a.createElement("span",{className:"w20 mb1"},p.length>0&&i.a.createElement("div",{className:"flex flex-item-noshrink flex-items-start"},i.a.createElement(bo.a,{list:p})))))},Zo=n("iCC2");function _o(){var e=J()(["Encrypted data with verified digital signature"]);return _o=function(){return e},e}var $o=function(e){var t=Object.assign({},e);return i.a.createElement(Zo.a,ht()({},t,{title:Object($.c)("Tooltip").t(_o())}),i.a.createElement(Nt.a,{name:"lock",className:"flex flex-item-centered"}))};function ei(){var e=J()(["Add"]);return ei=function(){return e},e}function ti(){var e=J()(["Other information"]);return ti=function(){return e},e}function ni(){var e=J()(["Addresses"]);return ni=function(){return e},e}function ri(){var e=J()(["Phone numbers"]);return ri=function(){return e},e}function ai(){var e=J()(["Email addresses"]);return ai=function(){return e},e}function ci(){var e=J()(["Display name"]);return ci=function(){return e},e}var oi={fn:"contact",email:"email",tel:"phone",adr:"address",other:"info"},ii=function(e){var t=e.properties,n=e.field,r=e.onChange,a=e.onOrderChange,c=e.onAdd,u=e.onRemove,l={fn:Object($.c)("Title").t(ci()),email:Object($.c)("Title").t(ai()),tel:Object($.c)("Title").t(ri()),adr:Object($.c)("Title").t(ni()),other:Object($.c)("Title").t(ti())},s=n?l[n]:l.other,f=n?oi[n]:oi.other,d=n?[n]:Te,m=t.filter((function(e){var t=e.field;return d.includes(t)})),p=!d.includes("fn"),b=Object(o.useMemo)((function(){return m.map((function(e){return i.a.createElement(Qo,{key:e.uid,property:e,onChange:r,onRemove:u,onAdd:c,isOrderable:!!a})}))}),[m,r,u,c,!!a]),v=Object(o.useCallback)((function(e){var t=e.newIndex,r=e.oldIndex,c=Object(Ce.c)(m,r,t);a(n,c)}),[m,n]);return i.a.createElement("div",{className:"border-bottom mb1"},i.a.createElement("h3",{className:"mb1 flex flex-nowrap flex-items-center flex-item-noshrink"},i.a.createElement(Nt.a,{className:"mr0-5 flex-item-noshrink",name:f}),i.a.createElement("span",{className:"mr0-5"},s),!["fn","email"].includes(n)&&i.a.createElement($o,{scrollContainerClass:"pm-modalContentInner",className:"flex flex-item-centered-vert flex-item-noshrink"})),a?i.a.createElement(fo.a,{helperClass:"row--orderable",onSortEnd:v,useDragHandle:!0},i.a.createElement("div",null,b.map((function(e,t){return i.a.createElement(mo.a,{key:e.key,index:t},e)})))):i.a.createElement("div",null,b),p&&i.a.createElement("div",{className:"flex flex-nowrap flex-item-noshrink"},i.a.createElement("div",{className:"mr0-5 flex flex-items-center flex-item-noshrink"},i.a.createElement(Nt.a,{name:"text-justify nonvisible"})),i.a.createElement("div",{className:"flex flex-nowrap w95"},i.a.createElement(jt.a,{className:"mb1",onClick:c},Object($.c)("Action").t(ei())))))},ui=n("i9+t"),li=n("WjHO");function si(){var e=J()(["Upgrade ProtonMail"]);return si=function(){return e},e}function fi(){var e=J()(["Unlock access to encrypted contact details such as phone numbers and addresses with ProtonMail Plus."]);return fi=function(){return e},e}function di(){var e=J()(["Upgrade to a paid plan"]);return di=function(){return e},e}var mi=function(){var e=Object($.c)("Title").t(di());return i.a.createElement("div",{className:"rounded bg-global-altgrey color-white p1 mb1 flex"},i.a.createElement("div",{className:"flex-autogrid onmobile-flex-column w100"},i.a.createElement("div",{className:"flex-autogrid-item flex flex-column flex-spacebetween"},i.a.createElement("h4",null,e),i.a.createElement("div",{className:"mb2"},Object($.c)("Info").t(fi())),i.a.createElement("div",null,i.a.createElement(jt.a,{onClick:function(){return Object(f.h)("/settings/subscription")}},Object($.c)("Action").t(si())))),i.a.createElement("div",{className:"flex-autogrid-item flex flex-column flex-items-end"},i.a.createElement("img",{className:"h100",src:li.a,alt:e,style:{maxHeight:"200px"}}))))};function pi(){var e=J()(["Email address, phone number and address at the top of their respective list are automatically set as the default information and will be displayed in the contact information's summary section."]);return pi=function(){return e},e}function bi(){var e=J()(["Save"]);return bi=function(){return e},e}function vi(){var e=J()(["Contact saved"]);return vi=function(){return e},e}function hi(){var e=J()(["Contact could not be saved"]);return hi=function(){return e},e}function gi(){var e=J()(["Add new contact"]);return gi=function(){return e},e}function yi(){var e=J()(["Edit contact details"]);return yi=function(){return e},e}function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ei=[{field:"fn",value:""},{field:"email",value:""}],xi=Fe,wi=Re,Ci=Ue,ki=Ge,Pi=V.b.SINGLE_SUCCESS,Ni=[{text:Object($.c)("Contact field label").t($n()),value:"fn"},{text:Object($.c)("Contact field label").t(_n()),value:"email"},{text:Object($.c)("Contact field label").t(Zn()),value:"tel"},{text:Object($.c)("Contact field label").t(Qn()),value:"adr"},{text:Object($.c)("Contact field label").t(qn()),value:"photo"},{text:Object($.c)("Contact field label").t(Jn()),value:"org"},{text:Object($.c)("Contact field label").t(Xn()),value:"bday"},{text:Object($.c)("Contact field label").t(Hn()),value:"anniversary"},{text:Object($.c)("Contact field label").t(Yn()),value:"title"},{text:Object($.c)("Contact field label").t(Wn()),value:"role"},{text:Object($.c)("Contact field label").t(Vn()),value:"member"},{text:Object($.c)("Contact field label").t(zn()),value:"note"},{text:Object($.c)("Contact field label").t(Bn()),value:"url"},{text:Object($.c)("Contact field label").t(Un()),value:"gender"},{text:Object($.c)("Contact field label").t(Gn()),value:"lang"},{text:Object($.c)("Contact field label").t(Fn()),value:"tz"},{text:Object($.c)("Contact field label").t(Rn()),value:"geo"},{text:Object($.c)("Contact field label").t(Kn()),value:"logo"}].map((function(e){return e.value})),Di=wr().map((function(e){return e.value})),Ii="contact-property",Si=function(e){var t=e.contactID,n=e.properties,r=void 0===n?[]:n,a=e.onAdd,c=e.history,u=yt()(e,["contactID","properties","onAdd","history"]),l=Object($a.a)(),s=Object(Ot.a)().createNotification,f=Object(Rt.a)(),d=_()(f,2),m=d[0],p=d[1],b=Object(ce.b)(),v=_()(b,1)[0],h=Object(G.a)().call,g=Object(oe.c)(v),y=_()(g,2),O=y[0],j=y[1],E=Object(o.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.filter((function(e){var t=e.field;return Ni.includes(t)})).map((function(e){return ji({},e,{uid:Object(ui.b)(Ii)})})):Ei.map((function(e){return ji({},e,{uid:Object(ui.b)(Ii)})}))}(r)),x=_()(E,2),w=x[0],C=x[1],k=t?Object($.c)("Title").t(yi()):Object($.c)("Title").t(gi()),P=function(e){C(w.filter((function(t){return t.uid!==e})))},N=function(e){return function(){if(!e){var t=Object(Be.c)(0,Di.length-1);return C([].concat(de()(w),[{field:Di[t],value:"",uid:Object(ui.b)(Ii)}]))}C([].concat(de()(w),[{field:e,value:"",uid:Object(ui.b)(Ii)}]))}},D=function(e){var t=e.uid,n=e.value,r=e.key,a=void 0===r?"value":r,c=w.map((function(e){return e.uid===t?ji({},e,Q()({},a,n)):e}));C(c)},I=Object(o.useCallback)((function(e,t){var n=w.filter((function(t){return t.field!==e}));n.unshift.apply(n,de()(t)),C(n)}),[w]);return i.a.createElement(Ct.a,ht()({loading:m||j,onSubmit:function(){return p(Pe.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return e=r.filter((function(e){var t=e.field;return!Ni.includes(t)})),p.next=3,Pe.a.awrap(Oc([w.concat(e)],O[0]));case 3:return n=p.sent,o=Ec(e)?Ci:ki,p.next=7,Pe.a.awrap(l(Object(uc.a)({Contacts:n,Overwrite:t?xi:wi,Labels:o})));case 7:if(i=p.sent,f=_()(i.Responses,1),d=f[0].Response,m=(d=void 0===d?{}:d).Code,b=d.Contact,v=(b=void 0===b?{}:b).ID,m===Pi){p.next=17;break}return u.onClose(),p.abrupt("return",s({text:Object($.c)("Error").t(hi()),type:"error"}));case 17:return p.next=19,Pe.a.awrap(h());case 19:t||(a(),c.push("/contacts/".concat(v))),u.onClose(),s({text:Object($.c)("Success").t(vi())});case 22:case"end":return p.stop()}})));var e,n,o,i,f,d,m,b,v},title:k,submit:Object($.c)("Action").t(bi())},u),i.a.createElement(xt.a,null,Object($.c)("Info").t(pi())),i.a.createElement(ii,{properties:w,field:"fn",onChange:D,onRemove:P}),i.a.createElement(ii,{properties:w,field:"email",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("email")}),v.hasPaidMail?i.a.createElement(i.a.Fragment,null,i.a.createElement(ii,{properties:w,field:"tel",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("tel")}),i.a.createElement(ii,{properties:w,field:"adr",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("adr")}),i.a.createElement(ii,{properties:w,onChange:D,onRemove:P,onAdd:N()})):i.a.createElement(mi,null))},Ai=n("7tJ6"),Ti=n("qnyA"),Mi=n("/iWM"),Li=n("YJ1i"),Ki=n("f6q+"),Ri=n("rhx2");function Fi(){var e=J()(["Add"]);return Fi=function(){return e},e}function Gi(){var e=J()(["No contacts added yet"]);return Gi=function(){return e},e}function Ui(){var e=J()(["Add email address"]);return Ui=function(){return e},e}function Bi(){var e=J()(["Color"]);return Bi=function(){return e},e}function zi(){var e=J()(["Name"]);return zi=function(){return e},e}function Vi(){var e=J()(["Name"]);return Vi=function(){return e},e}function Wi(){var e=J()(["Save"]);return Wi=function(){return e},e}function Yi(){var e=J()(["Contact group created"]);return Yi=function(){return e},e}function Hi(){var e=J()(["Contact group updated"]);return Hi=function(){return e},e}function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qi(){var e=J()(["Create new group"]);return qi=function(){return e},e}function Qi(){var e=J()(["Edit contact group"]);return Qi=function(){return e},e}function Zi(){var e=J()(["Delete"]);return Zi=function(){return e},e}function _i(){var e=J()(["Action"]);return _i=function(){return e},e}function $i(){var e=J()(["Address"]);return $i=function(){return e},e}function eu(){var e=J()(["Name"]);return eu=function(){return e},e}var tu=function(e){var t=e.contactEmails,n=e.onDelete,r=[Object($.c)("Table header").t(eu()),Object($.c)("Table header").t($i()),Object($.c)("Table header").t(_i())];return i.a.createElement(Ft.a,{className:"noborder"},i.a.createElement(Ti.a,{cells:r}),i.a.createElement(Mi.a,null,t.map((function(e){var t=e.ID,r=e.Name,a=e.Email,c=[i.a.createElement("div",{className:"ellipsis mw100",key:t,title:r},r),i.a.createElement("div",{className:"ellipsis mw100",key:t,title:a},a),i.a.createElement(Li.a,{key:t,onClick:n(t)},Object($.c)("Action").t(Zi()))];return i.a.createElement(Ki.a,{key:t,cells:c})}))))},nu=function(e){return e.map((function(e){return e.ID}))},ru=function(e){var t=e.contactGroupID,n=yt()(e,["contactGroupID"]),r=Object(o.useState)(!1),a=_()(r,2),c=a[0],u=a[1],l=Object(G.a)().call,s=Object($a.a)(),f=Object(Ot.a)().createNotification,d=Object(ae.a)(),m=_()(d,1)[0],p=Object(ne.a)(),b=_()(p,1)[0],v=t&&m.find((function(e){return e.ID===t})),h=t&&b.filter((function(e){var n=e.LabelIDs;return(void 0===n?[]:n).includes(t)})),g=t?Object($.c)("Title").t(Qi()):Object($.c)("Title").t(qi()),y=Object(o.useState)({name:t?v.Name:"",color:t?v.Color:V.y[Object(Be.c)(0,V.y.length-1)],contactEmails:t?h:[]}),O=_()(y,2),j=O[0],E=O[1],x=j.contactEmails.map((function(e){return e.ID})),w=Object(Ce.d)(b,"Email").filter((function(e){var t=e.ID;return!x.includes(t)})).map((function(e){var t=e.ID,n=e.Email,r=e.Name;return{text:n===r?"<".concat(n,">"):"".concat(r," <").concat(n,">"),value:t}}));return Object(o.useEffect)((function(){w.length&&E(Ji({},j,{contactEmailID:w[0].value}))}),[j.contactEmails.length]),i.a.createElement(Ct.a,ht()({onSubmit:function(){var e,r,a,c,o,i;return Pe.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,u(!0),e={Name:j.name,Color:j.color},d.next=5,Pe.a.awrap(s(t?Object(Ai.e)(t,e):Object(Ai.a)(e)));case 5:return r=d.sent,a=r.Label,c=(void 0===a?{}:a).ID,o=nu(j.contactEmails),i=t?Object(Ce.b)(nu(h),o):[],d.next=13,Pe.a.awrap(Promise.all([o.length&&s(Object(uc.e)({LabelID:c,ContactEmailIDs:o})),i.length&&s(Object(uc.i)({LabelID:c,ContactEmailIDs:i}))].filter(Boolean)));case 13:return d.next=15,Pe.a.awrap(l());case 15:n.onClose(),f({text:t?Object($.c)("Notification").t(Hi()):Object($.c)("Notification").t(Yi())}),d.next=23;break;case 19:throw d.prev=19,d.t0=d.catch(0),u(!1),d.t0;case 23:case"end":return d.stop()}}),null,null,[[0,19]])},loading:c,submit:Object($.c)("Action").t(Wi()),title:g},n),i.a.createElement(Vc.a,null,i.a.createElement(qt.a,{htmlFor:"contactGroupName"},Object($.c)("Label for contact group name").t(Vi())),i.a.createElement(To.a,null,i.a.createElement(Oo.a,{id:"contactGroupName",placeholder:Object($.c)("Placeholder for contact group name").t(zi()),value:j.name,onChange:function(e){var t=e.target;return E(Ji({},j,{name:t.value}))}}))),i.a.createElement(Vc.a,null,i.a.createElement(qt.a,{htmlFor:"contactGroupColor"},Object($.c)("Label for contact group color").t(Bi())),i.a.createElement(To.a,null,i.a.createElement(Ri.a,{selected:j.color,onChange:function(e){return function(){return E(Ji({},j,{color:e}))}}}))),w.length?i.a.createElement(Vc.a,null,i.a.createElement(qt.a,{htmlFor:"contactGroupEmail"},Object($.c)("Label").t(Ui())),i.a.createElement(To.a,null,i.a.createElement(Qt.a,{id:"contactGroupEmail",value:j.contactEmailID,options:w,onChange:function(e){var t=e.target;return E(Ji({},j,{contactEmailID:t.value}))}}),j.contactEmails.length?null:i.a.createElement("div",{className:"mt1"},Object($.c)("Info").t(Gi()))),i.a.createElement("div",{className:"ml1"},i.a.createElement(jt.a,{onClick:function(){var e=b.find((function(e){return e.ID===j.contactEmailID})),t=j.contactEmails.find((function(e){return e.ID===j.contactEmailID}));if(e&&!t){var n=de()(j.contactEmails);n.push(e),E(Ji({},j,{contactEmails:n}))}}},Object($.c)("Action").t(Fi())))):null,j.contactEmails.length?i.a.createElement(tu,{contactEmails:j.contactEmails,onDelete:function(e){return function(){var t=j.contactEmails.findIndex((function(t){return t.ID===e}));if(t>-1){var n=de()(j.contactEmails);n.splice(t,1),E(Ji({},j,{contactEmails:n}))}}}}):null)},au=function(e){var t=e.children,n=e.onClick,r=yt()(e,["children","onClick"]);return i.a.createElement("label",{onClick:n},i.a.createElement("input",ht()({type:"checkbox",className:"item-checkbox sr-only"},r)),i.a.createElement("span",{className:"item-icon flex-item-noshrink rounded50 bg-white inline-flex"},i.a.createElement("span",{className:"mauto item-abbr"},t),i.a.createElement("span",{className:"item-icon-fakecheck mauto"},i.a.createElement(Nt.a,{name:"on",className:"item-icon-fakecheck-icon"}))))},cu=function(e){var t=e.name,n=e.color,r=yt()(e,["name","color"]);return i.a.createElement(Zo.a,ht()({title:t},r),i.a.createElement(Nt.a,{name:"contacts-groups",color:n}))},ou=function(e){var t=e.style,n=e.contactID,r=e.hasPaidMail,a=e.contactGroupsMap,c=e.contact,o=e.onClick,u=e.onCheck,l=c.ID,s=c.Name,f=c.LabelIDs,d=void 0===f?[]:f,m=c.emails,p=void 0===m?[]:m,b=c.isChecked;return i.a.createElement("div",{style:t,key:l,onClick:function(){return o(l)},className:Object(ui.a)(["item-container item-contact cursor-pointer bg-global-white",n===l&&"item-is-selected"])},i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(au,{checked:b,onChange:u,onClick:function(e){return e.stopPropagation()},"data-contact-id":l},Object(le.e)(s)),i.a.createElement("div",{className:"flex-item-fluid pl1 flex flex-column flex-spacebetween conversation-titlesender"},i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:Object(ui.a)(["flex flex-item-fluid w0",d.length&&"pr1"])},i.a.createElement("span",{className:"bold inbl mw100 ellipsis"},s)),r&&d.length?i.a.createElement("div",null,d.map((function(e){if(!a[e])return null;var t=a[e],n=t.Color,r=t.Name;return i.a.createElement(cu,{scrollContainerClass:"contacts-list",key:e,name:r,color:n})}))):null),i.a.createElement("div",{className:"mw100 ellipsis",title:p.join(", ")},Object(le.a)(p)))))};function iu(){var e=J()(["You can either update your search query or ","."]);return iu=function(){return e},e}function uu(){var e=J()(["No results found"]);return uu=function(){return e},e}function lu(){var e=J()(["Clear it"]);return lu=function(){return e},e}function su(){var e=J()(["You can "," to add a contact."]);return su=function(){return e},e}function fu(){var e=J()(["Your contact group is empty"]);return fu=function(){return e},e}function du(){var e=J()(["Edit your group"]);return du=function(){return e},e}function mu(){var e=J()(["You can either "," or "," from a file."]);return mu=function(){return e},e}function pu(){var e=J()(["Your address book is empty"]);return pu=function(){return e},e}function bu(){var e=J()(["Import contact"]);return bu=function(){return e},e}function vu(){var e=J()(["Add a contact"]);return vu=function(){return e},e}function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var gu,yu=Object(lt.a)((function(e){var t=e.totalContacts,n=e.totalContactsInGroup,r=e.contacts,a=e.contactGroupsMap,c=e.onCheck,u=e.onClearSearch,l=e.onClearSelection,s=e.user,f=e.userKeysList,d=e.loadingUserKeys,m=e.history,p=e.contactID,b=e.contactGroupID,v=e.location,h=e.isDesktop,g=void 0===h||h,y=Object(o.useRef)(null),O=Object(o.useRef)(null),j=Object(o.useState)(),E=_()(j,2),x=E[0],w=E[1],C=Object(te.a)().createModal,k=function(e){var t=e.target,n=e.nativeEvent.shiftKey,a=t.getAttribute("data-contact-id"),o=[a];if(x&&n){var i=r.findIndex((function(e){return e.ID===a})),u=r.findIndex((function(e){return e.ID===x}));o.push.apply(o,de()(r.slice(Math.min(i,u),Math.max(i,u)+1).map((function(e){return e.ID}))))}w(a),c(o,t.checked)},P=function(e){l(),m.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v,{pathname:"/contacts/".concat(e)}))};if(Object(o.useEffect)((function(){var e=setTimeout((function(){if(p&&t){var e=r.findIndex((function(e){var t=e.ID;return p===t}));y.current.scrollToRow(e)}}),200);return function(){clearTimeout(e)}}),[p]),!t){var N=i.a.createElement("button",{key:"add",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){C(i.a.createElement(Si,{history:m,onAdd:u}))}},Object($.c)("Action").t(vu())),D=i.a.createElement("button",{key:"import",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){C(i.a.createElement(so,{userKeysList:f}))},disabled:d},Object($.c)("Action").t(bu()));return i.a.createElement("div",{className:"p2 flex w100"},i.a.createElement(it.a,{title:Object($.c)("Info message").t(pu()),url:pt.a,className:"mtauto mbauto"},i.a.createElement("div",{className:"flex flex-items-center"},Object($.c)("Actions message").jt(mu(),N,D))))}if(!r.length){if(b&&!n){var I=i.a.createElement("button",{key:"add",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){return function(e){C(i.a.createElement(ru,{contactGroupID:e}))}(b)}},Object($.c)("Action").t(du()));return i.a.createElement("div",{className:"p2 aligncenter w100"},i.a.createElement(it.a,{title:Object($.c)("Info message").t(fu()),url:pt.a},i.a.createElement("div",{className:"flex flex-items-center"},Object($.c)("Actions message").jt(su(),I))))}var S=i.a.createElement(ut.a,{key:"add",onClick:u,className:"ml0-25 bold"},Object($.c)("Action").t(lu()));return i.a.createElement("div",{className:"p2 aligncenter w100"},i.a.createElement(it.a,{title:Object($.c)("Info message").t(uu()),url:bt.a},i.a.createElement("div",{className:"flex flex-items-center"},Object($.c)("Actions message").jt(iu(),S))))}return i.a.createElement("div",{ref:O,className:"items-column-list".concat(g?"":"--mobile")},i.a.createElement(mt.a,null,(function(e){var t=e.height,n=e.width;return i.a.createElement(ft.a,{className:"contacts-list no-outline",ref:y,rowRenderer:function(e){var t=e.index,n=e.style,c=e.key;return i.a.createElement(ou,{style:n,key:c,contactID:p,hasPaidMail:!!s.hasPaidMail,contactGroupsMap:a,contact:r[t],onClick:P,onCheck:k})},rowCount:r.length,height:t,width:n,rowHeight:70})})))})),Ou=n("3rzI"),ju=n("F/2c"),Eu=function(e){var t=Object(o.useContext)(Y),n=Object($a.a)(),r=Object(o.useCallback)((function(){return n(Object(uc.d)(e)).then((function(e){return e.Contact}))}),[]);return Object(ju.a)(t,e,r)},xu=n("FaOd");function wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ku=V.k.CLEAR_TEXT,Pu=V.k.ENCRYPTED_AND_SIGNED,Nu=V.k.ENCRYPTED,Du=V.k.SIGNED,Iu=(gu={},Q()(gu,Pu,(function(e,t){var n,r,a,c,o,i,u,l,s,f;return Pe.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return n=e.Data,r=e.Signature,a=t.publicKeys,c=t.privateKeys,d.prev=2,d.next=5,Pe.a.awrap(Promise.all([Object(fc.d)(n),Object(fc.e)(r)]));case 5:return o=d.sent,i=_()(o,2),u=i[0],l=i[1],d.next=11,Pe.a.awrap(Object(xu.a)({message:u,privateKeys:c,publicKeys:a,armor:!0,signature:l}));case 11:if(s=d.sent,f=s.data,1===s.verified){d.next=16;break}return d.abrupt("return",{data:f,error:1});case 16:return d.abrupt("return",{data:f});case 19:return d.prev=19,d.t0=d.catch(2),d.abrupt("return",{error:2});case 22:case"end":return d.stop()}}),null,null,[[2,19]])})),Q()(gu,Du,(function(e,t){var n,r,a,c,o;return Pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.Data,r=e.Signature,a=t.publicKeys,i.prev=2,i.next=5,Pe.a.awrap(Object(fc.e)(r));case 5:return c=i.sent,i.next=8,Pe.a.awrap(Object(fc.i)({message:Object(fc.a)(n),publicKeys:a,signature:c}));case 8:if(o=i.sent,1===o.verified){i.next=12;break}return i.abrupt("return",{data:n,error:1});case 12:return i.abrupt("return",{data:n});case 15:return i.prev=15,i.t0=i.catch(2),i.abrupt("return",{error:2});case 18:case"end":return i.stop()}}),null,null,[[2,15]])})),Q()(gu,Nu,(function(e,t){var n,r,a,c;return Pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.Data,r=t.privateKeys,o.prev=2,o.next=5,Pe.a.awrap(Object(fc.d)(n));case 5:a=o.sent,o.next=11;break;case 8:return o.prev=8,o.t0=o.catch(2),o.abrupt("return",{error:2});case 11:return o.prev=11,o.next=14,Pe.a.awrap(Object(xu.a)({message:a,privateKeys:r,armor:!0}));case 14:return c=o.sent,o.abrupt("return",{data:c});case 18:return o.prev=18,o.t1=o.catch(11),o.abrupt("return",{error:4});case 21:case"end":return o.stop()}}),null,null,[[2,8],[11,18]])})),Q()(gu,ku,(function(e){return{data:e.Data}})),gu),Su=function(e,t){var n,r,a,c,o,i,u,l;return Pe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.publicKeys,r=t.privateKeys,a=e.Cards,s.next=4,Pe.a.awrap(Promise.all(a.map((function(e){return Pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(Iu[e.Type]){t.next=2;break}return t.abrupt("return",{error:2});case 2:return t.abrupt("return",Iu[e.Type](e,{publicKeys:n,privateKeys:r}));case 3:case"end":return t.stop()}}))}))));case 4:return c=s.sent,o=c.map((function(e,t){return[Pu,Nu].includes(a[t].Type)&&e.data?Cu({},e,{data:e.data.replace(/\nUID:.*\n/i,"\n")}):e})),i=o.reduce((function(e,t){var n=t.data,r=t.error;return r&&e.errors.push(r),n&&e.vcards.push(n),e}),{vcards:[],errors:[]}),u=i.vcards,l=i.errors,s.abrupt("return",{properties:he($e(u.map(Ze))),errors:l});case 8:case"end":return s.stop()}}))},Au=n("fa3+");function Tu(){var e=J()(["Learn more"]);return Tu=function(){return e},e}function Mu(){var e=J()(["Error: the encrypted content failed decryption and cannot be read."]);return Mu=function(){return e},e}function Lu(){var e=J()(["Learn more"]);return Lu=function(){return e},e}function Ku(){var e=J()(["Error: the encrypted content failed decryption and cannot be read."]);return Ku=function(){return e},e}function Ru(){var e=J()(["Learn more"]);return Ru=function(){return e},e}function Fu(){var e=J()(["Warning: the verification of this contact's signature failed."]);return Fu=function(){return e},e}var Gu=function(e){var t=e.errors;return t.includes(1)?i.a.createElement("div",{className:"bg-global-attention p1"},i.a.createElement(Nt.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object($.c)("Warning").t(Fu())),i.a.createElement(Au.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object($.c)("Link").t(Ru()))):t.includes(2)?i.a.createElement("div",{className:"bg-global-warning p1"},i.a.createElement(Nt.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object($.c)("Warning").t(Ku())),i.a.createElement(Au.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object($.c)("Link").t(Lu()))):t.includes(4)?i.a.createElement("div",{className:"bg-global-warning p1"},i.a.createElement(Nt.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object($.c)("Warning").t(Mu())),i.a.createElement(Au.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object($.c)("Link").t(Tu()))):null};Gu.defaultProps={errors:[]};var Uu=Gu,Bu=n("0Zqm"),zu=n("D5Se"),Vu=n("1s5H");function Wu(){var e=J()(["Load photo"]);return Wu=function(){return e},e}var Yu=function(e){var t=e.photo,n=e.name,r=Object(o.useState)(!Object(Vu.d)(t)),a=_()(r,2),c=a[0],u=a[1],l=Object(o.useState)({src:t}),s=_()(l,2),f=s[0],d=s[1],m=Object(zu.a)(),p=_()(m,2),b=p[0].ShowImages,v=p[1],h=Object(Rt.a)(!0),g=_()(h,2),y=g[0],O=g[1],j=v||y,E=b&V.V.REMOTE||c;if(Object(o.useEffect)((function(){if(t&&E){var e,n,r,a,c;O(Pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Pe.a.awrap(Object(Mo.d)(t));case 2:if(e=o.sent,n=e.src,r=e.width,a=e.height,!(r<=180&&a<=180)){o.next=8;break}return o.abrupt("return",d({src:n,width:r,height:a,isSmall:!0}));case 8:return o.next=10,Pe.a.awrap(Object(Mo.b)({original:t,maxWidth:180,maxHeight:180,bigResize:!0}));case 10:c=o.sent,d({src:c});case 12:case"end":return o.stop()}})).catch(Be.b))}}),[t,E]),!t)return i.a.createElement("div",{className:"rounded50 bordered bg-white ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("span",{className:"mauto color-global-border h1"},Object(le.e)(n))));if(E){if(j)return i.a.createElement(ue.a,null);var x={backgroundImage:"url(".concat(f.src,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat"};return f.isSmall?i.a.createElement("div",{className:"rounded50 ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("div",{className:"mbauto mtauto center",style:{width:"".concat(f.width,"px")}},i.a.createElement("div",{className:"rounded50 ratio-container-square",style:x},i.a.createElement("span",{className:"inner-ratio-container"}))))):i.a.createElement("div",{className:"rounded50 ratio-container-square",style:x},i.a.createElement("span",{className:"inner-ratio-container"}))}return i.a.createElement("div",{className:"rounded50 bordered bg-white ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("span",{className:"mauto color-global-border"},i.a.createElement(Dt.a,{onClick:function(){return u(!0)}},Object($.c)("Action").t(Wu())))))},Hu=(n("Cq9y"),function(e){var t=e.properties,n=e.leftBlockWidth,r=void 0===n?"w30":n,a=Object(ce.b)(),c=_()(a,1)[0].hasPaidMail,o=xe(t,"photo"),u=xe(t,"fn"),l=xe(t,"email"),s=xe(t,"tel"),f=xe(t,"adr"),d=xe(t,"org"),m=[l&&{icon:"email",component:i.a.createElement("a",{href:"mailto:".concat(l),title:l},l)},c&&s&&{icon:"phone",component:i.a.createElement("a",{href:"tel:".concat(s)},s)},c&&f&&{icon:"address",component:Ye(f)},c&&d&&{icon:"organization",component:d}].filter(Boolean);return i.a.createElement("div",{className:"contactsummary-container flex flex-nowrap p1 mb1 border-bottom"},i.a.createElement("div",{className:Object(ui.a)(["aligncenter contactsummary-photo-container",r])},i.a.createElement(Yu,{photo:o,name:u})),i.a.createElement("div",{className:"pl1"},i.a.createElement("h2",{className:"mb0-5 ellipsis"},u),i.a.createElement("ul",{className:"unstyled m0"},m.map((function(e){var t=e.icon,n=e.component;return i.a.createElement("li",{key:t,className:"flex flex-nowrap flex-items-center mb0-5"},i.a.createElement(Nt.a,{name:t,className:"mr0-5"}),i.a.createElement("span",{className:"ellipsis"},n))})))))}),Xu=n("NTy5"),Ju=n("SJRE"),qu=n("o4nY"),Qu=n("+QFM"),Zu=n("sWYD"),_u=n("voWS"),$u=n("Xksw"),el=n("wJ4K"),tl=n("TQRW");function nl(){var e=J()(["Please select which email address or addresses to add to this group."]);return nl=function(){return e},e}function rl(){var e=J()(["Add to group"]);return rl=function(){return e},e}function al(){var e=J()(["Apply"]);return al=function(){return e},e}function cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var il=function(e){var t=e.contacts,n=e.onSubmit,r=yt()(e,["contacts","onSubmit"]),a=Object(ne.a)(),c=_()(a,1)[0],u=Object(o.useState)(t.map((function(e){return ol({},e,{contactEmails:c.filter((function(t){return t.ContactID===e.ID})).map((function(e){return ol({},e,{isChecked:!0})}))})}))),l=_()(u,2),s=l[0],f=l[1],d=function(e,t){return function(n){var r=n.target,a=de()(s),c=s.findIndex((function(t){return t.ID===e})),o=s[c].contactEmails.findIndex((function(e){return e.ID===t}));a[c].contactEmails[o].isChecked=r.checked,f(a)}};return i.a.createElement(Ct.a,ht()({submit:Object($.c)("Action").t(al()),title:Object($.c)("Title").t(rl()),onSubmit:function(){var e=s.reduce((function(e,t){return t.contactEmails.forEach((function(t){var n=t.isChecked,r=yt()(t,["isChecked"]);n&&e.push(r)})),e}),[]);n(e),r.onClose()}},r),i.a.createElement(xt.a,null,Object($.c)("Info").t(nl())),s.filter((function(e){var t=e.contactEmails;return(void 0===t?[]:t).length>1})).map((function(e){var t=e.ID,n=e.Name,r=e.contactEmails,a=void 0===r?[]:r;return i.a.createElement(Vc.a,{key:t,className:"border-bottom"},i.a.createElement(qt.a,{className:"bold pt0"},n),i.a.createElement(To.a,{className:"flex flex-column w100"},a.map((function(e){var n=e.ID,r=e.Email,a=e.isChecked;return i.a.createElement("label",{key:n,className:"mb1",htmlFor:n},i.a.createElement(Jt.a,{id:n,checked:a,className:"mr0-5",onChange:d(t,n)}),i.a.createElement("span",null,r))}))))})))},ul=n("CP+6"),ll=function(e){var t=e.buttonRef,n=e.caretClassName,r=void 0===n?"":n,a=e.children,c=e.isOpen,o=yt()(e,["buttonRef","caretClassName","children","isOpen"]);return i.a.createElement("button",ht()({type:"button",role:"button",ref:t},o),a,i.a.createElement(ul.a,{isOpen:c,className:Object(ui.a)(["ml0-25 expand-caret mtauto mbauto",r])}))};function sl(){var e=J()(["Apply"]);return sl=function(){return e},e}function fl(){var e=J()(["Filter groups"]);return fl=function(){return e},e}function dl(){var e=J()(["Create a new contact group"]);return dl=function(){return e},e}function ml(){var e=J()(["Add to group"]);return ml=function(){return e},e}function pl(){var e=J()(["Contact group apply"]);return pl=function(){return e},e}function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var vl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.reduce((function(e,n){var r=n.ContactID;if(e.duplicate[r]=(e.duplicate[r]||0)+1,2===e.duplicate[r]){var a=t.find((function(e){return e.ID===r}));e.contacts.push(a)}return e}),{contacts:[],duplicate:Object.create(null)})},hl=function(e){var t=e.children,n=e.className,r=e.contactEmails,a=e.disabled,c=e.forToolbar,u=void 0!==c&&c,l=Object(o.useState)(""),s=_()(l,2),f=s[0],d=s[1],m=Object(Rt.a)(),p=_()(m,2),b=p[0],v=p[1],h=Object($u.a)(),g=h.anchorRef,y=h.isOpen,O=h.toggle,j=h.close,E=Object(Ot.a)().createNotification,x=Object(G.a)().call,w=Object($a.a)(),C=Object(te.a)().createModal,k=Object(re.a)(),P=_()(k,1)[0],N=Object(ae.a)(),D=_()(N,1)[0],I=Object(o.useState)(Object.create(null)),S=_()(I,2),A=S[0],T=S[1],M=Object(o.useState)(Object(ui.b)("contactGroupDropdown")),L=_()(M,1)[0],K=function(e){return function(t){var n=t.target;return T(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},A,Q()({},e,+n.checked)))}};Object(o.useEffect)((function(){y&&T(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length&&e.length?e.reduce((function(e,n){var r=n.ID,a=t.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)}));return e[r]=a.length?t.length===a.length?1:2:0,e}),Object.create(null)):Object.create(null)}(D,r))}),[D,r,y]);var R=Object(o.useMemo)((function(){if(!Array.isArray(D))return[];var e=Object(le.g)(f);return e.length?D.filter((function(t){var n=t.Name;return Object(le.g)(n).includes(e)})):D}),[f,D]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(ll,{caretClassName:u?"toolbar-icon":"",className:n,disabled:a,buttonRef:g,isOpen:y,onClick:O},t),i.a.createElement(el.a,{id:"contact-group-dropdown",isOpen:y,anchorRef:g,onClose:j,autoClose:!1},i.a.createElement("div",{className:"flex flex-spacebetween pt1 pl1 pr1 mb1"},i.a.createElement("strong",null,Object($.c)("Label").t(ml())),i.a.createElement(Zo.a,{title:Object($.c)("Info").t(dl())},i.a.createElement(Li.a,{className:"pm-button--primary pm-button--for-icon",onClick:function(){C(i.a.createElement(ru,null)),j()}},i.a.createElement(Nt.a,{name:"contacts-groups",fill:"light"}),"+"))),i.a.createElement("div",{className:"pl1 pr1 mb1"},i.a.createElement(tl.a,{value:f,onChange:d,autoFocus:!0,placeholder:Object($.c)("Placeholder").t(fl())})),i.a.createElement("div",{className:"mb1 dropDown-content dropDown-content--narrow"},i.a.createElement("ul",{className:"unstyled m0 pl1 pr1 dropDown-contentInner"},R.map((function(e){var t=e.ID,n=e.Name,r=e.Color,a="".concat(L).concat(t);return i.a.createElement("li",{key:t,className:"flex flex-nowrap border-bottom border-bottom--dashed pt0-5 pb0-5"},i.a.createElement("label",{htmlFor:a,className:"flex flex-item-fluid flex-nowrap"},i.a.createElement(Nt.a,{name:"contacts-groups",className:"mr0-5 mtauto mbauto flex-item-noshrink",color:r}),i.a.createElement("span",{className:"ellipsis flex-item-fluid",title:n},n)),i.a.createElement(Jt.a,{className:"flex flex-item-noshrink mtauto mbauto",id:a,checked:1===A[t],indeterminate:2===A[t],onChange:K(t)}))})))),i.a.createElement("div",{className:"aligncenter mb1"},i.a.createElement(Li.a,{loading:b,className:"pm-button--primary",onClick:function(){return v(Pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=de()(r),t=vl(r,P),!(n=t.contacts).length){c.next=6;break}return c.next=5,Pe.a.awrap(new Promise((function(e,t){C(i.a.createElement(il,{contacts:n,onSubmit:e,onClose:t}))})));case 5:e=c.sent;case 6:return a=Object.entries(A),c.next=9,Pe.a.awrap(Promise.all(a.map((function(t){var n=_()(t,2),r=n[0],a=n[1];if(2===a)return Promise.resolve();if(1===a){var c=e.filter((function(e){var t=e.LabelIDs;return!(void 0===t?[]:t).includes(r)})).map((function(e){return e.ID}));return c.length?w(Object(uc.e)({LabelID:r,ContactEmailIDs:c})):Promise.resolve()}var o=e.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)})).map((function(e){return e.ID}));return o.length?w(Object(uc.i)({LabelID:r,ContactEmailIDs:o})):Promise.resolve()}))));case 9:return c.next=11,Pe.a.awrap(x());case 11:E({text:Object($.c)("Info").ngettext(Object($.msgid)(pl()),"Contact groups apply",a.length)}),j();case 13:case"end":return c.stop()}})));var e,t,n,a}},Object($.c)("Action").t(sl())))))},gl=n("qbag"),yl=n("U9R1"),Ol=n("Hvmf"),jl=n("FilX"),El=n("jHUz"),xl=n("qrfN"),wl=V.R.TYPE_INTERNAL,Cl=V.x.ENABLE_ENCRYPTION,kl=function(e){return e.RecipientType===wl},Pl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.reduce((function(e,r){var a=r.getFingerprint();return e[Object(se.a)({isVerificationOnly:n.has(a),isNotTrusted:!t.has(a)})].push(r),e}),Array.from({length:4}).map((function(){return[]}))).flat()},Nl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.reduce((function(e,r){var a=r.getFingerprint();return e[Object(se.a)({cannotSend:t.has(a)||n.has(a)})].push(r),e}),Array.from({length:2}).map((function(){return[]}))).flat()},Dl=function(e){var t,n,r,a,c;return Pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=+Object(xl.a)(),n=e.getCreationTime(),o.next=4,Pe.a.awrap(e.getExpirationTime("encrypt"));case 4:return r=o.sent,a=!(n<=t&&t<=r),o.next=8,Pe.a.awrap(e.isRevoked());case 8:return c=o.sent,o.abrupt("return",{isExpired:a,isRevoked:c});case 10:case"end":return o.stop()}}))},Il=n("0BWK");function Sl(){var e=J()(["Plain text"]);return Sl=function(){return e},e}function Al(){var e=J()(["Automatic"]);return Al=function(){return e},e}var Tl=function(e){var t=e.value,n=e.onChange,r=e.disabled,a=[{text:Object($.c)("MIME type").t(Al()),value:""},{text:Object($.c)("MIME type").t(Sl()),value:V.D.PLAINTEXT}];return i.a.createElement(Qt.a,{value:t,options:a,disabled:r,onChange:function(e){var t=e.target;return n(t.value)}})},Ml=n("UPgO"),Ll=n("Y/Ll");function Kl(){var e=J()(["Use global default (",")"]);return Kl=function(){return e},e}var Rl=function(e){var t=e.value,n=e.onChange,r=Object(zu.a)(),a=_()(r,2),c=a[0].PGPScheme,o=a[1],u=c===V.K.SEND_PGP_INLINE?"PGP/Inline":"PGP/MIME",l=[{value:"",text:Object($.c)("Default encryption scheme").t(Kl(),u)},{value:"pgp-mime",text:"PGP/MIME"},{value:"pgp-inline",text:"PGP/Inline"}];return i.a.createElement(Qt.a,{options:l,disabled:o,value:t,onChange:function(e){var t=e.target;return n(t.value)}})},Fl=n("Cphr"),Gl=n("l+59");function Ul(){var e=J()(["This key is assigned to ",""]);return Ul=function(){return e},e}var Bl=function(e){var t,n,r,a=e.publicKey,c=e.email,o=yt()(e,["publicKey","email"]),u=i.a.createElement(Nt.a,ht()({name:"attention",fill:"attention"},o)),l=(t=c,n=a.users,!(r=(void 0===n?[]:n).reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.userId,r=void 0===n?{}:n;if(!r||!r.userid)return e;var a=/<([^>]*)>/.exec(r.userid)||[],c=_()(a,2),o=c[1],i=void 0===o?r.userid:o;return e.push(i),e}),[])).includes(t)&&r);if(l){var s=l.join(", ");return i.a.createElement(Zo.a,{title:Object($.c)("PGP key warning").t(Ul(),s)},u)}return null};function zl(){var e=J()(["Expired"]);return zl=function(){return e},e}function Vl(){var e=J()(["Revoked"]);return Vl=function(){return e},e}function Wl(){var e=J()(["Trusted"]);return Wl=function(){return e},e}function Yl(){var e=J()(["WKD"]);return Yl=function(){return e},e}function Hl(){var e=J()(["Verification only"]);return Hl=function(){return e},e}function Xl(){var e=J()(["Active"]);return Xl=function(){return e},e}function Jl(){var e=J()(["Remove"]);return Jl=function(){return e},e}function ql(){var e=J()(["Untrust"]);return ql=function(){return e},e}function Ql(){var e=J()(["Trust"]);return Ql=function(){return e},e}function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $l(){var e=J()(["Use for sending"]);return $l=function(){return e},e}function es(){var e=J()(["Download"]);return es=function(){return e},e}function ts(){var e=J()(["Actions"]);return ts=function(){return e},e}function ns(){var e=J()(["Status"]);return ns=function(){return e},e}function rs(){var e=J()(["Type"]);return rs=function(){return e},e}function as(){var e=J()(["Expires"]);return as=function(){return e},e}function cs(){var e=J()(["Created"]);return cs=function(){return e},e}function os(){var e=J()(["Fingerprint"]);return os=function(){return e},e}var is=function(e){var t=e.model,n=e.setModel,r=Object(o.useState)([]),a=_()(r,2),c=a[0],u=a[1],l=Object(ie.a)(),s=l.isNarrow,f=l.isTinyMobile,d=t.keys.api.length;return Object(o.useEffect)((function(){var e,n,r;Pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.isPGPInternal?de()(t.keys.api):[].concat(de()(t.keys.api),de()(t.keys.pinned)),n=Object(Ce.f)(e,(function(e){return e.getFingerprint()})),a.next=4,Pe.a.awrap(Promise.all(n.map((function(e,n){var r,a,c,o,i,u,l,s,f,m,p,b,v,h,g;return Pe.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,r=e.getFingerprint(),a=e.getCreationTime(),y.next=5,Pe.a.awrap(e.getExpirationTime("encrypt"));case 5:return c=y.sent,o=e.getAlgorithmInfo(),i=Object(Gl.a)(o),u=t.trustedFingerprints.has(r),l=t.expiredFingerprints.has(r),s=t.revokedFingerprints.has(r),f=t.verifyOnlyFingerprints.has(r),m=!n&&!l&&!s&&!f&&(!!d||t.encrypt),p=t.isPGPExternal&&n<d,b=n>=d,v=!!n&&!l&&!s&&!f&&(n<d?u:!d&&t.encrypt),h=!u&&!b,g=u&&!b,y.abrupt("return",{publicKey:e,fingerprint:r,algo:i,creationTime:a,expirationTime:c,isActive:m,isWKD:p,isExpired:l,isRevoked:s,isTrusted:u,isVerificationOnly:f,isUploaded:b,canBeActive:v,canBeTrusted:h,canBeUntrusted:g});case 21:return y.prev=21,y.t0=y.catch(0),y.abrupt("return",!1);case 24:case"end":return y.stop()}}),null,null,[[0,21]])}))));case 4:r=a.sent,u(r.filter(Boolean));case 6:case"end":return a.stop()}}))}),[t.keys,t.trustedFingerprints,t.encrypt]),i.a.createElement(Ft.a,{className:"pm-simple-table--has-actions"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{scope:"col",className:"ellipsis"},Object($.c)("Table header").t(os())),!s&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object($.c)("Table header").t(cs())),!f&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object($.c)("Table header").t(as())),!s&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object($.c)("Table header").t(rs())),i.a.createElement("th",{scope:"col",className:"ellipsis"},Object($.c)("Table header").t(ns())),i.a.createElement("th",{scope:"col",className:Object(ui.a)(["ellipsis",s&&"w40"])},Object($.c)("Table header").t(ts())))),i.a.createElement(Mi.a,null,c.map((function(e){var r=e.fingerprint,a=e.algo,c=e.creationTime,o=e.expirationTime,u=e.isActive,l=e.isWKD,d=e.publicKey,m=e.isExpired,p=e.isRevoked,b=e.isTrusted,v=e.isVerificationOnly,h=e.isUploaded,g=e.canBeActive,y=e.canBeTrusted,O=e.canBeUntrusted,j=new Date(c),E=new Date(o),x=[{text:Object($.c)("Action").t(es()),onClick:function(){var e,n;return Pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e=new Blob([d.armor()],{type:"data:text/plain;charset=utf-8;"}),n="publickey - ".concat(t.email," - 0x").concat(r.slice(0,8).toUpperCase(),".asc"),Object(Bu.a)(e,n);case 3:case"end":return a.stop()}}))}},g&&{text:Object($.c)("Action").t($l()),onClick:function(){var e=t.keys.api.findIndex((function(e){return e.getFingerprint()===r})),a=t.keys.pinned.findIndex((function(e){return e.getFingerprint()===r})),c=-1!==e?Object(Ce.c)(t.keys.api,e,0):t.keys.api,o=-1!==a?Object(Ce.c)(t.keys.pinned,a,0):t.keys.pinned;n(_l({},t,{keys:{api:c,pinned:o}}))}},y&&{text:Object($.c)("Action").t(Ql()),onClick:function(){var e=new Set(t.trustedFingerprints);e.add(r),n(_l({},t,{trustedFingerprints:e}))}},O&&{text:Object($.c)("Action").t(ql()),onClick:function(){var e=new Set(t.trustedFingerprints);e.delete(r),n(_l({},t,{trustedFingerprints:e}))}},h&&{text:Object($.c)("Action").t(Jl()),onClick:function(){var e=new Set(t.trustedFingerprints),a=new Set(t.expiredFingerprints),c=new Set(t.revokedFingerprints);e.delete(r),a.delete(r),c.delete(r),n(_l({},t,{trustedFingerprints:e,expiredFingerprints:a,revokedFingerprints:c,keys:_l({},t.keys,{pinned:t.keys.pinned.filter((function(e){return e.getFingerprint()!==r}))})}))}}].filter(Boolean),w=[i.a.createElement("div",{key:r,title:r,className:"flex flex-nowrap"},i.a.createElement(Bl,{className:"mr0-5 flex-item-noshrink",publicKey:d,email:t.email}),i.a.createElement("span",{className:"flex-item-fluid ellipsis"},r)),!s&&(Object(Eo.a)(j)?Object(Zu.a)(j,"PP",{locale:_u.a}):"-"),!f&&(Object(Eo.a)(E)?Object(Zu.a)(E,"PP",{locale:_u.a}):"-"),!s&&a,i.a.createElement(i.a.Fragment,{key:r},u?i.a.createElement(Fl.a,null,Object($.c)("Key badge").t(Xl())):null,v?i.a.createElement(Fl.a,{type:"warning"},Object($.c)("Key badge").t(Hl())):null,l?i.a.createElement(Fl.a,null,Object($.c)("Key badge").t(Yl())):null,b?i.a.createElement(Fl.a,null,Object($.c)("Key badge").t(Wl())):null,p?i.a.createElement(Fl.a,{type:"error"},Object($.c)("Key badge").t(Vl())):null,m?i.a.createElement(Fl.a,{type:"error"},Object($.c)("Key badge").t(zl())):null),i.a.createElement(bo.a,{key:r,className:"pm-button--small",list:x})].filter(Boolean);return i.a.createElement(Ki.a,{key:r,cells:w})}))))};function us(){var e=J()(["Select the PGP scheme to be used when signing or encrypting to a user. Note that PGP/Inline forces plain text messages"]);return us=function(){return e},e}function ls(){var e=J()(["Cryptographic scheme"]);return ls=function(){return e},e}function ss(){var e=J()(["Upload a public key to enable sending end-to-end encrypted emails to this email"]);return ss=function(){return e},e}function fs(){var e=J()(["Public keys"]);return fs=function(){return e},e}function ds(){var e=J()(["Digitally signing emails helps authenticating that messages are sent by you"]);return ds=function(){return e},e}function ms(){var e=J()(["Sign emails"]);return ms=function(){return e},e}function ps(){var e=J()(["Email encryption forces email signature to help authenticate your sent messages"]);return ps=function(){return e},e}function bs(){var e=J()(["Encrypt emails"]);return bs=function(){return e},e}function vs(){var e=J()(["All uploaded keys are expired or revoked! Encryption is automatically disabled."]);return vs=function(){return e},e}function hs(){var e=J()(["Only change these settings if you are using PGP with non-ProtonMail recipients."]);return hs=function(){return e},e}function gs(){var e=J()(["To use Address Verification, you must trust one or more available public keys, including the one you want to use for sending. This prevents the encrypted keys from being faked."]);return gs=function(){return e},e}function ys(){var e=J()(["This address is disabled. To be able to send to this address, the owner must first enable the address."]);return ys=function(){return e},e}function Os(){var e=J()(["Address Verification with Trusted Keys is enabled for this address. To be able to send to this address, first trust public keys that can be used for sending."]);return Os=function(){return e},e}function js(){var e=J()(["Setting up PGP allows you to send end-to-end encrypted emails with a non-Protonmail user that uses a PGP compatible service."]);return js=function(){return e},e}function Es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ws(){var e=J()(["Invalid public key file"]);return ws=function(){return e},e}var Cs,ks=function(e){var t=e.model,n=e.setModel,r=Object(Ot.a)().createNotification,a=t.keys.api.filter((function(e){return t.trustedFingerprints.has(e.getFingerprint())})),c=!!t.keys.api.length,o=!!t.keys.pinned.length,u=!!a.length,l=o&&!t.keys.pinned.some((function(e){var n=e.getFingerprint();return!t.expiredFingerprints.has(n)&&!t.revokedFingerprints.has(n)})),s=u&&!a.some((function(e){return!t.verifyOnlyFingerprints.has(e.getFingerprint())}));return i.a.createElement(i.a.Fragment,null,!c&&i.a.createElement(xt.a,{learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object($.c)("Info").t(js())),!!t.keys.pinned.length&&s&&i.a.createElement(xt.a,{type:"warning"},Object($.c)("Info").t(Os())),t.pgpAddressDisabled&&i.a.createElement(xt.a,{type:"warning"},Object($.c)("Info").t(ys())),c&&i.a.createElement(xt.a,{learnMore:"https://protonmail.com/support/knowledge-base/address-verification/"},Object($.c)("Info").t(gs())),!c&&!t.sign&&i.a.createElement(xt.a,{learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object($.c)("Info").t(hs())),t.isPGPExternalWithoutWKDKeys&&l&&i.a.createElement(xt.a,{type:"error",learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object($.c)("Info").t(vs())),!c&&i.a.createElement(Vc.a,null,i.a.createElement(qt.a,{htmlFor:"encrypt-toggle"},Object($.c)("Label").t(bs()),i.a.createElement(jl.a,{className:"ml0-5",title:Object($.c)("Tooltip").t(ps())})),i.a.createElement(To.a,null,i.a.createElement(Ml.a,{id:"encrypt-toggle",checked:t.encrypt,disabled:!t.keys.pinned.length||l,onChange:function(e){var r=e.target;return n(xs({},t,{encrypt:r.checked,sign:!!r.checked||t.sign}))}}))),!c&&i.a.createElement(Vc.a,null,i.a.createElement(qt.a,{htmlFor:"sign-toggle"},Object($.c)("Label").t(ms()),i.a.createElement(jl.a,{className:"ml0-5",title:Object($.c)("Tooltip").t(ds())})),i.a.createElement(To.a,null,i.a.createElement(Ml.a,{id:"sign-toggle",checked:t.sign,disabled:t.encrypt,onChange:function(e){var r=e.target;return n(xs({},t,{sign:r.checked,mimeType:""}))}}))),i.a.createElement(Vc.a,null,i.a.createElement(qt.a,null,Object($.c)("Label").t(fs()),i.a.createElement(jl.a,{className:"ml0-5",title:Object($.c)("Tooltip").t(ss())})),i.a.createElement(To.a,{className:"onmobile-mt0-5"},t.isPGPExternalWithoutWKDKeys&&i.a.createElement(Ll.a,{onFiles:function(e){var a,c,o,i;return Pe.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e.length){u.next=2;break}return u.abrupt("return",r({type:"error",text:Object($.c)("Error").t(ws())}));case 2:return a=de()(t.keys.pinned),c=new Set(t.trustedFingerprints),o=new Set(t.revokedFingerprints),i=new Set(t.expiredFingerprints),u.next=8,Pe.a.awrap(Promise.all(e.map((function(e){var t,n,r,u,l;return Pe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.getFingerprint(),s.next=3,Pe.a.awrap(Dl(e));case 3:if(n=s.sent,r=n.isExpired,u=n.isRevoked,r&&i.add(t),u&&o.add(t),c.has(t)){s.next=11;break}return c.add(t),s.abrupt("return",a.push(e));case 11:return l=a.findIndex((function(e){return e.getFingerprint()===t})),s.abrupt("return",a.splice(l,1,e));case 13:case"end":return s.stop()}}))}))));case 8:n(xs({},t,{keys:xs({},t.keys,{pinned:a}),trustedFingerprints:c,expiredFingerprints:i,revokedFingerprints:o}));case 9:case"end":return u.stop()}}))},multiple:!0}))),(c||o)&&i.a.createElement(is,{model:t,setModel:n}),!c&&i.a.createElement(Vc.a,null,i.a.createElement(qt.a,null,Object($.c)("Label").t(ls()),i.a.createElement(jl.a,{className:"ml0-5",title:Object($.c)("Tooltip").t(us())})),i.a.createElement(To.a,null,i.a.createElement(Rl,{value:t.scheme,onChange:function(e){return n(xs({},t,{scheme:e}))}}))))};function Ps(){var e=J()(["Save"]);return Ps=function(){return e},e}function Ns(){var e=J()(["Cancel"]);return Ns=function(){return e},e}function Ds(){var e=J()(["Show advanced PGP settings"]);return Ds=function(){return e},e}function Is(){var e=J()(["Hide advanced PGP settings"]);return Is=function(){return e},e}function Ss(){var e=J()(["Automatic indicates that the format in the composer is used to send to this user. Plain text indicates that the message will always be converted to plain text on send."]);return Ss=function(){return e},e}function As(){var e=J()(["Email format"]);return As=function(){return e},e}function Ts(){var e=J()(["PGP/MIME automatically sends the message using the current composer mode. Please note that ProtonMail always signs PGP/MIME messages."]);return Ts=function(){return e},e}function Ms(){var e=J()(["PGP/Inline is only compatible with Plain Text format. Please note that ProtonMail always signs PGP/Inline messages."]);return Ms=function(){return e},e}function Ls(){var e=J()(["Select the email format you want to be used by default when sending an email to this email address."]);return Ls=function(){return e},e}function Ks(){var e=J()(["Email settings (",")"]);return Ks=function(){return e},e}function Rs(){var e=J()(["Close modal"]);return Rs=function(){return e},e}function Fs(){var e=J()(["Close modal"]);return Fs=function(){return e},e}function Gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bs(){var e=J()(["Preferences saved"]);return Bs=function(){return e},e}var zs=V.K.SEND_PGP_INLINE,Vs=V.K.SEND_PGP_MIME,Ws=Ue,Ys=Ge,Hs=(Cs={},Q()(Cs,zs,"pgp-inline"),Q()(Cs,Vs,"pgp-mime"),Cs),Xs=function(e){var t=e.userKeysList,n=e.contactID,r=e.properties,a=e.emailProperty,c=yt()(e,["userKeysList","contactID","properties","emailProperty"]),u=Object($a.a)(),l=Object(G.a)().call,s=Object(o.useState)({keys:{api:[],pinned:[]}}),f=_()(s,2),d=f[0],m=f[1],p=Object(o.useState)(!1),b=_()(p,2),v=b[0],h=b[1],g=Object(Rt.a)(),y=_()(g,2),O=y[0],j=y[1],E=Object(Ot.a)().createNotification,x=Object(zu.a)(),w=_()(x,2),C=w[0],k=C.PGPScheme,P=C.Sign,N=w[1],D=O||N,I=a.value,S=a.group,A=d.isPGPExternal&&d.sign,T="pgp-inline"===(d.scheme||Hs[k]),M=function(e){var t=(d.isPGPInternal?de()(d.keys.api):[].concat(de()(d.keys.api),de()(d.keys.pinned))).filter((function(e){return d.trustedFingerprints.has(e.getFingerprint())}));return Object(Ce.f)(t,(function(e){return e.getFingerprint()})).map((function(t,n){return function(e){var t=e.publicKey,n=e.group,r=e.index;return{field:"key",value:"data:application/pgp-keys;base64,".concat(Object(Se.j)(Object(Se.b)(t.toPacketlist().write()))),group:n,pref:"".concat(r+1)}}({publicKey:t,group:e,index:n})}))};return Object(o.useEffect)((function(){var e=new AbortController;return N||j(function(e){var t,n,a,c,o,i,u,l,s,f,d,p,b,v,h,g;return Pe.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Pe.a.awrap(He(r,S,P));case 2:return t=y.sent,n=t.pinnedKeys,a=t.mimeType,c=t.encrypt,o=t.scheme,i=t.sign,u=new Set,l=new Set,s=new Set,y.next=13,Pe.a.awrap(Promise.all(n.map((function(e){var t,n,r,a;return Pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.getFingerprint(),c.next=3,Pe.a.awrap(Dl(e));case 3:n=c.sent,r=n.isExpired,a=n.isRevoked,u.add(t),r&&l.add(t),a&&s.add(t);case 9:case"end":return c.stop()}}))}))));case 13:return y.next=15,Pe.a.awrap(Object(Il.a)(e,I));case 15:f=y.sent,d=kl(f),p=!d,b=new Set,v=f.Keys.reduce((function(e,t,n){var r=t.Flags,a=f.publicKeys[n];a&&(e.apiKeys.push(a),!(r&V.x.ENABLE_ENCRYPTION)&&b.add(a.getFingerprint()));return e}),{apiKeys:[]}),h=v.apiKeys,g=Pl(h,u,b),m({mimeType:a,encrypt:c,scheme:o,sign:i,email:I,keys:{api:g,pinned:n},trustedFingerprints:u,expiredFingerprints:l,revokedFingerprints:s,verifyOnlyFingerprints:b,isPGPExternal:p,isPGPInternal:d,isPGPExternalWithWKDKeys:p&&!!h.length,isPGPExternalWithoutWKDKeys:p&&!h.length,pgpAddressDisabled:(O=f,kl(O)&&!O.Keys.some((function(e){return e.Flags&Cl})))});case 22:case"end":return y.stop()}var O}))}((function(t){return u(Us({},t,{signal:e.signal}))}))),function(){e.abort()}}),[N]),Object(o.useEffect)((function(){var e=!!d.keys.pinned.length&&!d.keys.pinned.some((function(e){var t=e.getFingerprint();return!d.expiredFingerprints.has(t)&&!d.revokedFingerprints.has(t)}));m((function(t){return Us({},t,{encrypt:!e&&!!t.keys.pinned.length&&t.encrypt,keys:{api:Pl(t.keys.api,t.trustedFingerprints,t.verifyOnlyFingerprints),pinned:Nl(t.keys.pinned,t.expiredFingerprints,t.revokedFingerprints)}})}))}),[d.trustedFingerprints,d.expiredFingerprints,d.revokedFingerprints,d.verifyOnlyFingerprints]),Object(o.useEffect)((function(){if(A)return T?m((function(e){return Us({},e,{mimeType:V.D.PLAINTEXT})})):void m((function(e){return Us({},e,{mimeType:""})}))}),[A,T]),i.a.createElement(gl.a,ht()({modalTitleID:"modalTitle"},c),i.a.createElement("header",{className:"pm-modalHeader"},i.a.createElement("button",{type:"button",className:"pm-modalClose",title:Object($.c)("Action").t(Fs()),onClick:c.onClose},i.a.createElement(Nt.a,{className:"pm-modalClose-icon",name:"close"}),i.a.createElement("span",{className:"sr-only"},Object($.c)("Action").t(Rs()))),i.a.createElement("h1",{id:"modalTitle",className:"pm-modalTitle ellipsis"},Object($.c)("Title").t(Ks(),I))),i.a.createElement(yl.a,{onSubmit:function(){return j(Pe.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return e=r.filter((function(e){var t=e.field,n=e.group;return!["email"].concat(de()(Me)).includes(t)||n&&n!==S})),o=[a,d.mimeType&&{field:"x-pm-mimetype",value:d.mimeType,group:S},d.isPGPExternalWithoutWKDKeys&&d.encrypt&&{field:"x-pm-encrypt",value:"true",group:S},d.isPGPExternalWithoutWKDKeys&&d.sign&&{field:"x-pm-sign",value:"true",group:S},d.isPGPExternalWithoutWKDKeys&&d.scheme&&{field:"x-pm-scheme",value:d.scheme,group:S}].concat(de()(M(S))).filter(Boolean),i=Oe(e.concat(o)),m.next=5,Pe.a.awrap(Oc([i],t[0]));case 5:return s=m.sent,f=Ec(i)?Ws:Ys,m.next=9,Pe.a.awrap(u(Object(uc.a)({Contacts:s,Overwrite:+!!n,Labels:f})));case 9:return m.next=11,Pe.a.awrap(l());case 11:c.onClose(),E({text:Object($.c)("Success").t(Bs())});case 13:case"end":return m.stop()}})));var e,o,i,s,f},onReset:c.onClose,noValidate:!1},i.a.createElement(Ol.a,null,A?T?i.a.createElement(xt.a,null,Object($.c)("Info").t(Ms())):i.a.createElement(xt.a,null,Object($.c)("Info").t(Ts())):i.a.createElement(xt.a,null,Object($.c)("Info").t(Ls())),i.a.createElement(Vc.a,null,i.a.createElement(qt.a,null,Object($.c)("Label").t(As()),i.a.createElement(jl.a,{className:"ml0-5",title:Object($.c)("Tooltip").t(Ss())})),i.a.createElement(To.a,null,i.a.createElement(Tl,{disabled:A,value:d.mimeType,onChange:function(e){return m(Us({},d,{mimeType:e}))}}))),i.a.createElement("div",{className:"mb1"},i.a.createElement(ut.a,{onClick:function(){return h(!v)},disabled:O||N},v?Object($.c)("Action").t(Is()):Object($.c)("Action").t(Ds()))),v?i.a.createElement(ks,{model:d,setModel:m}):null),i.a.createElement(El.a,null,i.a.createElement(wt.a,null,Object($.c)("Action").t(Ns())),i.a.createElement(jt.a,{loading:D,disabled:!v,type:"submit"},Object($.c)("Action").t(Ps())))))};function Js(){var e=J()(["Email settings"]);return Js=function(){return e},e}function qs(){var e=J()(["Contact group"]);return qs=function(){return e},e}var Qs=function(e){var t=e.property,n=e.properties,r=e.contactID,a=e.contactEmail,c=e.contactGroups,o=void 0===c?[]:c,u=e.userKeysList,l=e.leftBlockWidth,s=void 0===l?"w30":l,f=e.rightBlockWidth,d=void 0===f?"w70":f,m=Object(ce.b)(),p=_()(m,1)[0].hasPaidMail,b=Object(te.a)().createModal,v={work:Object($.c)("Contact type label").t(ga()),home:Object($.c)("Contact type label").t(ha()),cell:Object($.c)("Contact type label").t(va()),main:Object($.c)("Contact type label").t(ba()),yomi:Object($.c)("Contact type label").t(pa()),other:Object($.c)("Contact type label").t(ma()),fax:Object($.c)("Contact type label").t(da()),pager:Object($.c)("Contact type label").t(fa())},h=t.field,g=t.first,y=Ve(We(t.type)),O=v[y]||y,j=t.value;return i.a.createElement(Vc.a,null,i.a.createElement("div",{className:Object(ui.a)(["flex flex-items-center",s])},i.a.createElement(Yo,{field:h,type:O,first:g})),i.a.createElement("div",{className:Object(ui.a)(["flex flex-nowrap flex-items-center pl1",d])},i.a.createElement("span",{className:Object(ui.a)(["mr0-5 flex-item-fluid",!["note"].includes(h)&&"ellipsis"])},function(){if("email"===h)return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"mr0-5",href:"mailto:".concat(j),title:j},j),o.map((function(e){var t=e.ID,n=e.Name,r=e.Color;return i.a.createElement(cu,{key:t,name:n,color:r})})));if("url"===h)return i.a.createElement("a",{href:j,target:"_blank",rel:"noopener noreferrer"},j);if("tel"===h)return i.a.createElement("a",{href:"tel:".concat(j)},j);if(["bday","anniversary"].includes(h)){var e=[Object(jo.a)(j),new Date(j)].filter(Eo.a),t=_()(e,1)[0];return t?Object(Zu.a)(t,"PP",{locale:_u.a}):j}return"logo"===h?i.a.createElement(Xu.a,{src:j}):"adr"===h?Ye(j):j}()),i.a.createElement("span",{className:"flex-item-noshrink"},function(){switch(h){case"email":if(!a)return null;return i.a.createElement(Ju.a,null,p?i.a.createElement(hl,{className:"pm-button pm-button--for-icon pm-group-button",contactEmails:[a]},i.a.createElement(Zo.a,{title:Object($.c)("Title").t(qs())},i.a.createElement(Nt.a,{name:"contacts-groups"}))):null,i.a.createElement(qu.a,{onClick:function(){b(i.a.createElement(Xs,{userKeysList:u,contactID:r,emailProperty:t,properties:n}))},className:"pm-button--for-icon"},i.a.createElement(Zo.a,{title:Object($.c)("Title").t(Js())},i.a.createElement(Nt.a,{name:"settings-singular"}))),i.a.createElement(Qu.a,{className:"pm-button--for-icon pm-group-button",value:j}));case"tel":return i.a.createElement(Qu.a,{className:"pm-button--for-icon",value:j});case"adr":return i.a.createElement(Qu.a,{className:"pm-button--for-icon",value:Ye(j)});default:return null}}())))};function Zs(){var e=J()(["Other information"]);return Zs=function(){return e},e}function _s(){var e=J()(["Addresses"]);return _s=function(){return e},e}function $s(){var e=J()(["Phone numbers"]);return $s=function(){return e},e}function ef(){var e=J()(["Email addresses"]);return ef=function(){return e},e}var tf={email:"email",tel:"phone",adr:"address",other:"info"},nf=function(e){var t=e.properties,n=e.contactID,r=e.contactEmails,a=e.contactGroupsMap,c=void 0===a?{}:a,o=e.field,u=e.userKeysList,l=e.leftBlockWidth,s=void 0===l?"w30":l,f=e.rightBlockWidth,d=void 0===f?"w70":f,m={email:Object($.c)("Title").t(ef()),tel:Object($.c)("Title").t($s()),adr:Object($.c)("Title").t(_s()),other:Object($.c)("Title").t(Zs())},p=o?m[o]:m.other,b=o?tf[o]:tf.other,v=["photo","org"],h=o?[o]:Te.filter((function(e){return!v.includes(e)})),g=t.filter((function(e){var t=e.field;return h.includes(t)}));return g.length?i.a.createElement("div",{className:"border-bottom mb1"},i.a.createElement("h3",{className:"mb1 flex flex-nowrap flex-items-center"},i.a.createElement(Nt.a,{name:b,className:"mr0-5"}),i.a.createElement("span",{className:"mr0-5"},p),"email"===o?null:i.a.createElement($o,{className:"flex"})),g.map((function(e,a){var o=r&&r[a],l=o&&o.LabelIDs.map((function(e){return c[e]})).filter(Boolean);return i.a.createElement(Qs,{key:a.toString(),contactID:n,contactEmail:o,contactGroups:l,property:e,properties:t,userKeysList:u,leftBlockWidth:s,rightBlockWidth:d})}))):null};function rf(){var e=J()(["Export"]);return rf=function(){return e},e}function af(){var e=J()(["Edit"]);return af=function(){return e},e}function cf(){var e=J()(["Contact details"]);return cf=function(){return e},e}var of=function(e){var t=e.properties,n=void 0===t?[]:t,r=e.contactID,a=e.contactEmails,c=e.contactGroupsMap,o=e.userKeysList,u=e.errors,l=Object(te.a)().createModal,s=Object(ce.b)(),f=_()(s,1)[0];return i.a.createElement("div",{className:"view-column-detail flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"flex flex-spacebetween flex-items-center border-bottom"},i.a.createElement("div",{className:"p1"},i.a.createElement("h2",{className:"m0"},Object($.c)("Title").t(cf()))),i.a.createElement("div",{className:"p1"},i.a.createElement(jt.a,{onClick:function(){l(i.a.createElement(Si,{properties:n,contactID:r}))},className:"mr1"},Object($.c)("Action").t(af())),i.a.createElement(Dt.a,{onClick:function(){return function(e){var t=e.filter((function(e){var t=e.field;return["fn","email"].includes(t)})).map((function(e){var t=e.value;return Array.isArray(t)?t[0]:t}))[0],n=_e(e),r=new Blob([n.toString()],{type:"data:text/plain;charset=utf-8;"});Object(Bu.a)(r,"".concat(t,".vcf"))}(n)}},Object($.c)("Action").t(rf())))),i.a.createElement(Uu,{errors:u}),i.a.createElement(Hu,{properties:n}),i.a.createElement("div",{className:"pl1 pr1"},i.a.createElement(nf,{userKeysList:o,contactID:r,contactEmails:a,contactGroupsMap:c,properties:n,field:"email"}),f.hasPaidMail?i.a.createElement(i.a.Fragment,null,i.a.createElement(nf,{contactID:r,properties:n,field:"tel"}),i.a.createElement(nf,{contactID:r,properties:n,field:"adr"}),i.a.createElement(nf,{contactID:r,properties:n})):i.a.createElement(mi,null)))},uf=function(e){var t=e.contactID,n=e.contactEmails,r=e.contactGroupsMap,a=e.userKeysList,c=void 0===a?[]:a,u=Object(o.useState)({ID:t}),l=_()(u,2),s=l[0],f=l[1],d=Object(o.useRef)(t),m=Eu(t),p=_()(m,2),b=p[0],v=p[1];Object(o.useEffect)((function(){if(b&&c.length){d.current=b.ID;var e=Object(Ou.f)(c),t=e.publicKeys,n=e.privateKeys;Su(b,{publicKeys:t,privateKeys:n}).then((function(e){var t=e.properties,n=e.error;d.current===b.ID&&f({ID:b.ID,properties:t,error:n})}))}}),[b,c]);var h=s.properties,g=s.errors,y=s.ID;return v||!h||y!==t?i.a.createElement(ue.a,null):i.a.createElement(of,{properties:h,contactID:t,contactEmails:n,contactGroupsMap:r,userKeysList:c,errors:g})},lf=n("2iEm"),sf=n("pc7d"),ff=n("X8Oj"),df=n("uLbS"),mf=n("6C09"),pf=n("hGKC");function bf(){var e=J()(["No contacts exported."]);return bf=function(){return e},e}function vf(){var e=J()([""," out of "," contacts successfully exported."]);return vf=function(){return e},e}function hf(){var e=J()(["Decrypting contacts... This may take a few minutes. When the process is completed, you will be able to download the file with all your contacts exported."]);return hf=function(){return e},e}function gf(){var e=J()(["Exporting contacts"]);return gf=function(){return e},e}function yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Of(){var e=J()(["Save"]);return Of=function(){return e},e}function jf(){var e=J()(["Cancel"]);return jf=function(){return e},e}var Ef=function(e){var t,n,r=e.contactGroupID,a=e.userKeysList,c=e.onSave,u=void 0===c?Be.b:c,l=yt()(e,["contactGroupID","userKeysList","onSave"]),s=Object($a.a)(),f=Object(re.a)(),d=_()(f,2),m=d[0],p=d[1],b=Object(o.useState)([]),v=_()(b,2),h=v[0],g=v[1],y=Object(o.useState)([]),O=_()(y,2),j=O[0],E=O[1],x=r?m.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)})).length:m.length,w=Math.ceil(x/50);return Object(o.useEffect)((function(){var e=new AbortController,t=function(t){return s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yf(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{signal:e.signal}))},n=Object(Ou.f)(a),c=n.publicKeys,o=n.privateKeys,i=function(e,n){var a,i,u,l,s,f,d,m,p,b;return Pe.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return a=n.signal,v.next=3,Pe.a.awrap(t(Object(uc.g)({LabelID:r,Page:e,PageSize:50})));case 3:i=v.sent,u=i.Contacts,l=!0,s=!1,f=void 0,v.prev=8,d=function(){var e,t,n,r,i,u,l,s;return Pe.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(e=p.value,t=e.Cards,n=e.ID,!a.aborted){f.next=3;break}return f.abrupt("return",{v:void 0});case 3:return f.prev=3,f.next=6,Pe.a.awrap(Su({Cards:t},{publicKeys:c,privateKeys:o}));case 6:if(r=f.sent,i=r.properties,u=void 0===i?[]:i,l=r.errors,!(void 0===l?[]:l).length){f.next=13;break}throw new Error("Error decrypting contact");case 13:s=_e(u).toString(),!a.aborted&&g((function(e){return[].concat(de()(e),[s])})),f.next=20;break;case 17:f.prev=17,f.t0=f.catch(3),!a.aborted&&E((function(e){return[].concat(de()(e),[n])}));case 20:case"end":return f.stop()}}),null,null,[[3,17]])},m=u[Symbol.iterator]();case 11:if(l=(p=m.next()).done){v.next=20;break}return v.next=14,Pe.a.awrap(d());case 14:if("object"!=typeof(b=v.sent)){v.next=17;break}return v.abrupt("return",b.v);case 17:l=!0,v.next=11;break;case 20:v.next=26;break;case 22:v.prev=22,v.t0=v.catch(8),s=!0,f=v.t0;case 26:v.prev=26,v.prev=27,l||null==m.return||m.return();case 29:if(v.prev=29,!s){v.next=32;break}throw f;case 32:return v.finish(29);case 33:return v.finish(26);case 34:case"end":return v.stop()}}),null,null,[[8,22,26,34],[27,,29,33]])};return function(e){var t;return Pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t=0;case 1:if(!(t<w)){n.next=7;break}return n.next=4,Pe.a.awrap(Promise.all([i(t,e),Object(lc.b)(100)]));case 4:t++,n.next=1;break;case 7:case"end":return n.stop()}}))}(e).catch((function(e){if("AbortError"!==e.name)throw l.onClose(),e})),function(){e.abort()}}),[]),i.a.createElement(Ct.a,ht()({title:Object($.c)("Title").t(gf()),onSubmit:function(){return e=h.join("\n"),t=new Blob([e],{type:"data:text/plain;charset=utf-8;"}),Object(Bu.a)(t,"".concat("protonContacts","-").concat(Object(Zu.a)(Date.now(),"yyyy-MM-dd"),".vcf")),u(),void l.onClose();var e,t},footer:(t={loading:h.length+j.length!==x},n=t.loading,i.a.createElement(i.a.Fragment,null,i.a.createElement(wt.a,null,Object($.c)("Action").t(jf())),i.a.createElement(jt.a,{loading:n,type:"submit"},Object($.c)("Action").t(Of())))),loading:p},l),i.a.createElement(xt.a,null,Object($.c)("Description").t(hf())),i.a.createElement(rc,{id:"progress-export-contacts",alt:"contact-loader",value:wc(h.length,j.length,x),failed:!h.length,displaySuccess:Object($.c)("Progress bar description").t(vf(),h.length,x),displayFailed:Object($.c)("Progress bar description").t(bf())}))};function xf(){var e=J()(["Merge"]);return xf=function(){return e},e}function wf(){var e=J()([""," Do you want to merge these contacts now?"]);return wf=function(){return e},e}function Cf(){var e=J()(["Two or more contacts appear to be identical."]);return Cf=function(){return e},e}var kf=function(e){var t=e.loadingUserKeys,n=e.style,r=e.onMerge,a=yt()(e,["loadingUserKeys","style","onMerge"]),c=i.a.createElement("b",{key:"boldface"},Object($.c)("Info").t(Cf()));return i.a.createElement("div",ht()({style:n,className:"p1 flex flex-nowrap flex-items-center bg-primary color-white"},a),i.a.createElement("div",{className:"mr1 flex-item-noshrink"},i.a.createElement(Nt.a,{name:"merge",color:"white"})),i.a.createElement("div",{className:"alignleft"},i.a.createElement("span",{className:"mr0-5"},Object($.c)("Info").jt(wf(),c)),i.a.createElement(Dt.a,{className:"pm-button--small pm-button--primary pm-button--whiteborder alignbaseline",disabled:t,onClick:r},Object($.c)("Action").t(xf()))))};function Pf(){var e=J()(["Settings"]);return Pf=function(){return e},e}function Nf(){var e=J()(["You can decide whether or not contacts are automatically added to your address book by navigating to ",""]);return Nf=function(){return e},e}function Df(){var e=J()(["You have "," in your address book"]);return Df=function(){return e},e}function If(){var e=J()(["Contacts"]);return If=function(){return e},e}function Sf(){var e=J()(["Settings > General > Contacts"]);return Sf=function(){return e},e}function Af(){var e=J()([""," contacts"]);return Af=function(){return e},e}function Tf(){var e=J()(["one contact"]);return Tf=function(){return e},e}function Mf(){var e=J()(["Export"]);return Mf=function(){return e},e}function Lf(){var e=J()(["Edit"]);return Lf=function(){return e},e}function Kf(){var e=J()(["You have "," in this group."]);return Kf=function(){return e},e}function Rf(){var e=J()([""," contacts"]);return Rf=function(){return e},e}function Ff(){var e=J()(["1 contact"]);return Ff=function(){return e},e}function Gf(){var e=J()(["Deselect"]);return Gf=function(){return e},e}function Uf(){var e=J()(["You selected "," from your address book."]);return Uf=function(){return e},e}function Bf(){var e=J()(["1 contact"]);return Bf=function(){return e},e}function zf(){var e=J()(["Upgrade"]);return zf=function(){return e},e}function Vf(){var e=J()(["Upgrade to a paid plan to enable encrypted contact details and manage contact groups."]);return Vf=function(){return e},e}function Wf(){var e=J()(["Unlock features"]);return Wf=function(){return e},e}function Yf(){var e=J()(["Export"]);return Yf=function(){return e},e}function Hf(){var e=J()(["Create a backup of your ProtonMail contacts by exporting them to a vCard file."]);return Hf=function(){return e},e}function Xf(){var e=J()(["Export contacts"]);return Xf=function(){return e},e}function Jf(){var e=J()(["Import"]);return Jf=function(){return e},e}function qf(){var e=J()(["Add contacts to your ProtonMail account by importing them from a CSV or vCard file."]);return qf=function(){return e},e}function Qf(){var e=J()(["Import contacts"]);return Qf=function(){return e},e}function Zf(){var e=J()(["Groups"]);return Zf=function(){return e},e}function _f(){var e=J()(["Use groups to send email to a list of addresses you regularly communicate with."]);return _f=function(){return e},e}function $f(){var e=J()(["Manage groups"]);return $f=function(){return e},e}function ed(){var e=J()(["Export"]);return ed=function(){return e},e}function td(){var e=J()(["Create a backup of your ProtonMail contacts by exporting them to a vCard file."]);return td=function(){return e},e}function nd(){var e=J()(["Export contacts"]);return nd=function(){return e},e}function rd(){var e=J()(["Import"]);return rd=function(){return e},e}function ad(){var e=J()(["Add contacts to your ProtonMail account by importing them from a CSV or vCard file."]);return ad=function(){return e},e}function cd(){var e=J()(["Import contacts"]);return cd=function(){return e},e}var od=function(e){var t=e.loadingUserKeys,n=e.onImport,r=e.onExport,a=e.onGroups;return i.a.createElement("div",{className:"flex flex-nowrap onmobile-flex-column"},i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:sf.a,alt:"contact-import",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t(cd())),i.a.createElement("p",null,Object($.c)("Info").t(ad()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(jt.a,{className:"bold",onClick:n,disabled:t},Object($.c)("Action").t(rd())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:ff.a,alt:"contact-export",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t(nd())),i.a.createElement("p",null,Object($.c)("Info").t(td()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(jt.a,{className:"bold",onClick:r,disabled:t},Object($.c)("Action").t(ed())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid onmobile-mr0 onmobile-mb1 p1 aligncenter"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:df.a,alt:"contact-groups",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t($f())),i.a.createElement("p",null,Object($.c)("Info").t(_f()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(jt.a,{className:"bold",onClick:a},Object($.c)("Action").t(Zf())))))},id=function(e){var t=e.loadingUserKeys,n=e.onImport,r=e.onExport;return i.a.createElement("div",{className:"flex flex-nowrap onmobile-flex-column"},i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:sf.a,alt:"contact-import",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t(Qf())),i.a.createElement("p",null,Object($.c)("Info").t(qf()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(jt.a,{className:"bold",onClick:n,disabled:t},Object($.c)("Action").t(Jf())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:ff.a,alt:"contact-export",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t(Xf())),i.a.createElement("p",null,Object($.c)("Info").t(Hf()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(jt.a,{className:"bold",onClick:r,disabled:t},Object($.c)("Action").t(Yf())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid onmobile-mr0 onmobile-mb1 p1 aligncenter"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:mf.a,alt:"contact-unlock-features",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t(Wf())),i.a.createElement("p",null,Object($.c)("Info").t(Vf()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(jt.a,{className:"bold",onClick:function(){return Object(f.h)("/settings/subscription")}},Object($.c)("Action").t(zf())))))},ud=function(e){var t=e.totalContacts,n=void 0===t?0:t,r=e.selectedContacts,a=void 0===r?0:r,c=e.totalContactsInGroup,o=void 0===c?0:c,u=e.contactGroupID,l=e.contactGroupName,s=e.user,f=e.userKeysList,d=e.loadingUserKeys,m=e.onUncheck,p=e.canMerge,b=e.onMerge,v=e.onImport,h=e.onExport,g=e.onGroups,y=s.hasPaidMail,O=Object(te.a)().createModal;if(a){var j=i.a.createElement("b",{key:"total-contacts"},Object($.c)("Info").ngettext(Object($.msgid)(Bf()),"".concat(a," contacts"),a));return i.a.createElement("div",{className:"p2 view-column-detail flex flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter center mbauto mtauto"},i.a.createElement("div",{className:"mb2"},Object($.c)("Info").jt(Uf(),j)),i.a.createElement("div",{className:"aligncenter mb2"},i.a.createElement("img",{src:pf.a,alt:"contact-group-card"})),i.a.createElement("div",{className:"mb2"},i.a.createElement(Dt.a,{className:"mr1",onClick:m},Object($.c)("Action").ngettext(Object($.msgid)(Gf()),"Deselect all",a)))))}if(u){var E=i.a.createElement("b",{key:"total-contacts"},1===o?Object($.c)("Info").t(Ff()):Object($.c)("Info").t(Rf(),o));return i.a.createElement("div",{className:"p2 view-column-detail flex flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter center mbauto mtauto"},i.a.createElement("h1",{className:"ellipsis lh-standard"},l),i.a.createElement("div",{className:"mb2"},Object($.c)("Info").jt(Kf(),E)),i.a.createElement("div",{className:"aligncenter mb2"},i.a.createElement("img",{src:pf.a,alt:"contact-group-card"})),i.a.createElement("div",{className:"mb2"},i.a.createElement(Dt.a,{className:"mr1",onClick:function(){return O(i.a.createElement(ru,{contactGroupID:u}))}},Object($.c)("Action").t(Lf())),!!o&&i.a.createElement(Dt.a,{onClick:function(){return O(i.a.createElement(Ef,{contactGroupID:u,userKeysList:f}))},disabled:d},Object($.c)("Action").t(Mf())))))}var x=1===n?i.a.createElement("b",{key:"boldface"},Object($.c)("Info").t(Tf())):i.a.createElement("b",{key:"boldface"},Object($.c)("Info").t(Af(),n)),w=i.a.createElement("b",{key:"boldface-2"},Object($.c)("Info").t(Sf()));return i.a.createElement("div",{className:"p2 view-column-detail flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter mt2"},i.a.createElement("h1",null,Object($.c)("Title").t(If())),i.a.createElement("div",{className:"mb2"},Object($.c)("Info").jt(Df(),x)),i.a.createElement("div",{className:"mb1"},Object($.c)("Info").jt(Nf(),w)),i.a.createElement("div",{className:"mb1"},i.a.createElement(lf.a,{to:"/contacts/settings",className:"inline-flex flex-nowrap nodecoration"},i.a.createElement(Nt.a,{className:"mr0-5 flex-item-centered-vert fill-primary",name:"settings-master"}),i.a.createElement("span",null,Object($.c)("Title").t(Pf())))),p&&i.a.createElement("div",{className:"mb2"},i.a.createElement(kf,{loadingUserKeys:d,onMerge:b}))),y?i.a.createElement(od,{userKeysList:f,loadingUserKeys:d,onImport:v,onExport:function(){return h()},onGroups:g}):i.a.createElement(id,{loadingUserKeys:d,onImport:v,onExport:function(){return h()}}))},ld=n("a5Ah");function sd(){var e=J()(["Delete"]);return sd=function(){return e},e}var fd=function(e){var t=e.user,n=e.onCheck,r=e.onDelete,a=e.checked,c=void 0!==a&&a,u=e.activeIDs,l=void 0===u?[]:u,s=e.contactEmailsMap,f=void 0===s?{}:s,d=e.simplified,m=void 0!==d&&d,p=Object(o.useMemo)((function(){return l.reduce((function(e,t){return f[t]?e.concat(f[t]):e}),[])}),[l,f]);return m?i.a.createElement("div",{className:"toolbar flex noprint"},i.a.createElement(lf.a,{to:"/contacts",className:"toolbar-button"},i.a.createElement(Nt.a,{name:"arrow-left",className:"toolbar-icon mauto"}))):i.a.createElement("div",{className:"toolbar flex noprint"},i.a.createElement(Jt.a,{className:"flex pm-select-all ml0-75 pl1 pr1",checked:c,onChange:function(e){var t=e.target;return n(t.checked)}}),i.a.createElement(ld.a,null),i.a.createElement("button",{type:"button",title:Object($.c)("Tooltip").t(sd()),className:"toolbar-button",onClick:r,disabled:!l.length},i.a.createElement(Nt.a,{name:"delete",className:"toolbar-icon mauto"})),t.hasPaidMail?i.a.createElement(hl,{className:"toolbar-button toolbar-button--dropdown",disabled:!p.length,contactEmails:p,forToolbar:!0},i.a.createElement(Nt.a,{name:"contacts-groups",className:"toolbar-icon mauto"})):null)},dd=n("llAM"),md=n("VjF5"),pd=n("+4In"),bd=n("c47Q"),vd=n("domY"),hd=n("SOA7"),gd=n("K/no"),yd=n("JjEE");function Od(){var e=J()(["Settings"]);return Od=function(){return e},e}function jd(){var e=J()(["Search contacts"]);return jd=function(){return e},e}function Ed(){var e=J()(["Contacts"]);return Ed=function(){return e},e}function xd(){var e=J()(["Search"]);return xd=function(){return e},e}var wd=function(e){var t=e.title,n=e.search,r=e.onSearch,a=e.onClearSearch,c=e.expanded,o=e.onToggleExpand,u=e.inSettings,l=void 0!==u&&u,s=e.isNarrow,f=void 0!==s&&s,d=e.history,m=Object(ce.b)(),p=_()(m,1)[0].hasPaidMail,b=Object(te.a)().createModal;return i.a.createElement("header",{className:"header flex flex-items-center flex-nowrap reset4print"},i.a.createElement(dd.a,{url:"/contacts",className:"nomobile"}),i.a.createElement(md.a,{expanded:c,onToggle:o}),t&&f?i.a.createElement("span",{className:"h3 mb0 ellipsis lh-standard"},t):null,l||f?null:i.a.createElement(pd.a,{placeholder:Object($.c)("Placeholder").t(xd()),value:n,onChange:r}),i.a.createElement(bd.a,null,p||f?null:i.a.createElement(vd.a,{external:!0}),f&&!l?null:i.a.createElement(hd.a,{className:"nomobile",to:"/contacts",icon:"contacts",text:Object($.c)("Title").t(Ed()),"aria-current":!l}),!l&&f?i.a.createElement(gd.a,{content:i.a.createElement(Nt.a,{name:"search",size:25,className:"topnav-icon mr0-5 flex-item-centered-vert fill-white"}),placeholder:Object($.c)("Placeholder").t(jd()),search:n,onSearch:r,hasCaret:!1}):null,f&&l?null:i.a.createElement(hd.a,{to:"/contacts/settings/general",icon:"settings-master",text:Object($.c)("Title").t(Od()),"aria-current":l})),f&&!l?i.a.createElement(yd.a,{onClick:function(){return b(i.a.createElement(Si,{history:d,onAdd:a}))},icon:"plus"}):null)},Cd=n("BMtv");function kd(){var e=J()(["This feature requires a paid Proton account"]);return kd=function(){return e},e}function Pd(){var e=J()(["Upgrade"]);return Pd=function(){return e},e}function Nd(){var e=J()(["Upgrade required"]);return Nd=function(){return e},e}var Dd=function(e){var t=e.onConfirm,n=e.onClose,r=yt()(e,["onConfirm","onClose"]);return i.a.createElement(Et.a,ht()({title:Object($.c)("Title").t(Nd()),onConfirm:function(){Object(f.h)("/settings/subscription"),t&&t()},onClose:n,confirm:Object($.c)("Action").t(Pd())},r),i.a.createElement(xt.a,{type:"warning"},Object($.c)("Warning").t(kd())))};function Id(){var e=J()(["Add contact"]);return Id=function(){return e},e}function Sd(){var e=J()(["Groups"]);return Sd=function(){return e},e}function Ad(){var e=J()(["Export all"]);return Ad=function(){return e},e}function Td(){var e=J()(["Import"]);return Td=function(){return e},e}function Md(){var e=J()(["Contacts"]);return Md=function(){return e},e}var Ld=function(e){var t=e.url,n=e.user,r=e.userKeysList,a=void 0===r?[]:r,c=e.loadingUserKeys,o=e.totalContacts,u=e.contactGroups,l=void 0===u?[]:u,s=e.expanded,f=e.onToggleExpand,d=e.onClearSearch,m=e.history,p=n.hasPaidMail,b=Object(te.a)().createModal,v=[{icon:"contacts",isActive:function(e,t){return!!e&&!new URLSearchParams(t.search).get("contactGroupID")},text:Object($.c)("Link").t(Md()),link:"/contacts"},!c&&{type:"button",className:"alignleft",icon:"import",text:Object($.c)("Link").t(Td()),onClick:function(){b(i.a.createElement(so,{userKeysList:a}))}},o&&!c&&{type:"button",className:"alignleft",icon:"export",text:Object($.c)("Link").t(Ad()),onClick:function(){b(i.a.createElement(Ef,{userKeysList:a}))}},{type:"button",className:"alignleft",icon:"settings-singular",text:Object($.c)("Link").t(Sd()),onClick:function(){if(!p)return b(i.a.createElement(Dd,null));m.push("/contacts/settings/groups")}}];p&&v.push.apply(v,de()(l.map((function(e){var t=e.Name,n=e.Color,r=e.ID;return{icon:"contacts-groups",isActive:function(e,t){return new URLSearchParams(t.search).get("contactGroupID")===r},color:n,text:t,link:"/contacts?contactGroupID=".concat(r)}}))));return i.a.createElement(Cd.a,{expanded:s,onToggleExpand:f,url:t,list:v.filter(Boolean),mobileLinks:[{to:"/inbox",icon:"protonmail",external:!0,current:!1},{to:"/contacts",icon:"protoncontacts",external:!1,current:!0}]},i.a.createElement("div",{className:"pl1 pr1 nomobile"},i.a.createElement(jt.a,{className:"pm-button--large bold mt0-25 w100",onClick:function(){return b(i.a.createElement(Si,{history:m,onAdd:d}))}},Object($.c)("Action").t(Id()))))},Kd=function(e,t,n){var r=n.oldIndex,a=n.newIndex;return e.map((function(e,n){return n===t?Object(Ce.c)(e,r,a):e}))},Rd=function(e){var t=e.properties,n=void 0===t?[]:t,r=e.hasPaidMail,a=xe(n,"fn"),c=we(n,"email"),o=we(n,"tel"),u=we(n,"adr"),l=we(n,"org"),s=we(n,"note"),f=[[{prop:"Name",icon:"contact",component:a}],c.length&&c.map((function(e){return{prop:"Email",icon:"email",component:i.a.createElement("a",{href:"mailto:".concat(e)},e)}})),r&&o.length&&o.map((function(e){return{prop:"Phone",icon:"phone",component:i.a.createElement("a",{href:"tel:".concat(e)},e)}})),r&&u.length&&u.map((function(e){return{prop:"Address",icon:"address",component:Ye(e)}})),r&&l.length&&l.map((function(e){return{prop:"Organization",icon:"organization",component:e}})),r&&s.length&&s.map((function(e){return{prop:"Note",icon:"note",component:e}}))].filter(Boolean);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Gt.a,{className:"flex flex-nowrap"},i.a.createElement("div",{className:"flex flex-column flex-nowrap mr2"},f.map((function(e){return i.a.createElement("div",{key:e[0].prop,className:"mb1"},e.map((function(e,t){var n=e.prop,r=e.icon;return i.a.createElement("div",{key:"icon-".concat(t),className:"flex flex-items-center flex-nowrap"},i.a.createElement(Nt.a,{name:r,className:Object(ui.a)(["mr0-5 flex-item-noshrink",t&&"nonvisible"])}),i.a.createElement("span",null,n))})))}))),i.a.createElement("div",{className:"flex flex-column"},f.map((function(e){return i.a.createElement("div",{key:e[0].prop,className:"mb1"},e.map((function(e,t){var n=e.component;return i.a.createElement("div",{key:"icon-".concat(t),className:"flex flex-items-center mw100 ellipsis"},n)})))})))),!r&&!![].concat(de()(o),de()(u),de()(l),de()(s)).length&&i.a.createElement(Gt.a,null,i.a.createElement(mi,null)))};function Fd(){var e=J()(["Close"]);return Fd=function(){return e},e}function Gd(){var e=J()(["Contact Details"]);return Gd=function(){return e},e}function Ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Bd=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=yt()(e,["contactID","userKeysList","hasPaidMail"]),c=Object($a.a)(),u=Object(Rt.a)(!0),l=_()(u,2),s=l[0],f=l[1],d=Object(o.useState)({properties:[],errors:[]}),m=_()(d,2),p=m[0],b=m[1];return Object(o.useEffect)((function(){var e,r,a,o,i;try{f(Pe.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Pe.a.awrap(c(Object(uc.d)(t)));case 2:return e=u.sent,r=e.Contact,u.next=6,Pe.a.awrap(Su(r,Object(Ou.f)(n)));case 6:a=u.sent,o=a.properties,i=a.errors,b({properties:o,errors:i});case 10:case"end":return u.stop()}})))}catch(u){b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ud(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p,{errors:[3]}))}}),[]),i.a.createElement(Ct.a,ht()({small:!0,title:Object($.c)("Title").t(Gd()),onSubmit:a.onClose,footer:i.a.createElement(jt.a,{type:"submit"},Object($.c)("Action").t(Fd()))},a),s?i.a.createElement(ue.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(Uu,{errors:p.errors}),i.a.createElement(Rd,{properties:p.properties,hasPaidMail:r})))},zd=function(e){var t=e.error;return i.a.createElement("div",{className:"bg-global-attention p1"},i.a.createElement(Nt.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},t))},Vd=n("wIs1");function Wd(){var e=J()(["No contacts merged."]);return Wd=function(){return e},e}function Yd(){var e=J()([""," out of "," contacts successfully merged."]);return Yd=function(){return e},e}function Hd(){var e=J()(["Merging contacts... This may take a few minutes. When the process is completed, you can close this modal."]);return Hd=function(){return e},e}function Xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xd(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qd=Fe,Qd=Ue,Zd=Ge,_d=V.b.SINGLE_SUCCESS,$d=Object(Vd.a)((function(e){var t=e.contactID,n=e.userKeysList,r=e.alreadyMerged,a=e.beMergedModel,c=void 0===a?{}:a,u=e.beDeletedModel,l=void 0===u?{}:u,s=e.totalBeMerged,f=void 0===s?0:s,d=e.onFinish,m=e.history,p=e.location,b=Object($a.a)(),v=Object(o.useMemo)((function(){return Object(Ou.f)(n)}),[]),h=v.privateKeys,g=v.publicKeys,y=Object(Rt.a)(!0),O=_()(y,2),j=O[0],E=O[1],x=Object(o.useState)({mergedAndEncrypted:[],failedOnMergeAndEncrypt:[],submitted:[],failedOnSubmit:[]}),w=_()(x,2),C=w[0],k=w[1];Object(o.useEffect)((function(){var e,n,a,o,i,u,s=new AbortController,f=function(e){return b(Jd({},e,{signal:s.signal}))},v=function(e,t){var n,r,a,c;return Pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.signal.aborted){o.next=3;break}return o.abrupt("return",[]);case 3:return o.next=5,Pe.a.awrap(f(Object(uc.d)(e)));case 5:return n=o.sent,r=n.Contact,o.next=9,Pe.a.awrap(Su(r,{privateKeys:h,publicKeys:g}));case 9:if(a=o.sent,c=a.properties,!a.errors.length){o.next=14;break}throw new Error("Error decrypting contact ".concat(e));case 14:return o.abrupt("return",c);case 15:case"end":return o.stop()}}))},y=function(){var e,t,n,r,a,c,o,i,u,l,s,f,d,m=arguments;return Pe.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:e=m.length>0&&void 0!==m[0]?m[0]:[],t=m.length>1?m[1]:void 0,n=t.signal,r=[],a=!0,c=!1,o=void 0,p.prev=6,i=e[Symbol.iterator]();case 8:if(a=(u=i.next()).done){p.next=19;break}return l=u.value,p.next=12,Pe.a.awrap(Promise.all([v(l,{signal:n}),Object(lc.b)(100)]));case 12:s=p.sent,f=_()(s,1),d=f[0],r.push(d);case 16:a=!0,p.next=8;break;case 19:p.next=25;break;case 21:p.prev=21,p.t0=p.catch(6),c=!0,o=p.t0;case 25:p.prev=25,p.prev=26,a||null==i.return||i.return();case 28:if(p.prev=28,!c){p.next=31;break}throw o;case 31:return p.finish(28);case 32:return p.finish(25);case 33:return p.abrupt("return",r);case 34:case"end":return p.stop()}}),null,null,[[6,21,25,33],[26,,28,32]])},O=function(e){var t,n,a,o,i,u;return Pe.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(t=e.signal).aborted){l.next=3;break}return l.abrupt("return",{});case 3:return n=Object.values(c),a=_()(n,1),o=a[0],i=[],l.prev=5,l.next=8,Pe.a.awrap(yc(r,{privateKey:h[0],publicKey:g[0]}));case 8:u=l.sent,i.push({contact:u}),!t.aborted&&k((function(e){return Jd({},e,{mergedAndEncrypted:[].concat(de()(e.mergedAndEncrypted),de()(o))})})),l.next=16;break;case 13:l.prev=13,l.t0=l.catch(5),!t.aborted&&k((function(e){return Jd({},e,{failedOnMergeAndEncrypt:[].concat(de()(e.failedOnMergeAndEncrypt),de()(o))})}));case 16:return l.abrupt("return",i);case 17:case"end":return l.stop()}}),null,null,[[5,13]])},j=function(e){var t,n,r,a,o,i;return Pe.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:t=e.signal,n=[],r=function(){var e,r,c;return Pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=o[a],!t.aborted){i.next=3;break}return i.abrupt("return",{v:{}});case 3:return i.prev=3,i.next=6,Pe.a.awrap(y(e,{signal:t}));case 6:return r=i.sent,i.next=9,Pe.a.awrap(yc(ot(r),{privateKey:h[0],publicKey:g[0]}));case 9:c=i.sent,n.push({contact:c}),!t.aborted&&k((function(t){return Jd({},t,{mergedAndEncrypted:[].concat(de()(t.mergedAndEncrypted),de()(e))})})),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(3),!t.aborted&&k((function(t){return Jd({},t,{failedOnMergeAndEncrypt:[].concat(de()(t.failedOnMergeAndEncrypt),de()(e))})}));case 17:case"end":return i.stop()}}),null,null,[[3,14]])},a=0,o=Object.values(c);case 4:if(!(a<o.length)){u.next=13;break}return u.next=7,Pe.a.awrap(r());case 7:if("object"!=typeof(i=u.sent)){u.next=10;break}return u.abrupt("return",i.v);case 10:a++,u.next=4;break;case 13:return u.abrupt("return",n);case 14:case"end":return u.stop()}}))},x=function(e,n){var r,a,o,i,u,l,s,d,b,v,h,g;return Pe.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(r=e.contacts,a=void 0===r?[]:r,o=e.labels,!(i=n.signal).aborted&&a.length){y.next=4;break}return y.abrupt("return");case 4:return u=[],y.next=7,Pe.a.awrap(f(Object(uc.a)({Contacts:a.map((function(e){return e.contact})),Overwrite:qd,Labels:o})));case 7:if(y.t0=function(e){return e.Response},l=y.sent.Responses.map(y.t0),!i.aborted){y.next=11;break}return y.abrupt("return");case 11:for(s=!0,d=!1,b=void 0,y.prev=14,v=function(){var e=g.value,n=e.Code,r=e.Contact.ID,a=c[r],o=a.slice(1);n===_d?(!i.aborted&&k((function(e){return Jd({},e,{submitted:[].concat(de()(e.submitted),de()(a))})})),u.push.apply(u,de()(o)),!i.aborted&&o.includes(t)&&m.replace(Jd({},p,{state:{ignoreClose:!0},pathname:"/contacts/".concat(r)}))):!i.aborted&&k((function(e){return Jd({},e,{failedOnSubmit:[].concat(de()(e.failedOnSubmit),de()(a))})}))},h=l[Symbol.iterator]();!(s=(g=h.next()).done);s=!0)v();y.next=23;break;case 19:y.prev=19,y.t1=y.catch(14),d=!0,b=y.t1;case 23:y.prev=23,y.prev=24,s||null==h.return||h.return();case 26:if(y.prev=26,!d){y.next=29;break}throw b;case 29:return y.finish(26);case 30:return y.finish(23);case 31:if(y.t2=!i.aborted&&!!u.length,!y.t2){y.next=35;break}return y.next=35,Pe.a.awrap(f(Object(uc.c)(u)));case 35:case"end":return y.stop()}}),null,null,[[14,19,23,31],[24,,26,30]])},w=function(e,t){var n,r,a,c,o,i,u;return Pe.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted){l.next=4;break}return l.abrupt("return");case 4:o=Object(Ce.a)(r,100),i=o.length,u=0;case 7:if(!(u<i)){l.next=13;break}return l.next=10,Pe.a.awrap(Promise.all([x({contacts:o[u],labels:a},{signal:c}),Object(lc.b)(100)]));case 10:u++,l.next=7;break;case 13:case"end":return l.stop()}}))},C=function(e){var n,r;return Pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.signal,r=Object.keys(l),n.aborted||!r.length){a.next=5;break}return a.next=5,Pe.a.awrap(f(Object(uc.c)(r)));case 5:!n.aborted&&r.includes(t)&&m.replace(Jd({},p,{state:{ignoreClose:!0},pathname:"/contacts/".concat(l[t])}));case 6:case"end":return a.stop()}}))};return E((e=s,Pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.signal,r){t.next=7;break}return t.next=4,Pe.a.awrap(j({signal:n}));case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,Pe.a.awrap(O({signal:n}));case 9:t.t0=t.sent;case 10:return a=t.t0,o=xc(a),i=o.withCategories,u=o.withoutCategories,t.next=14,Pe.a.awrap(w({contacts:i,labels:Qd},{signal:n}));case 14:return t.next=16,Pe.a.awrap(w({contacts:u,labels:Zd},{signal:n}));case 16:return t.next=18,Pe.a.awrap(C({signal:n}));case 18:if(t.t1=!n.aborted,!t.t1){t.next=22;break}return t.next=22,Pe.a.awrap(d());case 22:case"end":return t.stop()}})))),function(){s.abort()}}),[]);var P=Cc([{allocated:.9,successful:C.mergedAndEncrypted.length,failed:C.failedOnMergeAndEncrypt.length,total:f},{allocated:.1,successful:C.submitted.length,failed:C.failedOnSubmit.length,total:f-C.failedOnMergeAndEncrypt.length}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(xt.a,null,Object($.c)("Description").t(Hd())),i.a.createElement(rc,{id:"progress-merge-contacts",alt:"contact-loader",value:P,failed:!C.submitted.length,displaySuccess:Object($.c)("Progress bar description").t(Yd(),C.submitted.length,f),displayFailed:Object($.c)("Progress bar description").t(Wd()),endPostponed:j}))}));function em(){var e=J()(["Merging contacts"]);return em=function(){return e},e}function tm(){var e=J()(["Close"]);return tm=function(){return e},e}function nm(){var e=J()(["Cancel"]);return nm=function(){return e},e}function rm(){var e=J()(["Contact Details"]);return rm=function(){return e},e}function am(){var e=J()(["Contacts could not be merged"]);return am=function(){return e},e}function cm(){var e=J()(["Some of the contacts to be merged display errors. Please review them individually"]);return cm=function(){return e},e}function om(){var e=J()(["Merge"]);return om=function(){return e},e}function im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?im(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):im(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lm=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=e.beMergedModel,c=e.beDeletedModel,u=e.updateModel,l=yt()(e,["contactID","userKeysList","hasPaidMail","beMergedModel","beDeletedModel","updateModel"]),s=Object(G.a)().call,f=Object($a.a)(),d=Object(o.useMemo)((function(){return Object(Ou.f)(n)}),[]),m=d.privateKeys,p=d.publicKeys,b=Object(Rt.a)(!0),v=_()(b,2),h=v[0],g=v[1],y=Object(o.useState)(!1),O=_()(y,2),j=O[0],E=O[1],x=Object(o.useState)(!1),w=_()(x,2),C=w[0],k=w[1],P=Object(o.useState)({}),N=_()(P,2),D=N[0],I=N[1],S=Object.values(a),A=_()(S,1)[0],T=Object.keys(c),M=function(){var e=A.slice(1).concat(T);u((function(t){return um({},t,{orderedContacts:t.orderedContacts.map((function(t){return t.filter((function(t){var n=t.ID;return!e.includes(n)}))})).filter((function(e){return e.length>1}))})}))};Object(o.useEffect)((function(){var e,t,n,r,a,c,o,i,u,l,s;g(Pe.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:d.prev=0,e=[],t=!0,n=!1,r=void 0,d.prev=5,a=A[Symbol.iterator]();case 7:if(t=(c=a.next()).done){d.next=25;break}return o=c.value,d.next=11,Pe.a.awrap(f(Object(uc.d)(o)));case 11:return i=d.sent,u=i.Contact,d.next=15,Pe.a.awrap(Su(u,{privateKeys:m,publicKeys:p}));case 15:if(l=d.sent,s=l.properties,!l.errors.length){d.next=21;break}throw I(um({},D,{errorOnLoad:!0})),new Error("Error decrypting contact");case 21:e.push(s);case 22:t=!0,d.next=7;break;case 25:d.next=31;break;case 27:d.prev=27,d.t0=d.catch(5),n=!0,r=d.t0;case 31:d.prev=31,d.prev=32,t||null==a.return||a.return();case 34:if(d.prev=34,!n){d.next=37;break}throw r;case 37:return d.finish(34);case 38:return d.finish(31);case 39:I(um({},D,{mergedContact:ot(e)})),d.next=45;break;case 42:d.prev=42,d.t1=d.catch(0),I(um({},D,{errorOnMerge:!0}));case 45:case"end":return d.stop()}}),null,null,[[0,42],[5,27,31,39],[32,,34,38]]))}),[]);var L=function(){if(!j){var e=i.a.createElement(jt.a,{type:"submit",disabled:!D.mergedContact},Object($.c)("Action").t(om()));return um({content:function(){if(h)return i.a.createElement(ue.a,null);if(D.errorOnLoad||D.errorOnMerge){var e=D.errorOnLoad?Object($.c)("Warning").t(cm()):Object($.c)("Warning").t(am());return i.a.createElement(zd,{error:e})}return i.a.createElement(Rd,{properties:D.mergedContact,hasPaidMail:r})}(),title:Object($.c)("Title").t(rm()),submit:e,onSubmit:function(){return E(!0)}},l)}var o=!C&&i.a.createElement(wt.a,null,Object($.c)("Action").t(nm())),u=i.a.createElement(jt.a,{type:"submit",loading:!C},Object($.c)("Action").t(tm()));return um({title:Object($.c)("Title").t(em()),hasClose:!1,content:i.a.createElement($d,{contactID:t,userKeysList:n,alreadyMerged:D.mergedContact,beMergedModel:a,beDeletedModel:c,totalBeMerged:A.length,onFinish:function(){return Pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return M(),e.next=3,Pe.a.awrap(s());case 3:k(!0);case 4:case"end":return e.stop()}}))}}),close:o,submit:u,onSubmit:l.onClose},l)}(),K=L.content,R=yt()(L,["content"]);return i.a.createElement(Ct.a,R,K)},sm=n("YjUZ"),fm=n("adk/"),dm=n("8QwH"),mm=function(e){return e?"opacity-50":""},pm=function(e){var t=e.name,n=e.contactID,r=e.highlightedID,a=e.checked,c=e.deleted,o=e.greyedOut,u=e.onToggle;return i.a.createElement("div",{className:"flex flex-nowrap flex-items-center"},i.a.createElement(Jt.a,{checked:a,onChange:function(){return u(n)},className:"flex flex-items-center flex-item-noshrink mr0-5 ".concat(c?"nonvisible":"")}),i.a.createElement("span",{className:Object(ui.a)(["mw100","inbl","ellipsis",mm(o),n===r&&"bold"])},t))},bm=function(e){var t=e.contactID,n=e.emails,r=void 0===n?[]:n,a=e.highlightedID,c=e.greyedOut;return i.a.createElement("div",{className:Object(ui.a)(["flex","flex-items-center","mw100",mm(c),t===a&&"bold"])},i.a.createElement("span",{className:"inbl ellipsis"},r.map((function(e){return"<".concat(e,">")})).join(", ")))};function vm(){var e=J()(["Mark for deletion"]);return vm=function(){return e},e}function hm(){var e=J()(["Unmark for deletion"]);return hm=function(){return e},e}function gm(){var e=J()(["Contact details"]);return gm=function(){return e},e}var ym=function(e){var t=e.contacts,n=e.highlightedID,r=e.isChecked,a=e.beDeleted,c=e.onClickCheckbox,o=e.onClickDetails,u=e.onToggleDelete,l=yt()(e,["contacts","highlightedID","isChecked","beDeleted","onClickCheckbox","onClickDetails","onToggleDelete"]);return i.a.createElement(fm.a,ht()({colSpan:4},l),t.map((function(e,t){var l=e.ID,s=e.Name,f=e.emails,d=a[l],m=[!d&&{text:Object($.c)("Action").t(gm()),onClick:function(){o(l)}},{text:d?Object($.c)("Action").t(hm()):Object($.c)("Action").t(vm()),onClick:function(){u(l)}}].filter(Boolean),p=[i.a.createElement(pm,{key:"name",name:s,contactID:l,highlightedID:n,checked:r[l],deleted:d,greyedOut:d,onToggle:c}),i.a.createElement(bm,{key:"email",contactID:l,highlightedID:n,emails:f,greyedOut:d}),i.a.createElement(bo.a,{key:"options",className:"pm-button--small",list:m})];return d?i.a.createElement(Ki.a,{key:"".concat(l),index:t,cells:[null].concat(p)}):i.a.createElement(dm.a,{key:"".concat(l),index:t,cells:p})})))};function Om(){var e=J()(["Preview contact"]);return Om=function(){return e},e}function jm(){var e=J()(["ACTIONS"]);return jm=function(){return e},e}function Em(){var e=J()(["ADDRESS"]);return Em=function(){return e},e}function xm(){var e=J()(["NAME"]);return xm=function(){return e},e}var wm=function(){return i.a.createElement("thead",{className:"orderableTableHeader"},i.a.createElement("tr",null,i.a.createElement(Ut.a,{type:"header"}),i.a.createElement(Ut.a,{type:"header"},Object($.c)("TableHeader").t(xm())),i.a.createElement(Ut.a,{type:"header"},Object($.c)("TableHeader").t(Em())),i.a.createElement(Ut.a,{type:"header"},Object($.c)("TableHeader").t(jm()))))},Cm=function(e){var t=e.contacts,n=void 0===t?[]:t,r=e.isChecked,a=void 0===r?{}:r,c=e.beDeleted,o=void 0===c?{}:c,u=e.onClickCheckbox,l=e.onClickDetails,s=e.onToggleDelete,f=e.onClickPreview,d=e.onSortEnd;return i.a.createElement(i.a.Fragment,null,n.map((function(e,t){var n=e.map((function(e){var t=e.ID;return a[t]&&!o[t]&&t})).filter(Boolean),r=e.map((function(e){var t=e.ID;return o[t]&&t})).filter(Boolean),c=n.length>1?n:[];return i.a.createElement(Gt.a,{key:"".concat(e&&e[0].Name),className:"mb2 flex flex-column flex-items-center"},i.a.createElement(sm.a,{onSortEnd:d(t),className:"mb1"},i.a.createElement(wm,null),i.a.createElement(ym,{contacts:e,highlightedID:c[0],isChecked:a,beDeleted:o,onClickCheckbox:u,onClickDetails:l,onToggleDelete:s})),i.a.createElement(Dt.a,{className:"aligcenter",disabled:!c.length,type:"button",onClick:function(){return f(c[0],r)}},Object($.c)("Action").t(Om())))})))};function km(){var e=J()(["You can mark for deletion the contacts that you do not want neither to merge nor to keep.\n                    Deletion will only take place after the merge button is clicked"]);return km=function(){return e},e}function Pm(){var e=J()(["Use Drag and Drop to rank merging priority between contacts. Uncheck the contacts you do not want to merge."]);return Pm=function(){return e},e}function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nm(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Im=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=e.model,c=e.updateModel,o=e.beMergedModel,u=e.beDeletedModel,l=Object(te.a)().createModal,s=a.orderedContacts,f=a.isChecked,d=a.beDeleted;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xt.a,null,Object($.c)("Description").t(Pm())),i.a.createElement(xt.a,{type:"warning"},Object($.c)("Description").t(km())),i.a.createElement(Cm,{onSortEnd:function(e){return function(t){var n=t.oldIndex,r=t.newIndex;c((function(t){return Dm({},t,{orderedContacts:Kd(s,e,{oldIndex:n,newIndex:r})})}))}},contacts:s,isChecked:f,beDeleted:d,onClickCheckbox:function(e){c((function(t){return Dm({},t,{isChecked:Dm({},f,Q()({},e,!f[e]))})}))},onClickDetails:function(e){l(i.a.createElement(Bd,{contactID:e,userKeysList:n,hasPaidMail:r}))},onToggleDelete:function(e){c((function(t){return Dm({},t,{beDeleted:Dm({},d,Q()({},e,!d[e]))})}))},onClickPreview:function(e,a){var s=Q()({},e,o[e]),f=a.reduce((function(e,t){return e[t]=u[t],e}),{});l(i.a.createElement(lm,{contactID:t,userKeysList:n,hasPaidMail:r,beMergedModel:s,beDeletedModel:f,updateModel:c}))}}))};function Sm(){var e=J()(["Merging contacts"]);return Sm=function(){return e},e}function Am(){var e=J()(["Close"]);return Am=function(){return e},e}function Tm(){var e=J()(["Cancel"]);return Tm=function(){return e},e}function Mm(){var e=J()(["Merge contacts"]);return Mm=function(){return e},e}function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Km(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rm(){var e=J()(["Merge"]);return Rm=function(){return e},e}var Fm=function(e){var t=e.contacts,n=e.contactID,r=e.userKeysList,a=e.hasPaidMail,c=yt()(e,["contacts","contactID","userKeysList","hasPaidMail"]),u=Object(G.a)().call,l=Object(o.useState)(!1),s=_()(l,2),f=s[0],d=s[1],m=Object(o.useState)(!1),p=_()(m,2),b=p[0],v=p[1],h=Object(o.useState)((function(){return{orderedContacts:t,isChecked:t.flat().reduce((function(e,t){return e[t.ID]=!0,e}),{}),beDeleted:t.flat().reduce((function(e,t){return e[t.ID]=!1,e}),{})}})),g=_()(h,2),y=g[0],O=g[1],j=y.orderedContacts,E=y.isChecked,x=y.beDeleted;Object(o.useEffect)((function(){j.flat().length||c.onClose()}),[j]);var w=Object(o.useMemo)((function(){return j.reduce((function(e,t){var n=t.map((function(e){return e.ID})),r=n.map((function(e){return E[e]&&!x[e]&&e})).filter(Boolean),a=n.map((function(e){return x[e]&&e})).filter(Boolean),c=r.length>1;c&&(e.beMergedModel[r[0]]=r,e.totalBeMerged+=r.length);var o=!0,i=!1,u=void 0;try{for(var l,s=a[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=l.value;e.beDeletedModel[f]=c?r[0]:""}}catch(d){i=!0,u=d}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}return e}),{beMergedModel:{},beDeletedModel:{},totalBeMerged:0})}),[j,E,x]),C=w.beMergedModel,k=w.beDeletedModel,P=w.totalBeMerged,N=function(){if(!f){var e=i.a.createElement(jt.a,{type:"submit",disabled:!P},Object($.c)("Action").t(Rm()));return Km({title:Object($.c)("Title").t(Mm()),content:i.a.createElement(Im,{contactID:n,userKeysList:r,hasPaidMail:!!a,model:y,updateModel:O,beMergedModel:C,beDeletedModel:k}),submit:e,onSubmit:function(){return d(!0)}},c)}var t=!b&&i.a.createElement(wt.a,null,Object($.c)("Action").t(Tm())),o=i.a.createElement(jt.a,{type:"submit",loading:!b},Object($.c)("Action").t(Am()));return Km({title:Object($.c)("Title").t(Sm()),hasClose:!1,content:i.a.createElement($d,{contactID:n,userKeysList:r,beMergedModel:C,beDeletedModel:k,totalBeMerged:P,onFinish:function(){return Pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.a.awrap(u());case 2:v(!0);case 3:case"end":return e.stop()}}))}}),close:t,submit:o,onSubmit:c.onClose},c)}(),D=N.content,I=yt()(N,["content"]);return i.a.createElement(Ct.a,I,D)},Gm=n("5Bhs"),Um=n("DInE");function Bm(){var e=J()(["This action will permanently delete the selected contact. Are you sure you want to delete this contact?"]);return Bm=function(){return e},e}function zm(){var e=J()(["Delete"]);return zm=function(){return e},e}function Vm(){var e=J()(["Contact deleted"]);return Vm=function(){return e},e}function Wm(){var e=J()(["Some contacts could not be deleted"]);return Wm=function(){return e},e}function Ym(){var e=J()(["Contacts deleted"]);return Ym=function(){return e},e}function Hm(){var e=J()(["Delete"]);return Hm=function(){return e},e}var Xm=function(e){var t=e.contactIDs,n=void 0===t?[]:t,r=e.deleteAll,a=e.onDelete,c=yt()(e,["contactIDs","deleteAll","onDelete"]),o=Object($a.a)(),u=Object(Ot.a)().createNotification,l=Object(G.a)().call,s=Object(Rt.a)(),f=_()(s,2),d=f[0],m=f[1],p=i.a.createElement(Gm.a,{type:"submit",loading:d},Object($.c)("Action").t(Hm()));return i.a.createElement(Ct.a,ht()({title:Object($.c)("Title").t(zm()),onSubmit:function(){return m(Pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return t.next=3,Pe.a.awrap(o(Object(uc.b)()));case 3:return a&&a(),t.next=6,Pe.a.awrap(l());case 6:return c.onClose(),t.abrupt("return",u({text:Object($.c)("Success").t(Ym())}));case 8:return t.t0=Um.a,t.next=11,Pe.a.awrap(o(Object(uc.c)(n)));case 11:return t.t1=t.sent,e=(0,t.t0)(t.t1),a&&a(),t.next=16,Pe.a.awrap(l());case 16:if(c.onClose(),e){t.next=19;break}return t.abrupt("return",u({text:Object($.c)("Error").t(Wm()),type:"warning"}));case 19:u({text:Object($.c)("Success").ngettext(Object($.msgid)(Vm()),"Contacts deleted",n.length)});case 20:case"end":return t.stop()}})));var e},submit:p,loading:d},c),i.a.createElement(xt.a,{type:"warning"},Object($.c)("Warning").ngettext(Object($.msgid)(Bm()),"This action will permanently delete selected contacts. Are you sure you want to delete these contacts?",n.length)))},Jm=n("kJz7"),qm=n("6UvI");function Qm(){var e=J()(["Upgrade"]);return Qm=function(){return e},e}var Zm=function(e){var t=e.children,n=e.title;return Object(o.useEffect)((function(){document.title="".concat(n," - ProtonContacts")}),[n]),i.a.createElement("div",{className:"flex flex-nowrap no-scroll"},i.a.createElement(Jm.a,{items:[i.a.createElement(qm.a,{key:"storage"},i.a.createElement(Au.a,{url:"/settings/subscription",target:"_self",className:"pm-button pm-button--primary"},Object($.c)("Action").t(Qm())))]}),i.a.createElement("div",{className:"content flex-item-fluid h100v reset4print"},t))};function _m(){var e=J()(["Contacts"]);return _m=function(){return e},e}function $m(){var e=J()(["Contacts"]);return $m=function(){return e},e}function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var np=function(e){var t=e.location,n=e.history,r=Object(ee.a)(),a=r.state,c=r.toggle,u=r.set,l=Object(te.a)().createModal,s=Object(o.useState)(""),f=_()(s,2),d=f[0],m=f[1],p=Object(le.g)(d),b=Object(ne.a)(),v=_()(b,2),h=v[0],g=v[1],y=Object(re.a)(),O=_()(y,2),j=O[0],E=O[1],x=Object(ae.a)(),w=_()(x,2),C=w[0],k=w[1],P=Object(o.useState)(Object.create(null)),D=_()(P,2),I=D[0],S=D[1],A=Object(ce.b)(),T=_()(A,1)[0],M=Object(oe.c)(T),L=_()(M,2),K=L[0],R=L[1],F=Object(ie.a)(),G=F.isDesktop,U=F.isNarrow,B=Object(o.useMemo)((function(){var e=t.pathname.split("/contacts/");return _()(e,2)[1]}),[t]),z=Object(o.useMemo)((function(){return new URLSearchParams(t.search).get("contactGroupID")}),[t.search]),V=Object(o.useMemo)((function(){return C&&z?{contactGroupName:C.find((function(e){return e.ID===z})).Name,totalContactsInGroup:j.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(z)})).length}:Object.create(null)}),[j,z]),W=V.contactGroupName,Y=V.totalContactsInGroup,H=Object(o.useMemo)((function(){return Object.keys(I).some((function(e){return I[e]}))}),[I]);Object(o.useEffect)((function(){S(Object.create(null)),u(!1),m("")}),[z]);var X=Object(o.useMemo)((function(){return Array.isArray(h)?h.reduce((function(e,t){var n=t.ContactID;return e[n]||(e[n]=[]),e[n].push(t),e}),Object.create(null)):{}}),[h]),J=Object(o.useMemo)((function(){return Object(se.b)(C)}),[C]),q=Object(o.useMemo)((function(){return Array.isArray(j)?j.filter((function(e){var t=e.Name,n=e.ID,r=e.LabelIDs,a=X[n]?X[n].map((function(e){return e.Email})).join(" "):"",c=!p.length||Object(le.g)("".concat(t," ").concat(a)).includes(p),o=!z||r.includes(z);return c&&o})):[]}),[j,z,p,X]),Q=Object(o.useMemo)((function(){return q.map((function(e){var t=e.ID;return tp({},e,{emails:(X[t]||[]).map((function(e){return e.Email})),isChecked:!!I[t]})}))}),[q,I,X]),Z=Object(o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object.values(e.reduce((function(e,t,n){var r=t.Name,a=Object(le.g)(r);return e[a]?e[a].push(n):e[a]=[n],e}),Object.create(null))).map(Ce.e).filter((function(e){return e.length>1})),n=Object.values(e.reduce((function(e,t,n){return t.emails.map(le.g).forEach((function(t){e[t]?e[t].push(n):e[t]=[n]})),e}),Object.create(null))).map(Ce.e).filter((function(e){return e.length>1})),r=at([].concat(de()(t),de()(n)));return r.map((function(t){return t.map((function(t){return e[t]}))}))}(Q)}),[Q]),fe=Z.length>0,me=T.hasPaidMail,pe=Object(o.useMemo)((function(){return Q.filter((function(e){return e.isChecked})).map((function(e){return e.ID}))}),[Q,B]),be=Object(o.useMemo)((function(){var e=q.length;return!!e&&pe.length===e}),[q,pe]),ve=Object(o.useMemo)((function(){return!pe.length&&B?[B]:pe}),[pe,B]),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.reduce((function(e,n){return e[n]=t,e}),Object.create(null));S(tp({},I,{},n))},ge=function(){m("")},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];he(q.map((function(e){return e.ID})),e)},Oe=function(){ye(!1)},je=g||E||k||R,Ee=j?j.length:0,xe=U&&B?"--noHeader":"",we=B&&!!Ee&&!H&&i.a.createElement(N.a,{key:B},i.a.createElement(uf,{contactID:B,contactEmails:X[B],contactGroupsMap:J,userKeysList:K})),ke=(G||!we)&&i.a.createElement(yu,{emptyAddressBook:!Ee,contactID:B,contactGroupID:z,totalContacts:Ee,totalContactsInGroup:Y,contacts:Q,contactGroupsMap:J,user:T,userKeysList:K,loadingUserKeys:R,onCheck:he,onClearSearch:ge,onClearSelection:Oe,isDesktop:G}),Pe=G&&!we&&!!Q.length&&i.a.createElement(ud,{history:n,user:T,userKeysList:K,loadingUserKeys:R,totalContacts:Ee,totalContactsInGroup:Y,selectedContacts:pe.length,contactGroupID:z,contactGroupName:W,onUncheck:Oe,canMerge:fe,onMerge:function(){l(i.a.createElement(Fm,{contacts:Z,contactID:B,userKeysList:K,hasPaidMail:!!me}))},onImport:function(){return l(i.a.createElement(so,{userKeysList:K}))},onExport:function(e){return l(i.a.createElement(Ef,{contactGroupID:e,userKeysList:K}))},onGroups:function(){return n.replace("/contacts/settings/groups")}});return i.a.createElement(Zm,{title:W||Object($.c)("Title").t($m())},(!U||!B)&&i.a.createElement(wd,{title:Object($.c)("Title").t(_m()),expanded:a,onToggleExpand:c,search:d,onSearch:m,onClearSearch:ge,isNarrow:U,history:n}),i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(Ld,{url:"/contacts",history:n,user:T,expanded:a,onToggleExpand:c,onClearSearch:ge,totalContacts:Ee,contactGroups:C,userKeysList:K}),i.a.createElement("div",{className:"main flex-item-fluid"},i.a.createElement(fd,{user:T,contactEmailsMap:X,activeIDs:ve,checked:be,onCheck:ye,onDelete:function(){var e=ve.length===j.length;l(i.a.createElement(Xm,{contactIDs:ve,deleteAll:e,onDelete:function(){if(e)return n.replace(tp({},t,{state:{ignoreClose:!0},pathname:"/contacts"})),S(Object.create(null));ve.length===q.length&&ge(),B&&ve.includes(B)&&n.replace(tp({},t,{state:{ignoreClose:!0},pathname:"/contacts"})),he(pe,!1)}}))},simplified:!!B&&!G}),i.a.createElement("div",{className:"main-area--withToolbar".concat(xe," no-scroll flex flex-nowrap")},je?i.a.createElement(ue.a,null):i.a.createElement(i.a.Fragment,null,ke,we,Pe)))))},rp=n("P2jq"),ap=n("2cEl"),cp=function(e){var t=e.title,n=e.children;return i.a.createElement("main",{className:"main-area-content relative flex-item-fluid"},i.a.createElement(ap.a,null,t),i.a.createElement("div",{className:"container-section-sticky"},n))},op=n("9E8O"),ip=n("hsnk");function up(){var e=J()(["Automatically save contacts"]);return up=function(){return e},e}function lp(){var e=J()(["Contacts"]);return lp=function(){return e},e}var sp=function(){var e=Object(zu.a)(),t=_()(e,1)[0],n=(t=void 0===t?{}:t).AutoSaveContacts;return i.a.createElement(i.a.Fragment,null,i.a.createElement(op.a,null,Object($.c)("Title").t(lp())),i.a.createElement(Vc.a,null,i.a.createElement(qt.a,{htmlFor:"saveContactToggle"},i.a.createElement("span",{className:"mr0-5"},Object($.c)("Label").t(up())),i.a.createElement(jl.a,{url:"https://protonmail.com/support/knowledge-base/autosave-contact-list/"})),i.a.createElement(To.a,null,i.a.createElement(ip.a,{autoSaveContacts:!!n,id:"saveContactToggle"}))))};function fp(){var e=J()(["General"]);return fp=function(){return e},e}var dp=function(){return i.a.createElement(cp,{title:Object($.c)("Title").t(fp())},i.a.createElement(sp,null))},mp=n("0HG9");function pp(){var e=J()([""," email address"]);return pp=function(){return e},e}function bp(){var e=J()(["Contacts in the group aren't deleted if the contact group is deleted."]);return bp=function(){return e},e}function vp(){var e=J()(["Are you sure you want to delete this contact group?"]);return vp=function(){return e},e}function hp(){var e=J()(["Delete contact group"]);return hp=function(){return e},e}function gp(){var e=J()(["Delete"]);return gp=function(){return e},e}function yp(){var e=J()(["Edit"]);return yp=function(){return e},e}function Op(){var e=J()(["Actions"]);return Op=function(){return e},e}function jp(){var e=J()(["Group size"]);return jp=function(){return e},e}function Ep(){var e=J()(["Name"]);return Ep=function(){return e},e}function xp(){var e=J()(["Contact group removed"]);return xp=function(){return e},e}var wp=function(){var e=Object(ae.a)(),t=_()(e,1)[0],n=Object(ne.a)(),r=_()(n,1)[0],a=Object(Ot.a)().createNotification,c=Object(te.a)().createModal,u=Object($a.a)(),l=Object(G.a)().call,s=Object(o.useState)(t),f=_()(s,2),d=f[0],m=void 0===d?[]:d,p=f[1];Object(o.useEffect)((function(){p(t)}),[t]);var b=function(e){return function(){return Pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pe.a.awrap(u(Object(Ai.b)(e)));case 2:return t.next=4,Pe.a.awrap(l());case 4:a({text:Object($.c)("Contact group notification").t(xp())});case 5:case"end":return t.stop()}}))}},v=Object(o.useCallback)((function(e){var n,r,a;return Pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.oldIndex,r=e.newIndex,c.prev=1,a=Object(Ce.c)(m,n,r),p(a),c.next=6,Pe.a.awrap(u(Object(Ai.d)({LabelIDs:a.map((function(e){return e.ID}))})));case 6:l(),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),p(t);case 12:case"end":return c.stop()}}),null,null,[[1,9]])}),[m,t]),h=[Object($.c)("Table header").t(Ep()),Object($.c)("Table header").t(jp()),Object($.c)("Table header").t(Op())];return i.a.createElement(sm.a,{className:"noborder",onSortEnd:v},i.a.createElement(mp.a,{cells:h}),i.a.createElement(fm.a,null,m.map((function(e,t){var n=e.ID,a=e.Name,o=e.Color,u=(r||[]).filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(n)})).length,l=[{text:Object($.c)("Action").t(yp()),onClick:function(){c(i.a.createElement(ru,{contactGroupID:n}))}},{text:Object($.c)("Action").t(gp()),onClick:function(){c(i.a.createElement(Et.a,{onConfirm:b(n),title:Object($.c)("Title").t(hp())},i.a.createElement(xt.a,{type:"warning"},i.a.createElement("p",null,Object($.c)("Info").t(vp())),i.a.createElement("p",null,Object($.c)("Info").t(bp())))))}}],s=[i.a.createElement("div",{key:n,className:"flex"},i.a.createElement("span",{className:"ellipsis"},i.a.createElement(cu,{name:a,color:o})," ",a)),Object($.c)("Info").ngettext(Object($.msgid)(pp(),u),"".concat(u," email addresses"),u),i.a.createElement(bo.a,{key:n,className:"pm-button--small",list:l})];return i.a.createElement(dm.a,{key:n,index:t,cells:s})}))))};function Cp(){var e=J()(["Add group"]);return Cp=function(){return e},e}function kp(){var e=J()(["A group can contain multiple email addresses from the same contact. Please note that a sending limit may apply and prevent you from sending emails to excessively large groups."]);return kp=function(){return e},e}function Pp(){var e=J()(["Contact groups"]);return Pp=function(){return e},e}var Np=function(){var e=Object(te.a)().createModal;return i.a.createElement(i.a.Fragment,null,i.a.createElement(op.a,null,Object($.c)("Title").t(Pp())),i.a.createElement(xt.a,null,Object($.c)("Info").t(kp())),i.a.createElement("div",{className:"mb1"},i.a.createElement(jt.a,{onClick:function(){return e(i.a.createElement(ru,null))}},Object($.c)("Action").t(Cp()))),i.a.createElement(wp,null))};function Dp(){var e=J()(["Contact groups"]);return Dp=function(){return e},e}var Ip=function(){return i.a.createElement(cp,{title:Object($.c)("Title").t(Dp())},i.a.createElement(Np,null))};function Sp(){var e=J()(["Settings"]);return Sp=function(){return e},e}function Ap(){var e=J()(["Contact settings"]);return Ap=function(){return e},e}function Tp(){var e=J()(["Contact groups"]);return Tp=function(){return e},e}function Mp(){var e=J()(["General"]);return Mp=function(){return e},e}var Lp=function(e){var t=e.location,n=Object(o.useRef)(),r=Object(ce.b)(),a=_()(r,1)[0].hasPaidMail,c=Object(ee.a)(),u=c.state,l=c.toggle,s=c.set,f=Object(ie.a)().isNarrow;Object(o.useEffect)((function(){s(!1),n.current.scrollTop=0}),[t.pathname]);var d=[{link:"/contacts/settings/general",icon:"settings-singular",text:Object($.c)("Link").t(Mp())},a&&{link:"/contacts/settings/groups",icon:"contacts-groups",text:Object($.c)("Link").t(Tp())}].filter(Boolean);return i.a.createElement(Zm,{title:Object($.c)("Title").t(Ap())},i.a.createElement(wd,{inSettings:!0,title:Object($.c)("Title").t(Sp()),expanded:u,onToggleExpand:l,isNarrow:f}),i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(Cd.a,{url:"/contacts",list:d,expanded:u,onToggleExpand:l,mobileLinks:[{to:"/inbox",icon:"protonmail",external:!0,current:!1},{to:"/contacts",icon:"protoncontacts",external:!1,current:!0}]}),i.a.createElement("div",{className:"main flex-item-fluid main-area",ref:n},i.a.createElement("div",{className:"flex flex-reverse"},i.a.createElement(rp.a.Provider,{value:n},i.a.createElement(D.a,null,i.a.createElement(I.a,{path:"/contacts/settings/general",component:dp}),i.a.createElement(I.a,{path:"/contacts/settings/groups",component:Ip}),i.a.createElement(S.a,{to:"/contacts/settings/general"})))))))},Kp=[A.a,T.a,M.a,L.a,K.a,R.a,F.a],Rp=[T.a,A.a],Fp=function(e){var t=e.onLogout;return i.a.createElement(P.a,{onLogout:t,locales:{},preloadModels:Rp,eventModels:Kp},i.a.createElement(H,null,i.a.createElement(N.a,null,i.a.createElement(D.a,null,i.a.createElement(I.a,{path:"/contacts/settings",render:function(e){var t=e.location;return i.a.createElement(Lp,{location:t})}}),i.a.createElement(I.a,{path:"/contacts",render:function(e){var t=e.location,n=e.history;return i.a.createElement(np,{location:t,history:n})}}),i.a.createElement(S.a,{to:"/contacts"})))))},Gp=n("jKe7"),Up=n("2INN"),Bp=n("RRB+"),zp=n("plUg"),Vp=n("xpwl"),Wp=function(e){var t=e.onLogin;return i.a.createElement(Bp.a,null,i.a.createElement(zp.a,null),i.a.createElement(Gp.a,null,i.a.createElement(Up.a,{render:function(){return i.a.createElement(Vp.a,{onLogin:t})}})))};n("wdeV");Object(d.a)(r);var Yp=function(){var e=Object(l.a)(),t=e.UID,n=e.login,r=e.logout;return t?i.a.createElement(Fp,{onLogout:r}):i.a.createElement(Wp,{onLogin:n})},Hp=Object(u.hot)((function(){return i.a.createElement(s.a,{config:r},i.a.createElement(Yp,null))}));c.a.render(i.a.createElement(Hp,null),document.querySelector(".app-root"))},0:function(e,t,n){n("+wUL"),e.exports=n("1UW9")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"5FMj":function(e,t,n){var r={"./3-d-secure.svg":"0gKn","./american-express-safekey.svg":"Jui7","./cc-american-express.svg":"/qD2","./cc-dankort.svg":"0T0d","./cc-diners-club.svg":"vuvo","./cc-discover.svg":"AZZk","./cc-forbrugs.svg":"k2eZ","./cc-jcb.svg":"7Amw","./cc-maestro.svg":"lXKh","./cc-mastercard.svg":"ZUPP","./cc-paypal.svg":"egYP","./cc-unionpay.svg":"ma7A","./cc-visa.svg":"vO2o","./cc-visaelectron.svg":"RMFI","./discover-protectbuy.svg":"qsy5","./mastercard-securecode.svg":"6Bn0","./verified-by-visa.svg":"Q7qE"};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id="5FMj"},Cq9y:function(e,t,n){},YO3j:function(e,t,n){var r={"./af/index.js":["IqAn",11],"./ar-DZ/index.js":["JVC1",12],"./ar-SA/index.js":["xMju",13],"./be/index.js":["YEhR",3],"./bg/index.js":["isx8",4],"./bn/index.js":["+b7I",14],"./ca/index.js":["Vwa+",15],"./cs/index.js":["dvhP",16],"./cy/index.js":["HQUR",17],"./da/index.js":["7ur/",18],"./de/index.js":["bgw5",19],"./el/index.js":["dH0v",20],"./en-AU/index.js":["VHew",21],"./en-CA/index.js":["wXhn",22],"./en-GB/index.js":["nwJ3",23],"./en-US/index.js":["IogR",24],"./eo/index.js":["UB7v",25],"./es/index.js":["/S0t",26],"./et/index.js":["Br0m",27],"./fa-IR/index.js":["gEFy",28],"./fi/index.js":["ndVD",29],"./fr-CA/index.js":["KTij",30],"./fr/index.js":["LKA2",31],"./gl/index.js":["4bge",32],"./gu/index.js":["3t4y",33],"./he/index.js":["75M+",34],"./hi/index.js":["CUe2",35],"./hr/index.js":["L9Jq",36],"./hu/index.js":["Nm+E",37],"./hy/index.js":["netp",38],"./id/index.js":["A6C3",39],"./is/index.js":["N4bE",40],"./it/index.js":["hmb4",41],"./ja/index.js":["uAXs",42],"./ka/index.js":["pwL5",43],"./kk/index.js":["zGPi",5],"./ko/index.js":["iW8+",44],"./lt/index.js":["xj+b",45],"./lv/index.js":["x5pY",6],"./ms/index.js":["gUWk",46],"./nb/index.js":["73vv",47],"./nl/index.js":["hCQt",48],"./nn/index.js":["vORL",49],"./pl/index.js":["B6yL",7],"./pt-BR/index.js":["2dYp",50],"./pt/index.js":["gdks",51],"./ro/index.js":["r2yp",52],"./ru/index.js":["nz/o",8],"./sk/index.js":["Wqan",9],"./sl/index.js":["KYSo",53],"./sr/index.js":["7mU3",54],"./sv/index.js":["hxgj",55],"./ta/index.js":["1ssA",56],"./te/index.js":["SGoj",57],"./th/index.js":["Pk+z",58],"./tr/index.js":["3ZWG",59],"./ug/index.js":["yT3n",60],"./uk/index.js":["LCGg",10],"./vi/index.js":["dGQT",61],"./zh-CN/index.js":["UJqf",62],"./zh-TW/index.js":["zn9v",63]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="YO3j",e.exports=a},wdeV:function(e,t,n){}});
//# sourceMappingURL=index.7e1cf3aa.js.map