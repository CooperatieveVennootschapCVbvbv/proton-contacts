!function(e){function t(t){for(var r,o,i=t[0],u=t[1],l=t[2],s=0,d=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);d.length;)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},c=[];var o={3:"sha384-jCD9qCH2bybDJEGMLynT43zVdq8LLgV7J0pghxbjbqIhKCgmzmL7BRcFLi1QMMIE",4:"sha384-6PdHTQIXvb+AjIRUAvfn7OkIDSYdIWgp/stFClMbYVBcjGj6MxJwy4p2ilmZEr4y",5:"sha384-O7GHwHdPt52m0pfD28KBwE1rsPQCSsnFp44Z/nRy1KzguReGHHBi/cEUopRdBnbD",6:"sha384-gBUPJ19Jwo6S+AN79jSQ1g27HyRgmbLKmMV89TpwyxpmBOD19uuuCozQBiDy5/mq",7:"sha384-IKfHoZ5PKLDNEHQ5n7X2gH/DpJOvNNk+RElAaLd3mrcVsKmZkj/W5GvUm3Lj/5CC",8:"sha384-Wc8tuqMkH1XGiyLSJFzMBH/XDZxbw6aS+SXbUxLHmjEV7xvVM9JCAs+SkWFCmBjI",9:"sha384-5OZP5WWAMXvYgR6mjUEusufdPT+INf/QFjTDoz2sP1dxD5mH6UDVB5bdMzb18DsS",10:"sha384-eWWgPwOmcqQVuWe+6dhe5a3mJd6GTGS30B+eL/6Gr5qqpRcx2041WBM1i70ZWz7Q",11:"sha384-DYlLWPaor4YGzrAsfSdkq6b/vTdTaoGtF6JoA3MSvxL2BlRRt4FZo8HdK2fKXi57",12:"sha384-hoX+bE5UuBnWvgNr5JNvKDGTOUNArIKEqEA1TCgCTFpqAlM1MQw0Is5p1w7aJSaR",13:"sha384-Ex+Btwrp3pqCYWYmoPUKjJM2XeAdlhPRmvEOINCmdqE41ikCRz79Zwt+ixt1jvLM",14:"sha384-lGY2Tdg0Tn8L6oLhyd56SGoucMFLFQbR/AX1pFOgpghKMwDoUbtbiBshRmA2fMKH",15:"sha384-/qAAIxpIL3IdwhoYVHH3WvWKcqpx5vN6AwH8DrPZSyhUoJYMIlhnliFqb4asYusU",16:"sha384-ytP7V7TVR6Bwv9zZEjQzGhU1hIvrBoP8oL2uCUiMvmFHtnYZqjkR02jDzgBemUtg",17:"sha384-CFLg+WUHHsAdPheVJe/oaSiIbz6c9mhYfB7EaBR3EslsFVnf6pYVaqXxVgYCHXgH",18:"sha384-U2mqJOixX/qH0KFjceiZWURKWHnfZD0BnXmgrRx0LfwnO4vRbd4iy2ZYtvYbOG0i",19:"sha384-4kb5Emnrq+oIM0rXmTdXdjNCrnWBRsOeVps79SnryIP67f0gitEcFZEqaJxDLBNV",20:"sha384-K7w+OWjRVzygUmN4dp5CKlRAMA3+b20hGPNuXL8EYSFKd32ItXjHadPb/gKPDntZ",21:"sha384-wiG6f9Yv6ZUbhF3Q/Tkg0nwf7WAOfGYaVPcrQNgCj/rcrOvu6QECWMzjuyO0Dr4J",22:"sha384-/ToU4hiPMHhcjRDmbIxn6yP1cbem3nKXkKQuXv88bxFqwV9+g2V6ZouQ3bHZcbu+",23:"sha384-LVS3YtM5zJ1kr7sBjJK0bEllcmAvyhAUNgtUxeuo6mabNUGQnOrKunqSXfVljjaJ",24:"sha384-RRkNqDxw9Vffgjiosds/Eo7Pps3dv+ptuWCbwixtpz3TGzkjbfwg5WF7QgkpKd0S",25:"sha384-tsI3agj/Ezwc0j1oyyWxVDjdihPhZ2D6I6MWhHR+J9TrASUgnsz0LU+itUbPAFOZ",26:"sha384-s8coE+OtcDzXNMroxOeYxu/ww7PSVRYZ63Xnp2jEPljcjAFJULksAYCsj/2+wmap",27:"sha384-jrNoaLzewLH2tbTpBr3ZO1BtSNekFIzpp0AN0ma9pxBdBRfw9zAp0P1nKF53/Zw7",28:"sha384-VcpBz89y9hUlsoU9AgCMhyJs1mN9wyzRgJK7Vu1D53eImBXb5cR9RPaLpKpZKee0",29:"sha384-SRj/QvFRb6+grtNaxDIhh3IMjIaIJEgjoG7pIrkTz4dJkDAfczYAJn9Hwfc3iIgE",30:"sha384-nToreGS/PvzuaEIzxC9mS8VYcfOT1Euug10IY4YhauvWZKmprqDjKX7zUBBhEsgu",31:"sha384-ZWJQQWkRded0vMw/rppAZCeo3ZX0HAviuEY31uBuTrOguUdD+1fknGEvAFOE0Gk9",32:"sha384-tuPrZY1kt1YFdd8jIDWl+voBI++BvZatQ0EBpZ+NmarJ2Ojr1w/KJGU3DeTzAy1G",33:"sha384-fErhU40qWyh4o2x9gPUOw1vMajB+xsPDjL49ieovY+DxoinuhjvsjO0O2Acc/Xop",34:"sha384-x7p7db5ZUExp5HUxbU7n6PZ69/e+scPZNCnuWT0dhwCsavs8m5C1Bv5UHoIQDxwB",35:"sha384-qL4jF23dJig9/dXOr4y/0HnOvmSHwebPZqmvMbLEvoOWiPftXh9rY8zu+aVbEsA8",36:"sha384-8YPjFE3ButtQRPqHYoYUu0gYGCV+/s2cXpgp1j645edeTBI7nQVU6yNOwNCu2JUV",37:"sha384-oeEzuZMts/PmUP/wLJ4LYzK+v8QkiJ39kYna8uK8bDI3Y2aljy4vJkiOqB5CQpdQ",38:"sha384-wFxzSZw039qNXF+vQNpfN5jGy8KIzjvnphAfS+xGYUS1aUbqqjadA3+2a6PoD3HN",39:"sha384-GL2r3jAMbl05jSCHeEdzB6nvnXC/hnaXjmoyGoYCDVhW+bGiOZEl19txJzgzIt3x",40:"sha384-Hm26jrNieLht/Fm6NEx7l6d5gpEcKIaAJWbTZC0Hdn7dQY7etRdY5vcDKdh7/GaX",41:"sha384-r9yGKq9pB89JJ6s566qg9xGtPjzMS83haCowSFsEyE6Be/AaLvL6A1L2IzF+7/JD",42:"sha384-/FeIaXQPN+Ke5dldrXvrz6a+RXBePPC6ZgnvElMaEntt3REARXEhCvReNyNy5xmx",43:"sha384-Mk8/PzjB1+gtITJIwxwAd8qq4gtMlD+oKivW4zs9aNduJrCfx6uryAnbMHE8rKGJ",44:"sha384-4NmjbbctZoIDpI0oYrdhc/KAjiPf0YFpCtVigm9oQ8LS6c2I65UQb9imdosFyT8a",45:"sha384-MhrA5nbvQW2mdGVTVXegVG1q5/DQaR+uKKl/Oc4w0t4f7sBe3RybrNG0nRwaTyvl",46:"sha384-zDBi4NGBvvUXFeF4YVnbw2iuJ/IQKKHkBt2B7sTEfnAWBtQs0o1+d26FtSL11mvR",47:"sha384-qpwA3ju66S4sFA54xhgbDR2FWQ8oees5mspSjsTYeNrHqVGPIgZ6vM/a+GrjQ+uX",48:"sha384-lzE4hvJAZ5pAMaS9mzwMyM5zpC9UEkRqxN/h+PfAyADbUGqOEb6y0BjgjFBbusSN",49:"sha384-SrW76mG7Yck3Ypz94SZKPFai4cEjq9M0jfNSbbN4/JonPEQT9d835Ka84t7hdrNL",50:"sha384-xibs8GsIE0MalEkx0KpALjrfAnyC4Yy0egjFUjEwqPzCI8lgGuPqD9x+w16PL/gy",51:"sha384-DJRLDSISQvSbE55pIhyXdFpVlGAACG44tYj7hLjAbDB6BHWLE30klV82n25s3DCV",52:"sha384-U4pd5yl/7d5llkFlRP7HDgVdPsPTB+PSv0eO//y4C6cDP8sT6eUDyBXpxyRFOIXl",53:"sha384-Qb1icXL0UfoBIbbUmFAtPj0KJHtKT6kquKY/BUpQCCfsKxuTUZ+yXE9HJCBCt3Z8",54:"sha384-tyfZIUbZ973Hc5dfktJZx085I9tXPfiOM5dVOBN3OWG3tR4wwLHLxb5Sqhr7YQqL",55:"sha384-xFyzbmJBSRTG14bxUD8LSZKU7ZEluzXuxAop/aVnTdQC46AbJ5lHQYc9VA4SEaKm",56:"sha384-mMdknU2E4wRoaJzhJ8YOIwURCQ7+kMh9V0+h7jNwt183u+Cy0dRkq8aHfH2Rvj8H",57:"sha384-NEt3FPcS/KPgd/pM94ECv4qW9lScMQl2SmuOShvOJACYHM5BYQjdUqYq3mITbYHv",58:"sha384-uWC7Mq/iGBjutexYRHujyFw21gpgGD5yvJ5vfklZiQohGHCIEYRM/FRlaXq2m2SJ",59:"sha384-T9qk/wd1Z1Dj2qbO46IFc+43mf7uFrUQS3NsST3sLNjUM9Q7kgsxhn5zh4dfrtxm",60:"sha384-JOeri0ApfHIKIcjmItSP3S0HeP+WVC5UgizagKpZlGoOWurnN6K0JpQi84VOHwfc",61:"sha384-INSJAEMy/PN+MEIfj0xRJAmO4SKCKkcCvDeWRRZHE0lvxFVLN+uZSlstLJt7eCw0",62:"sha384-HyReR/16KttPy4N2qtQb1xjwMKFcAGg3XwUFSaWX19AFiS+HMT2BuZWOy3XKkg6x",63:"sha384-Y0hiKbFd98+RwoftdYstfAU5Pv8ZQy99HI2skeXAkKrgjC7rjUkJXKLw4DFrjxbN",64:"sha384-6dpxYT+ACA0U76AJP6taqIqGMgPMRQFDgzxvZMr2nxb0Az6HMwJ9TpS3MA3izqPh"};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+""+({}[e]||e)+"."+{3:"8cc6bd05",4:"289eac7a",5:"34349e75",6:"87e23fae",7:"ce6bb801",8:"4fb07aef",9:"947f57b2",10:"c500f9e0",11:"6e754a52",12:"2de2dcec",13:"26218c77",14:"4232a5ec",15:"609df72e",16:"012fa836",17:"bdebd471",18:"08ebfe2c",19:"16f6169c",20:"d736650b",21:"10671e7d",22:"a56c611e",23:"66ca65c5",24:"30469ae3",25:"ac5f5d69",26:"b6da30c6",27:"1e187bdf",28:"1dbedd03",29:"57a08404",30:"051b1870",31:"94cd7924",32:"c82c4169",33:"fec249b2",34:"091970ef",35:"990b39c7",36:"6bd0e35d",37:"99015436",38:"41c9f701",39:"459f1e59",40:"628e857b",41:"184cdca1",42:"e893aea6",43:"a458ed20",44:"37493299",45:"4deed603",46:"4c1a2f55",47:"26991b7c",48:"e415b576",49:"59a11d7d",50:"56cee7c7",51:"eb96219e",52:"896d8463",53:"6e331f91",54:"752e1167",55:"ac9be0c7",56:"92580cea",57:"ba7fd9cf",58:"fe25594a",59:"fbd3d022",60:"f764d01c",61:"9d38de72",62:"ac5ad630",63:"81184869",64:"c6d1b7db"}[e]+".chunk.js"}(e),0!==u.src.indexOf(window.location.origin+"/")&&(u.crossOrigin="anonymous");var l=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",l.name="ChunkLoadError",l.type=r,l.request=c,n[1](l)}a[e]=void 0}};var s=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,u.integrity=o[e],u.crossOrigin="anonymous",document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var f=l;c.push([0,2]),n()}({"+wUL":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"CLIENT_ID",(function(){return m})),n.d(r,"CLIENT_TYPE",(function(){return p})),n.d(r,"CLIENT_SECRET",(function(){return b})),n.d(r,"APP_VERSION",(function(){return v})),n.d(r,"APP_NAME",(function(){return h})),n.d(r,"API_URL",(function(){return g})),n.d(r,"SECURE_URL",(function(){return y})),n.d(r,"API_VERSION",(function(){return O})),n.d(r,"DATE_VERSION",(function(){return j})),n.d(r,"CHANGELOG_PATH",(function(){return E})),n.d(r,"VERSION_PATH",(function(){return x})),n.d(r,"SENTRY_RELEASE",(function(){return w})),n.d(r,"SENTRY_DSN",(function(){return C}));n("pNMO"),n("4Brf"),n("tjZM"),n("3I1R"),n("7+kd"),n("0oug"),n("KhsS"),n("gOCb"),n("a57n"),n("GXvd"),n("I1Gw"),n("gXIK"),n("lEou"),n("gbiT"),n("ma9I"),n("qHT+"),n("piMb"),n("yyme"),n("TeQF"),n("fbCW"),n("x0AG"),n("BIHw"),n("XbcX"),n("QWBl"),n("pjDv"),n("yq1k"),n("yXV3"),n("4mDm"),n("oVuX"),n("uqXc"),n("2B1R"),n("Xe3L"),n("E9XD"),n("9N29"),n("Junv"),n("+2oP"),n("Rfxz"),n("ToJy"),n("94Xl"),n("pDQq"),n("QGkA"),n("c9m3"),n("wZ/5"),n("gtqK"),n("rOQg"),n("tCCV"),n("rMz7"),n("9LPj"),n("7+zs"),n("DQNa"),n("tW5y"),n("sMBO"),n("DEfu"),n("Tskq"),n("Uydy"),n("eajv"),n("n/mU"),n("PqOI"),n("QNnp"),n("/5zm"),n("CsgD"),n("9mRW"),n("QFcT"),n("vAFs"),n("a5NK"),n("yiG3"),n("kNcU"),n("KvGi"),n("AmFO"),n("eJiR"),n("I9xj"),n("tl/u"),n("qePV"),n("NbN+"),n("8AyJ"),n("i6QF"),n("kSko"),n("WDsR"),n("r/Vq"),n("5uH8"),n("w1rZ"),n("JevA"),n("toAj"),n("VC3L"),n("zKZe"),n("Eqjn"),n("HRxU"),n("eoL8"),n("5xtp"),n("T63A"),n("3KgV"),n("wfmh"),n("5DmW"),n("27RR"),n("cDke"),n("NBAS"),n("Kxld"),n("yQYn"),n("4h0Y"),n("5D5o"),n("tkto"),n("v5b1"),n("W/eh"),n("zuhW"),n("r5Og"),n("ExoC"),n("07d7"),n("B6y2"),n("rNhl"),n("4l63"),n("5s+n"),n("p532"),n("pv2x"),n("SuFq"),n("PzqY"),n("rBZX"),n("XUE8"),n("nkod"),n("f3jH"),n("x2An"),n("25bX"),n("G/JM"),n("1t3B"),n("ftMj"),n("i5pp"),n("TWNs"),n("rB9j"),n("U3f4"),n("JfAA"),n("YGK4"),n("9bJ7"),n("inlA"),n("9tb/"),n("JTJg"),n("PKPk"),n("Rm1S"),n("hDyC"),n("TZCg"),n("2A+d"),n("OM9Z"),n("UxlC"),n("hByQ"),n("EnZy"),n("LKBx"),n("SYor"),n("HiXI"),n("7ueG"),n("GKVU"),n("E5NM"),n("BNMt"),n("zHFu"),n("x83w"),n("l2dK"),n("GRPF"),n("xdBZ"),n("mRH6"),n("yWo2"),n("IxXR"),n("TFPT"),n("Zk8X"),n("z8NH"),n("SpvK"),n("/Yfv"),n("iwkZ"),n("FDzp"),n("XMab"),n("ilnZ"),n("hMMk"),n("+ywr"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("IL/d"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("7JcK"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0"),n("ENF9"),n("H+LF"),n("FZtP"),n("3bBZ"),n("Ew+T"),n("n5b4"),n("Kz25"),n("vxnP"),n("mGGf");var a=n("i8i4"),c=n.n(a),o=n("q1tI"),i=n.n(o),u=(n("ls82"),n("wSuE")),l=(n("pZvr"),n("sQ7P")),s=n("U0S0"),f=n("6lBS"),d=n("g5XH"),m="WebContacts",p=1,b="",v="0.0.0",h="proton-contacts",g="https://protonmail.blue/api",y="https://secure.protonmail.blue",O="3",j="Fri, 13 Dec 2019 00:40:18 GMT",E="assets/changelog.tpl.html",x="assets/version.json",w="",C="",k=n("LTi8"),P=n("VjqJ"),N=n("yoKv"),D=n("4p7I"),I=n("mLw1"),S=n("mBH9"),A=n("pW7U"),T=n("p2/2"),M=n("f6D/"),L=n("XTKM"),K=n("/kVl"),R=n("Iivb"),F=n("FZZp"),G=n("Xrgn"),U=n("+q81"),B=n("8hY9"),z=n("bf08"),V=n("veyU"),W=Object(o.createContext)(),Y=function(e){var t=e.children,n=Object(F.a)().subscribe,r=Object(G.a)((function(){return Object(U.a)(Object(B.a)({max:10}))}));return Object(o.useLayoutEffect)((function(){return n((function(e){var t=e.Contacts;if(Array.isArray(t)){var n=!0,a=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value,l=u.ID,s=u.Action,f=u.Contact;r.has(l)&&(s===z.t.DELETE&&r.delete(l),s===z.t.UPDATE&&r.set(l,{value:f,status:V.a.RESOLVED}))}}catch(d){a=!0,c=d}finally{try{n||null==i.return||i.return()}finally{if(a)throw c}}}}))}),[]),i.a.createElement(W.Provider,{value:r},t)},H=n("VkAN"),X=n.n(H),J=n("lSNA"),q=n.n(J),Q=n("J4zp"),Z=n.n(Q),_=n("whF5"),$=n("KAzH"),ee=n("F9b+"),te=n("X9p3"),ne=n("yfEu"),re=n("7xJH"),ae=n("nitM"),ce=n("wc4/"),oe=n("eBbU"),ie=n("ImWu"),ue=n("LKB7"),le=n("DIu/"),se=n("RIqP"),fe=n.n(se);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=["fn","email","tel","adr","key"],be=function(e){return pe.includes(e)},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.value})).map((function(e){return Array.isArray(e.value)?e:me({},e,{value:e.value.toString()})})).map((function(e){var t=e.field,n=e.value;return"adr"!==t||Array.isArray(n)?e:me({},e,{value:n.split(",").slice(0,6)})}))},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=pe.reduce((function(e,t){return e[t]=0,e}),Object.create(null));return e.map((function(e){return pe.includes(e.field)?me({},e,{pref:t[e.field]=t[e.field]+1}):e}))},ge=function(e,t){return e.pref-t.pref},ye=function(e){var t=e.reduce((function(e,t){return pe.includes(t.field)?e.withPref.push(t):e.withoutPref.push(t),e}),{withPref:[],withoutPref:[]}),n=t.withPref,r=t.withoutPref;return n.sort(ge).concat(r)},Oe=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=1,n=!1;!n;)e.includes("item".concat(t))?t++:n=!0;return"item".concat(t)},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return e.group}));return e.map((function(e){if(!["email"].includes(e.field)||e.group)return e;var n=Oe(t);return t.push(n),me({},e,{group:n})}))},Ee=function(e,t){return(e.find((function(e){return e.field===t}))||{}).value},xe=function(e,t){return he(e).filter((function(e){return e.field===t})).sort(ge).map((function(e){return e.value}))},we=n("+AqD"),Ce=n("o0o1"),ke=n.n(Ce),Pe=n("UeCU"),Ne=n.n(Pe),De=n("HlEg"),Ie=n("dG5C"),Se=n("pdRq"),Ae=["bday","anniversary","gender","lang","tz","geo","title","role","photo","logo","org","member","note","url"],Te=["key","x-pm-mimetype","x-pm-encrypt","x-pm-sign","x-pm-scheme","x-pm-tls"],Me=["version","prodid","categories"],Le=["version","prodid","fn","uid","email"].concat(Te),Ke=0,Re=1,Fe=0,Ge=1,Ue=n("iylp"),Be=function(e){var t=function(e){try{return e.getValues()}catch(r){var t=e.jCal||[],n=Z()(t,4)[3];return[void 0===n?"":n]}}(e).map((function(e){return Array.isArray(e)?e:"string"==typeof e?e:e.toString()}));return Z()(t,1)[0]},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase().replace("x-","")},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e.length?e[0]:"":e},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(Boolean).map((function(e){return e.trim()})).join(", ")},Ye=function(e,t){var n,r,a,c,o,i;return ke.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=e.filter((function(e){var n=e.field,r=e.group;return Te.includes(n)&&r===t})).reduce((function(e,t){var n=t.field,r=t.value,a=t.pref;if("key"===n&&r){var c=r.split(","),o=Z()(c,2)[1],i=void 0===o?"":o,u=Object(Ie.d)(Object(Ie.g)(i));if(u.length){var l=Object(Se.b)(u).then((function(e){return{publicKey:Z()(e,1)[0],pref:a}})).catch(Ue.b);e.pinnedKeyPromises.push(l)}return e}return"x-pm-encrypt"===n&&r?(e.encrypt="true"===r,e):"x-pm-sign"===n&&r?(e.sign="true"===r,e):"x-pm-scheme"===n&&r?(e.scheme=r,e):"x-pm-mimetype"===n&&r?(e.mimeType=r,e):e}),{pinnedKeyPromises:[],mimeType:"",encrypt:!1,scheme:""}),r=n.pinnedKeyPromises,a=n.mimeType,c=n.encrypt,o=n.scheme,u.next=3,ke.a.awrap(Promise.all(r));case 3:return u.t0=Boolean,u.t1=ge,u.t2=function(e){return e.publicKey},i=u.sent.filter(u.t0).sort(u.t1).map(u.t2),u.abrupt("return",{pinnedKeys:i,mimeType:a,encrypt:c,scheme:o});case 8:case"end":return u.stop()}}))},He="1*",Xe="*",Je={fn:{cardinality:He},n:{cardinality:"*1"},nickname:{cardinality:Xe},photo:{cardinality:Xe},bday:{cardinality:"*1"},anniversary:{cardinality:"*1"},gender:{cardinality:"*1"},adr:{cardinality:Xe},tel:{cardinality:Xe},email:{cardinality:Xe},impp:{cardinality:Xe},lang:{cardinality:Xe},tz:{cardinality:Xe},geo:{cardinality:Xe},title:{cardinality:Xe},role:{cardinality:Xe},logo:{cardinality:Xe},org:{cardinality:Xe},member:{cardinality:Xe},related:{cardinality:Xe},categories:{cardinality:Xe},note:{cardinality:Xe},prodid:{cardinality:"*1"},rev:{cardinality:"*1"},sound:{cardinality:Xe},uid:{cardinality:"*1"},clientpidmap:{cardinality:Xe},url:{cardinality:Xe},version:{cardinality:"1"},key:{cardinality:Xe},fburl:{cardinality:Xe},caladruri:{cardinality:Xe},caluri:{cardinality:Xe}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("x-")},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Ne.a.Component(Ne.a.parse(e)),n=t.getAllProperties();return n.reduce((function(e,t){var n=t.name.split("."),r=n[1]?n[1]:n[0],a=t.getParameter("type"),c=t.getParameter("pref"),o="string"==typeof c&&be(r)?+c:void 0;if(!r)return e;if(!qe(r)&&!Je[r])return e;var i={pref:o,field:r,group:n[1]?n[0]:void 0,type:a,value:Be(t)};return e.push(i),e}),[]).sort(ge)},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Ne.a.Component("vcard");if(!e.some((function(e){return"version"===e.field}))){var n=new Ne.a.Property("version");n.setValue("4.0"),t.addProperty(n)}return e.reduce((function(e,t){var n=t.field,r=t.type,a=t.pref,c=t.value,o=[t.group,n].filter(Boolean).join("."),i=new Ne.a.Property(o);return i.setValue(c),r&&i.setParameter("type",r),a&&i.setParameter("pref",""+a),e.addProperty(i),e}),t)},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return t.forEach((function(t){var n=t.field,r=(Je[n]||{}).cardinality;[He,Xe].includes(void 0===r?Xe:r)?e.push(t):e.find((function(e){return e.field===n}))||e.push(t)})),e}),[])},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e.match(/BEGIN:VCARD/g)&&e.match(/BEGIN:VCARD/g).length===(e.match(/END:VCARD/g)||[]).length},et=function(e){var t;return ke.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ke.a.awrap(Object(De.a)(e));case 2:if(t=n.sent,$e(t)){n.next=5;break}throw new Error("Error when reading vcf file");case 5:return n.abrupt("return",t);case 6:case"end":return n.stop()}}))};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=function e(t){var n=!1,r=t.reduce((function(e,t){var r=e.connected,a=e.newConnections,c=function(e,t){var n=!0,r=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;if(void 0!==t[i])return t[i]}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return-1}(t,r);if(-1!==c){a[c]=Object(we.e)([].concat(fe()(t),fe()(a[c])));var o=!0,i=!1,u=void 0;try{for(var l,s=t[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=l.value;void 0===r[f]&&(r[f]=c)}}catch(h){i=!0,u=h}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}n=!0}else{var d=!0,m=!1,p=void 0;try{for(var b,v=t[Symbol.iterator]();!(d=(b=v.next()).done);d=!0){r[b.value]=a.length}}catch(h){m=!0,p=h}finally{try{d||null==v.return||v.return()}finally{if(m)throw p}}a.push(t)}return e}),{connected:Object.create(null),newConnections:[]}).newConnections;return n?e(r):t},at=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("adr"===t){var r=n.map((function(t){return!t.map((function(t,n){var r=Array.isArray(t),a=Array.isArray(e[n]);return r&&a?e[n].some((function(e){return!t.includes(e)})):!(!r&&!a)||t!==e[n]})).filter(Boolean).length})).filter(Boolean);return r.length?"":e}return n.includes(e)?"":e},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];var t=e.reduce((function(e,t,n){var r=e.mergedContact,a=e.mergedProperties,c=e.mergedPropertiesPrefs,o=e.mergedGroups;if(0===n){r.push.apply(r,fe()(t));var i=!0,u=!1,l=void 0;try{for(var s,f=t[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var d=s.value,m=d.pref,p=d.field,b=d.value,v=d.group;a[p]?(a[p].push(b),be(p)&&c[p].push(m)):(a[p]=[b],be(p)&&(c[p]=[m])),"email"===p&&(o[b]=v)}}catch(A){u=!0,l=A}finally{try{i||null==f.return||f.return()}finally{if(u)throw l}}}else{var h=t.filter((function(e){return"email"===e.field})).map((function(e){return{email:e.value,group:e.group}})).reduce((function(e,t){var n=t.email,r=t.group;return Object.values(o).includes(r)?e[r]=o[n]||Oe(Object.values(o)):e[r]=r,e}),Object.create(null)),g=!0,y=!1,O=void 0;try{for(var j,E=t[Symbol.iterator]();!(g=(j=E.next()).done);g=!0){var x=j.value,w=x.pref,C=x.field,k=x.group,P=x.value,N=k?h[k]:k;if(a[C]){var D=at(P,C,a[C]),I=be(C)?Math.max.apply(Math,fe()(c[C]))+1:void 0,S=qe(C)||[Xe,He].includes(Je[C].cardinality);D&&S&&(r.push(nt({},x,{pref:I,value:D,group:N})),a[C].push(D),be(C)&&(c[C]=[I]),N&&"email"===C&&(o[P]=N))}else r.push(nt({},x,{pref:w,group:N})),a[C]=[P],be(C)&&(c[C]=[w]),N&&"email"===C&&(o[P]=N)}}catch(A){y=!0,O=A}finally{try{g||null==E.return||E.return()}finally{if(y)throw O}}}return e}),{mergedContact:[],mergedProperties:Object.create(null),mergedPropertiesPrefs:Object.create(null),mergedGroups:Object.create(null)}),n=t.mergedContact;return n},ot=n("0U2K"),it=n("rbcQ"),ut=n("9C/b"),lt=n("b9ZJ"),st=n.n(lt),ft=n("QWsV"),dt=n.n(ft),mt=n("ai43"),pt=n.n(mt),bt=n("zI3M"),vt=n.n(bt),ht=n("pVnL"),gt=n.n(ht),yt=n("QILm"),Ot=n.n(yt),jt=n("pIIs"),Et=n("/z5T"),xt=n("ncqd"),wt=n("+Vas"),Ct=n("FbvF"),kt=n("sjWO"),Pt=n("YJeA"),Nt=n("CzMN"),Dt=n("Md23"),It=n("e2Bf"),St=n("0xu3");function At(){var e=X()(["Delete"]);return At=function(){return e},e}var Tt=function(e){var t=e.file,n=e.iconName,r=e.className,a=e.clear,c=void 0===a?Object(_.c)("Action").t(At()):a,o=e.onClear,u=Ot()(e,["file","iconName","className","clear","onClear"]),l=Object(De.b)(t.name),s=Z()(l,2),f=s[0],d=s[1];return i.a.createElement("div",gt()({className:"flex bordered-container w100 ".concat(r)},u),i.a.createElement("div",{className:"p0-5 flex flex-item-noshrink w10"},i.a.createElement(Dt.a,{name:n,className:"mauto"})),i.a.createElement("div",{className:"message-attachmentInfo p0-5 flex flex-nowrap w90"},i.a.createElement("div",{className:"flex-item-fluid pr1"},i.a.createElement("div",{className:"ellipsis",title:f},f),i.a.createElement("div",null,"".concat(d.toUpperCase()," - ").concat(Object(St.a)(t.size)))),i.a.createElement(It.a,{className:"flex-item-noshrink",onClick:o},c)))};function Mt(){var e=X()(["Select file from computer"]);return Mt=function(){return e},e}function Lt(){var e=X()(["We support importing CSV files from Outlook, Outlook Express, Yahoo! Mail, Hotmail, Eudora and some other apps. We also support importing vCard 4.0. (UTF-8 encoding)."]);return Lt=function(){return e},e}var Kt=function(e){var t=e.attached,n=e.file,r=e.onAttach,a=e.onClear;return i.a.createElement(i.a.Fragment,null,i.a.createElement(wt.a,{learnMore:"https://protonmail.com/support/knowledge-base/adding-contacts/"},Object(_.c)("Description").t(Lt())),i.a.createElement(Pt.a,{className:"flex"},t?i.a.createElement(Tt,{file:n,iconName:"contacts-groups",onClear:a}):i.a.createElement(Nt.a,{className:"center",accept:".csv, .vcf",id:"import-contacts",onChange:r},Object(_.c)("Action").t(Mt()))))};Kt.PropTypes={files:[]};var Rt=Kt,Ft=n("/hVJ"),Gt=n("Z/R7"),Ut=n("h075"),Bt=n("fTXG");function zt(){var e=X()(["VALUES"]);return zt=function(){return e},e}function Vt(){var e=X()(["VCARD FIELD"]);return Vt=function(){return e},e}function Wt(){var e=X()(["CSV FIELD"]);return Wt=function(){return e},e}function Yt(){var e=X()(["IMPORT"]);return Yt=function(){return e},e}var Ht=function(e){var t=e.disabledPrevious,n=e.disabledNext,r=e.onPrevious,a=e.onNext,c=Ot()(e,["disabledPrevious","disabledNext","onPrevious","onNext"]);return i.a.createElement("thead",c,i.a.createElement("tr",null,i.a.createElement(Bt.a,{type:"header",className:"w15 aligncenter"},Object(_.c)("TableHeader").t(Yt())),i.a.createElement(Bt.a,{type:"header",className:"aligncenter"},Object(_.c)("TableHeader").t(Wt())),i.a.createElement(Bt.a,{type:"header",className:"aligncenter"},Object(_.c)("TableHeader").t(Vt())),i.a.createElement(Bt.a,{type:"header",className:"w30 aligncenter"},i.a.createElement("div",{className:"inline-flex"},i.a.createElement("span",{className:"flex-item-centered-vert mr0-5"},Object(_.c)("TableHeader").t(zt())),i.a.createElement("span",{className:"flex flex-nowrap"},i.a.createElement(It.a,{disabled:t,icon:i.a.createElement(Dt.a,{name:"caret",className:"flex-item-noshrink rotateZ-90"}),onClick:r}),i.a.createElement(It.a,{disabled:n,icon:i.a.createElement(Dt.a,{name:"caret",className:"flex-item-noshrink rotateZ-270"}),onClick:a}))))))};Ht.defaultPropTypes={disabledPrevious:!0,disabledNext:!0};var Xt=Ht,Jt=n("ErEO"),qt=n("tWpJ"),Qt=n("dVIL"),Zt=n("SI5Q");function _t(){var e=X()(["Sound"]);return _t=function(){return e},e}function $t(){var e=X()(["Categories"]);return $t=function(){return e},e}function en(){var e=X()(["Related"]);return en=function(){return e},e}function tn(){var e=X()(["IMPP"]);return tn=function(){return e},e}function nn(){var e=X()(["Member"]);return nn=function(){return e},e}function rn(){var e=X()(["Logo"]);return rn=function(){return e},e}function an(){var e=X()(["Geo"]);return an=function(){return e},e}function cn(){var e=X()(["Timezone"]);return cn=function(){return e},e}function on(){var e=X()(["Language"]);return on=function(){return e},e}function un(){var e=X()(["Gender"]);return un=function(){return e},e}function ln(){var e=X()(["URL"]);return ln=function(){return e},e}function sn(){var e=X()(["Note"]);return sn=function(){return e},e}function fn(){var e=X()(["Role"]);return fn=function(){return e},e}function dn(){var e=X()(["Title"]);return dn=function(){return e},e}function mn(){var e=X()(["Anniversary"]);return mn=function(){return e},e}function pn(){var e=X()(["Birthday"]);return pn=function(){return e},e}function bn(){var e=X()(["Organization"]);return bn=function(){return e},e}function vn(){var e=X()(["Photo"]);return vn=function(){return e},e}function hn(){var e=X()(["Address"]);return hn=function(){return e},e}function gn(){var e=X()(["Phone"]);return gn=function(){return e},e}function yn(){var e=X()(["Email"]);return yn=function(){return e},e}function On(){var e=X()(["Nickname"]);return On=function(){return e},e}function jn(){var e=X()(["Compact name"]);return jn=function(){return e},e}function En(){var e=X()(["Name"]);return En=function(){return e},e}function xn(){var e=X()(["Logo"]);return xn=function(){return e},e}function wn(){var e=X()(["Geo"]);return wn=function(){return e},e}function Cn(){var e=X()(["Timezone"]);return Cn=function(){return e},e}function kn(){var e=X()(["Language"]);return kn=function(){return e},e}function Pn(){var e=X()(["Gender"]);return Pn=function(){return e},e}function Nn(){var e=X()(["URL"]);return Nn=function(){return e},e}function Dn(){var e=X()(["Note"]);return Dn=function(){return e},e}function In(){var e=X()(["Member"]);return In=function(){return e},e}function Sn(){var e=X()(["Role"]);return Sn=function(){return e},e}function An(){var e=X()(["Title"]);return An=function(){return e},e}function Tn(){var e=X()(["Anniversary"]);return Tn=function(){return e},e}function Mn(){var e=X()(["Birthday"]);return Mn=function(){return e},e}function Ln(){var e=X()(["Organization"]);return Ln=function(){return e},e}function Kn(){var e=X()(["Photo"]);return Kn=function(){return e},e}function Rn(){var e=X()(["Logo"]);return Rn=function(){return e},e}function Fn(){var e=X()(["Geo"]);return Fn=function(){return e},e}function Gn(){var e=X()(["Timezone"]);return Gn=function(){return e},e}function Un(){var e=X()(["Language"]);return Un=function(){return e},e}function Bn(){var e=X()(["Gender"]);return Bn=function(){return e},e}function zn(){var e=X()(["URL"]);return zn=function(){return e},e}function Vn(){var e=X()(["Note"]);return Vn=function(){return e},e}function Wn(){var e=X()(["Member"]);return Wn=function(){return e},e}function Yn(){var e=X()(["Role"]);return Yn=function(){return e},e}function Hn(){var e=X()(["Title"]);return Hn=function(){return e},e}function Xn(){var e=X()(["Anniversary"]);return Xn=function(){return e},e}function Jn(){var e=X()(["Birthday"]);return Jn=function(){return e},e}function qn(){var e=X()(["Organization"]);return qn=function(){return e},e}function Qn(){var e=X()(["Photo"]);return Qn=function(){return e},e}function Zn(){var e=X()(["Address"]);return Zn=function(){return e},e}function _n(){var e=X()(["Phone"]);return _n=function(){return e},e}function $n(){var e=X()(["Email"]);return $n=function(){return e},e}function er(){var e=X()(["Name"]);return er=function(){return e},e}function tr(){var e=X()(["Sound"]);return tr=function(){return e},e}function nr(){var e=X()(["Categories"]);return nr=function(){return e},e}function rr(){var e=X()(["Related"]);return rr=function(){return e},e}function ar(){var e=X()(["IMPP"]);return ar=function(){return e},e}function cr(){var e=X()(["Member"]);return cr=function(){return e},e}function or(){var e=X()(["Logo"]);return or=function(){return e},e}function ir(){var e=X()(["Geo"]);return ir=function(){return e},e}function ur(){var e=X()(["Timezone"]);return ur=function(){return e},e}function lr(){var e=X()(["Language"]);return lr=function(){return e},e}function sr(){var e=X()(["Gender"]);return sr=function(){return e},e}function fr(){var e=X()(["URL"]);return fr=function(){return e},e}function dr(){var e=X()(["Note"]);return dr=function(){return e},e}function mr(){var e=X()(["Role"]);return mr=function(){return e},e}function pr(){var e=X()(["Title"]);return pr=function(){return e},e}function br(){var e=X()(["Anniversary"]);return br=function(){return e},e}function vr(){var e=X()(["Birthday"]);return vr=function(){return e},e}function hr(){var e=X()(["Organization"]);return hr=function(){return e},e}function gr(){var e=X()(["Photo"]);return gr=function(){return e},e}function yr(){var e=X()(["Address"]);return yr=function(){return e},e}function Or(){var e=X()(["Phone"]);return Or=function(){return e},e}function jr(){var e=X()(["Email"]);return jr=function(){return e},e}function Er(){var e=X()(["Nickname"]);return Er=function(){return e},e}function xr(){var e=X()(["Compact name"]);return xr=function(){return e},e}function wr(){var e=X()(["Name"]);return wr=function(){return e},e}var Cr=function(){return[{text:Object(_.c)("Contact field label").t(Kn()),value:"photo"},{text:Object(_.c)("Contact field label").t(Ln()),value:"org"},{text:Object(_.c)("Contact field label").t(Mn()),value:"bday"},{text:Object(_.c)("Contact field label").t(Tn()),value:"anniversary"},{text:Object(_.c)("Contact field label").t(An()),value:"title"},{text:Object(_.c)("Contact field label").t(Sn()),value:"role"},{text:Object(_.c)("Contact field label").t(In()),value:"member"},{text:Object(_.c)("Contact field label").t(Dn()),value:"note"},{text:Object(_.c)("Contact field label").t(Nn()),value:"url"},{text:Object(_.c)("Contact field label").t(Pn()),value:"gender"},{text:Object(_.c)("Contact field label").t(kn()),value:"lang"},{text:Object(_.c)("Contact field label").t(Cn()),value:"tz"},{text:Object(_.c)("Contact field label").t(wn()),value:"geo"},{text:Object(_.c)("Contact field label").t(xn()),value:"logo"}]},kr=function(){return{fn:Object(_.c)("Contact field label").t(En()),n:Object(_.c)("Contact field label").t(jn()),nickname:Object(_.c)("Contact field label").t(On()),email:Object(_.c)("Contact field label").t(yn()),tel:Object(_.c)("Contact field label").t(gn()),adr:Object(_.c)("Contact field label").t(hn()),photo:Object(_.c)("Contact field label").t(vn()),org:Object(_.c)("Contact field label").t(bn()),bday:Object(_.c)("Contact field label").t(pn()),anniversary:Object(_.c)("Contact field label").t(mn()),title:Object(_.c)("Contact field label").t(dn()),role:Object(_.c)("Contact field label").t(fn()),note:Object(_.c)("Contact field label").t(sn()),url:Object(_.c)("Contact field label").t(ln()),gender:Object(_.c)("Contact field label").t(un()),lang:Object(_.c)("Contact field label").t(on()),tz:Object(_.c)("Contact field label").t(cn()),geo:Object(_.c)("Contact field label").t(an()),logo:Object(_.c)("Contact field label").t(rn()),member:Object(_.c)("Contact field label").t(nn()),impp:Object(_.c)("Contact field label").t(tn()),related:Object(_.c)("Contact field label").t(en()),categories:Object(_.c)("Contact field label").t($t()),sound:Object(_.c)("Contact field label").t(_t())}},Pr=function(e){var t=e.value,n=e.onChangeField,r=[{text:Object(_.c)("Contact field label").t(wr()),value:"fn"},{text:Object(_.c)("Contact field label").t(xr()),value:"n"},{text:Object(_.c)("Contact field label").t(Er()),value:"nickname"},{text:Object(_.c)("Contact field label").t(jr()),value:"email"},{text:Object(_.c)("Contact field label").t(Or()),value:"tel"},{text:Object(_.c)("Contact field label").t(yr()),value:"adr"},{text:Object(_.c)("Contact field label").t(gr()),value:"photo"},{text:Object(_.c)("Contact field label").t(hr()),value:"org"},{text:Object(_.c)("Contact field label").t(vr()),value:"bday"},{text:Object(_.c)("Contact field label").t(br()),value:"anniversary"},{text:Object(_.c)("Contact field label").t(pr()),value:"title"},{text:Object(_.c)("Contact field label").t(mr()),value:"role"},{text:Object(_.c)("Contact field label").t(dr()),value:"note"},{text:Object(_.c)("Contact field label").t(fr()),value:"url"},{text:Object(_.c)("Contact field label").t(sr()),value:"gender"},{text:Object(_.c)("Contact field label").t(lr()),value:"lang"},{text:Object(_.c)("Contact field label").t(ur()),value:"tz"},{text:Object(_.c)("Contact field label").t(ir()),value:"geo"},{text:Object(_.c)("Contact field label").t(or()),value:"logo"},{text:Object(_.c)("Contact field label").t(cr()),value:"member"},{text:Object(_.c)("Contact field label").t(ar()),value:"impp"},{text:Object(_.c)("Contact field label").t(rr()),value:"related"},{text:Object(_.c)("Contact field label").t(nr()),value:"categories"},{text:Object(_.c)("Contact field label").t(tr()),value:"sound"}];return i.a.createElement(Qt.a,{className:"pt0"},i.a.createElement(Zt.a,{value:t,options:r,onChange:function(e){var t=e.target;return n(t.value)}}))};function Nr(){var e=X()(["Emergency"]);return Nr=function(){return e},e}function Dr(){var e=X()(["Agent"]);return Dr=function(){return e},e}function Ir(){var e=X()(["Me"]);return Ir=function(){return e},e}function Sr(){var e=X()(["Sweetheart"]);return Sr=function(){return e},e}function Ar(){var e=X()(["Date"]);return Ar=function(){return e},e}function Tr(){var e=X()(["Crush"]);return Tr=function(){return e},e}function Mr(){var e=X()(["Muse"]);return Mr=function(){return e},e}function Lr(){var e=X()(["Kin"]);return Lr=function(){return e},e}function Kr(){var e=X()(["Sibling"]);return Kr=function(){return e},e}function Rr(){var e=X()(["Sibling"]);return Rr=function(){return e},e}function Fr(){var e=X()(["Parent"]);return Fr=function(){return e},e}function Gr(){var e=X()(["Child"]);return Gr=function(){return e},e}function Ur(){var e=X()(["Neighbor"]);return Ur=function(){return e},e}function Br(){var e=X()(["Co-resident"]);return Br=function(){return e},e}function zr(){var e=X()(["Colleague"]);return zr=function(){return e},e}function Vr(){var e=X()(["Co-worker"]);return Vr=function(){return e},e}function Wr(){var e=X()(["Met"]);return Wr=function(){return e},e}function Yr(){var e=X()(["Friend"]);return Yr=function(){return e},e}function Hr(){var e=X()(["Acquaintance"]);return Hr=function(){return e},e}function Xr(){var e=X()(["Contact"]);return Xr=function(){return e},e}function Jr(){var e=X()(["Other"]);return Jr=function(){return e},e}function qr(){var e=X()(["Work"]);return qr=function(){return e},e}function Qr(){var e=X()(["Home"]);return Qr=function(){return e},e}function Zr(){var e=X()(["Address"]);return Zr=function(){return e},e}function _r(){var e=X()(["Pager"]);return _r=function(){return e},e}function $r(){var e=X()(["Fax"]);return $r=function(){return e},e}function ea(){var e=X()(["Main"]);return ea=function(){return e},e}function ta(){var e=X()(["Mobile"]);return ta=function(){return e},e}function na(){var e=X()(["Other"]);return na=function(){return e},e}function ra(){var e=X()(["Work"]);return ra=function(){return e},e}function aa(){var e=X()(["Home"]);return aa=function(){return e},e}function ca(){var e=X()(["Phone"]);return ca=function(){return e},e}function oa(){var e=X()(["Other"]);return oa=function(){return e},e}function ia(){var e=X()(["Work"]);return ia=function(){return e},e}function ua(){var e=X()(["Home"]);return ua=function(){return e},e}function la(){var e=X()(["Email"]);return la=function(){return e},e}function sa(){var e=X()(["Yomi"]);return sa=function(){return e},e}function fa(){var e=X()(["Name"]);return fa=function(){return e},e}function da(){var e=X()(["Pager"]);return da=function(){return e},e}function ma(){var e=X()(["Fax"]);return ma=function(){return e},e}function pa(){var e=X()(["Other"]);return pa=function(){return e},e}function ba(){var e=X()(["Yomi"]);return ba=function(){return e},e}function va(){var e=X()(["Main"]);return va=function(){return e},e}function ha(){var e=X()(["Mobile"]);return ha=function(){return e},e}function ga(){var e=X()(["Personal"]);return ga=function(){return e},e}function ya(){var e=X()(["Work"]);return ya=function(){return e},e}var Oa=function(){return{fn:[{text:Object(_.c)("Property type").t(fa()),value:""},{text:Object(_.c)("Property type").t(sa()),value:"yomi"}],n:[],nickname:[],email:[{text:Object(_.c)("Property type").t(la()),value:""},{text:Object(_.c)("Property type").t(ua()),value:"home"},{text:Object(_.c)("Property type").t(ia()),value:"work"},{text:Object(_.c)("Property type").t(oa()),value:"other"}],tel:[{text:Object(_.c)("Property type").t(ca()),value:""},{text:Object(_.c)("Property type").t(aa()),value:"home"},{text:Object(_.c)("Property type").t(ra()),value:"work"},{text:Object(_.c)("Property type").t(na()),value:"other"},{text:Object(_.c)("Property type").t(ta()),value:"cell"},{text:Object(_.c)("Property type").t(ea()),value:"main"},{text:Object(_.c)("Property type").t($r()),value:"fax"},{text:Object(_.c)("Property type").t(_r()),value:"pager"}],adr:[{text:Object(_.c)("Property type").t(Zr()),value:""},{text:Object(_.c)("Property type").t(Qr()),value:"home"},{text:Object(_.c)("Property type").t(qr()),value:"work"},{text:Object(_.c)("Property type").t(Jr()),value:"other"}],bday:[],anniversary:[],gender:[],lang:[],tz:[],geo:[],title:[],role:[],logo:[],photo:[],org:[],related:[{text:Object(_.c)("Property type").t(Xr()),value:"contact"},{text:Object(_.c)("Property type").t(Hr()),value:"acquaintance"},{text:Object(_.c)("Property type").t(Yr()),value:"friend"},{text:Object(_.c)("Property type").t(Wr()),value:"met"},{text:Object(_.c)("Property type").t(Vr()),value:"co-worker"},{text:Object(_.c)("Property type").t(zr()),value:"colleague"},{text:Object(_.c)("Property type").t(Br()),value:"co-resident"},{text:Object(_.c)("Property type").t(Ur()),value:"neighbor"},{text:Object(_.c)("Property type").t(Gr()),value:"child"},{text:Object(_.c)("Property type").t(Fr()),value:"parent"},{text:Object(_.c)("Property type").t(Rr()),value:"sibling"},{text:Object(_.c)("Property type").t(Kr()),value:"spouse"},{text:Object(_.c)("Property type").t(Lr()),value:"kin"},{text:Object(_.c)("Property type").t(Mr()),value:"muse"},{text:Object(_.c)("Property type").t(Tr()),value:"crush"},{text:Object(_.c)("Property type").t(Ar()),value:"date"},{text:Object(_.c)("Property type").t(Sr()),value:"sweetheart"},{text:Object(_.c)("Property type").t(Ir()),value:"me"},{text:Object(_.c)("Property type").t(Dr()),value:"agent"},{text:Object(_.c)("Property type").t(Nr()),value:"emergency"}],member:[],note:[],url:[]}},ja=function(e){var t=e.field,n=e.value,r=e.onChangeType,a=Oa();return i.a.createElement(Qt.a,{className:"pt0"},i.a.createElement(Zt.a,{value:n,options:a[t],onChange:function(e){var t=e.target;return r(t.value)}}))},Ea=n("NpuA"),xa=n.n(Ea),wa=["name","initials","short name","maiden name","group membership","mileage","billing information","directory server","sensitivity","priority","subject"],Ca=function(e){switch(e.toLowerCase()){case"home":return"home";case"business":case"work":return"work";case"mobile":case"cell":return"cell";case"other":return"other";case"main":case"primary":return"main";case"company main":return"work";case"pager":return"pager";case"home fax":case"work fax":return"fax";default:return""}},ka=function(e){return{header:e.header,value:e.value,checked:!0,pref:1,field:"fn",type:"main",combineInto:"fn-main",combineIndex:e.index}},Pa=function(e){return{header:e.header,value:e.value,checked:!0,pref:2,field:"fn",type:"yomi",combineInto:"fn-yomi",combineIndex:e.index}},Na=function(e){return{header:e.header,value:e.value,checked:!0,field:"n",combineInto:"n",combineIndex:e.index}},Da=function(e){var t=e.pref;return{pref:t,header:e.header,value:e.value,checked:!0,field:"email",type:e.type,group:t}},Ia=function(e){return{pref:e.pref,header:e.header,value:e.value,checked:!0,field:"tel",type:e.type}},Sa=function(e){var t=e.pref,n=e.header,r=e.type,a=e.value,c=e.index;return{pref:t,header:n,value:a,checked:!0,field:"adr",type:r,combineInto:"adr-".concat(r),combineIndex:c}},Aa=function(e){return{pref:e.pref,header:e.header,value:e.value,checked:!0,field:"org",combineInto:"org",combineIndex:e.index}},Ta=function(e){var t=e.original,n=e.standard,r=Object(ue.g)(n),a=t;if(["title","name prefix"].includes(r))return function(e){return[ka({header:a,value:e,index:0}),Na({header:a,value:e,index:3})]};if(["first name","given name"].includes(r))return function(e){return[ka({header:a,value:e,index:1}),Na({header:a,value:e,index:1})]};if(["middle name","additional name"].includes(r))return function(e){return[ka({header:a,value:e,index:2}),Na({header:a,value:e,index:2})]};if(["last name","family name"].includes(r))return function(e){return[ka({header:a,value:e,index:3}),Na({header:a,value:e,index:0})]};if(["suffix","name suffix"].includes(r))return function(e){return[ka({header:a,value:e,index:4}),Na({header:a,value:e,index:4})]};if(["given yomi","given name yomi"].includes(r))return function(e){return Pa({header:a,value:e,index:0})};if(["middle name yomi","additional name yomi"].includes(r))return function(e){return Pa({header:a,value:e,index:1})};if(["surname yomi","family name yomi"].includes(r))return function(e){return Pa({header:a,value:e,index:2})};if(/^company\s?(\d*)/.test(r)){var c=r.match(/^company\s?(\d*)/),o=Z()(c,2)[1];return function(e){return Aa({pref:o,header:a,value:e,index:0})}}if(/^department\s?(\d*)/.test(r)){var i=r.match(/^department\s?(\d*)/),u=Z()(i,2)[1];return function(e){return Aa({pref:u,header:a,value:e,index:1})}}if(/^(\w+)?\s?e-?mail\s?(\d*)/.test(r)){var l=r.match(/^(\w+)?\s?e-?mail\s?(\d*)/),s=Z()(l,3),f=s[1],d=s[2];return function(e){return Da({pref:d,header:a,value:e,type:f?Ca(f):""})}}if(/^(\w+\s*\w+)?\s?phone\s?(\d*)$/.test(r)){var m=r.match(/^(\w+\s*\w+)?\s?phone\s?(\d*)$/),p=Z()(m,3),b=p[1],v=p[2];return function(e){return Ia({pref:v,header:a,value:e,type:b?Ca(b):""})}}if(/^(\w+)?\s?fax\s?(\d*)$/.test(r)){var h=r.match(/^(\w+)?\s?fax\s?(\d*)$/),g=Z()(h,3)[2];return function(e){return Ia({pref:g,header:a,value:e,type:"fax"})}}if(/^(\w+)?\s?pager\s?(\d*)$/.test(r)){var y=r.match(/^(\w+)?\s?pager\s?(\d*)$/),O=Z()(y,3)[2];return function(e){return Ia({pref:O,header:a,value:e,type:"pager"})}}if(/^callback|telex\s?(\d*)$/.test(r)){var j=r.match(/^callback|telex\s?(\d*)$/),E=Z()(j,2)[1];return function(e){return Ia({pref:E,header:a,value:e,type:"other"})}}if(/^(\w*)\s?po box\s?(\d*)$/.test(r)){var x=r.match(/^(\w*)\s?po box\s?(\d*)$/),w=Z()(x,3),C=w[1],k=w[2];return function(e){return Sa({pref:k,header:a,type:Ca(C),value:e,index:0})}}if(/^(\w*)\s?extended address\s?(\d*)$/.test(r)){var P=r.match(/^(\w*)\s?extended address\s?(\d*)$/),N=Z()(P,3),D=N[1],I=N[2];return function(e){return Sa({pref:I,header:a,type:Ca(D),value:e,index:1})}}if(/^(\w*)\s?street\s?(\d*)$/.test(r)){var S=r.match(/^(\w*)\s?street\s?(\d*)$/),A=Z()(S,3),T=A[1],M=A[2];return function(e){return Sa({pref:M,header:a,type:Ca(T),value:e,index:2})}}if(/^(\w*)\s?city\s?(\d*)$/.test(r)){var L=r.match(/^(\w*)\s?city\s?(\d*)$/),K=Z()(L,3),R=K[1],F=K[2];return function(e){return Sa({pref:F,header:a,type:Ca(R),value:e,index:3})}}if(/^(\w*)\s?state\s?(\d*)$/.test(r)){var G=r.match(/^(\w*)\s?state\s?(\d*)$/),U=Z()(G,3),B=U[1],z=U[2];return function(e){return Sa({pref:z,header:a,type:Ca(B),value:e,index:4})}}if(/^(\w*)\s?postal code\s?(\d*)$/.test(r)){var V=r.match(/^(\w*)\s?postal code\s?(\d*)$/),W=Z()(V,3),Y=W[1],H=W[2];return function(e){return Sa({pref:H,header:a,type:Ca(Y),value:e,index:5})}}if(/^(\w*)\s?country|region\s?(\d*)$/.test(r)){var X=r.match(/^(\w*)\s?country\/region\s?(\d*)$/),J=Z()(X,3),q=J[1],Q=J[2];return function(e){return Sa({pref:Q,header:a,type:Ca(q),value:e,index:6})}}return"nickname"===r?function(e){return{header:a,value:e,checked:!0,field:"nickname"}}:"imaddress"===r?function(e){return{header:a,value:e,checked:!0,field:"impp"}}:"job title"===r?function(e){return{header:a,value:e,checked:!0,field:"title"}}:"role"===r?function(e){return{header:a,value:e,checked:!0,field:"role"}}:r.includes("relation")?function(e){return{header:a,value:e,checked:!0,field:"related"}}:"manager's name"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"co-worker"}}:"assistant's name"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"agent"}}:"spouse"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"spouse"}}:"birthday"===r?function(e){return{header:a,value:e,checked:!0,field:"bday"}}:"anniversary"===r?function(e){return{header:a,value:e,checked:!0,field:"anniversary"}}:r.includes("web")?function(e){return{header:a,value:e,checked:!0,field:"url"}}:"photo"===r?function(e){return{header:a,value:e,checked:!0,field:"photo"}}:"logo"===r?function(e){return{header:a,value:e,checked:!0,field:"logo"}}:"location"===r?function(e){return{header:a,value:e,checked:!0,field:"geo",type:"main"}}:"office location"===r?function(e){return{header:a,value:e,checked:!0,field:"geo",type:"work"}}:"notes"===r||r.includes("custom field")?function(e){return{header:a,value:e,checked:!0,field:"note"}}:function(e){return{header:a,value:e,checked:!0,field:"note",custom:!0}}},Ma=function(e){return e[0].checked?e[0].value:""},La={fn:function(e){return e.reduce((function(e,t){var n=t.value,r=t.checked;return n&&r?e+" ".concat(n):e}),"").trim()},n:function(e){var t=new Array(5).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t},adr:function(e){var t=new Array(7).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t},org:function(e){var t=new Array(2).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(";")},email:Ma,tel:Ma,nickname:Ma,photo:Ma,bday:Ma,anniversary:Ma,title:Ma,role:Ma,note:Ma,url:Ma,gender:Ma,lang:Ma,tz:Ma,geo:Ma,logo:Ma,member:Ma,impp:Ma,related:Ma,categories:Ma,sound:Ma,custom:function(e){var t=e[0],n=t.header;return t.value?"".concat(n,": ").concat(Ma(e)):""}},Ka={fn:function(e){return e.reduce((function(e,t){var n=t.value,r=t.checked;return n&&r?e+" ".concat(n):e}),"").trim()},n:function(e){var t=new Array(5).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(", ")},adr:function(e){var t=new Array(7).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(", ")},org:function(e){var t=new Array(2).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join("; ")},nickname:function(e){return Ma(e)[0]},email:Ma,tel:Ma,photo:Ma,bday:Ma,anniversary:Ma,title:Ma,role:Ma,note:Ma,url:Ma,gender:Ma,lang:Ma,tz:Ma,geo:Ma,logo:Ma,member:Ma,impp:Ma,related:Ma,categories:Ma,sound:Ma,custom:function(e){var t=e[0],n=t.header,r=t.value;return t.checked&&r?"".concat(n,": ").concat(Ma(e)):""}};function Ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Fa=function(e){var t,n,r,a,c;return ke.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ke.a.awrap(new Promise((function(t,n){xa.a.parse(e,{header:!1,dynamicTyping:!1,complete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.data,r=void 0===n?[]:n,a=e.errors,c=void 0===a?[]:a;return t({headers:r[0],contacts:r.slice(1),errors:c})},error:n,skipEmptyLines:!0})})));case 2:if(t=o.sent,n=t.headers,r=t.contacts,!t.errors.length){o.next=8;break}throw new Error("Error when reading csv file");case 8:return a=n.length,c=r.map((function(e){return e.slice(0,a)})).filter((function(e){return e.length===a})),o.abrupt("return",{headers:n,contacts:c});case 11:case"end":return o.stop()}}))},Ga=function(e){var t=e.headers,n=void 0===t?[]:t,r=e.contacts,a=void 0===r?[]:r;if(!a.length)return[];var c=function(e){var t=e.headers,n=e.contacts;if(!n.length)return{headers:t,contacts:n};var r=t.map((function(e){return e.replace("_"," ").toLowerCase()})),a=r.reduce((function(e,t,r){var a=e.beRemoved,c=e.beChanged,o=n[0][r];if(function(e,t){return!t.some((function(t){return""!==t[e]}))}(r,n)&&(a[r]=!0),wa.includes(t)||t.startsWith("im")||t.includes("event"))return a[r]=!0,e;if("address"===t&&(c[r]="street"),"zip"===t&&(c[r]="postal code"),"county"===t&&(c[r]="state"),/^address\s?(\d+)? - type$/.test(t)){var i=t.match(/^address\s?\d+? - type$/),u=Z()(i,2)[1],l=u||"";return a[r]=!0,a[r+1]=!0,c[r+2]=(Object(ue.d)(Ca(o))+" Street ".concat(l)).trim(),c[r+3]=(Object(ue.d)(Ca(o))+" City ".concat(l)).trim(),c[r+4]=(Object(ue.d)(Ca(o))+" PO Box ".concat(l)).trim(),c[r+5]=(Object(ue.d)(Ca(o))+" State ".concat(l)).trim(),c[r+6]=(Object(ue.d)(Ca(o))+" Postal Code ".concat(l)).trim(),c[r+7]=(Object(ue.d)(Ca(o))+" Country/Region ".concat(l)).trim(),c[r+8]=(Object(ue.d)(Ca(o))+" Extended Address ".concat(l)).trim(),e}if(/^organization\s?\d+? - (\w+)$/.test(t)){var s=t.match(/^organization\s?\d+? - (\w+)$/),f=Z()(s,2)[1];return"name"===f?c[r]="Company":"title"===f?c[r]="Job Title":"department"===f?c[r]="Department":"job description"===f?c[r]="Role":a[r]=!0,e}if(/(.*) - type$/i.test(t)){var d=t.match(/(.*) - type$/i),m=Z()(d,2)[1];return a[r]=!0,c[r+1]=(Object(ue.d)(Ca(o))+" "+m).trim(),e}return e}),{beRemoved:Object.create(null),beChanged:Object.create(null)}),c=a.beRemoved,o=a.beChanged;return{headers:r.map((function(e,n){return{original:t[n],standard:o[n]?o[n]:e}})).filter((function(e,t){return!c[t]})),contacts:n.map((function(e){return e.filter((function(e,t){return!c[t]}))}))}}({headers:n,contacts:a}),o=c.headers,i=c.contacts,u=o.map(Ta);return i.map((function(e){return e.map((function(e,t){return u[t](e)})).flat()})).map((function(e){return e.filter((function(e){return!!e}))}))},Ua=function(e){var t=e.headers,n=void 0===t?[]:t,r=e.contacts,a=void 0===r?[]:r,c=Ga({headers:n,contacts:a});if(!c.length)return[];for(var o=[],i=c[0].reduce((function(e,t,n){var r=t.combineInto,a=t.combineIndex;return r?(e[r]||(e[r]=[]),e[r][a]=n,e):(o.push(n),e)}),{}),u=0,l=Object.keys(i);u<l.length;u++){var s=l[u];i[s]=i[s].filter((function(e){return null!==e}))}var f=a.map((function(){return[]})),d=!0,m=!1,p=void 0;try{for(var b,v=function(){var e=Z()(b.value,2),t=e[0],n=e[1];f.forEach((function(e){return e.push([])})),n.forEach((function(e){f.forEach((function(n,r){return n[t].push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c[r][e]))}))}))},h=Object.values(i).entries()[Symbol.iterator]();!(d=(b=h.next()).done);d=!0)v()}catch(j){m=!0,p=j}finally{try{d||null==h.return||h.return()}finally{if(m)throw p}}for(var g=function(){var e=O[y];f.forEach((function(t,n){return t.push([c[n][e]])}))},y=0,O=o;y<O.length;y++)g();return f},Ba=function(e){if(!e.length)return{};var t=e[0],n=t.pref,r=t.field,a=t.type;return t.custom?{pref:n,field:r,type:a,value:La.custom(e),display:Ka.custom(e)}:{pref:n,field:r,type:a,value:La[r](e),display:Ka[r](e)}},za=function(e){var t=e.preVcards,n=e.onToggle,r=e.onChangeField,a=e.onChangeType,c=Ba(t),o=c.field,u=c.type,l=c.display;return t.map((function(e,c){var s=e.checked,f=e.header;return i.a.createElement("tr",{key:c.toString()},i.a.createElement("td",{className:"aligncenter"},i.a.createElement(qt.a,{checked:s,onChange:function(){return n(c)}})),i.a.createElement("td",null,f),0===c?i.a.createElement(i.a.Fragment,null,i.a.createElement("td",{rowSpan:t.length},i.a.createElement("div",{className:"flex"},i.a.createElement(Pr,{value:o,onChangeField:r}),void 0!==u?i.a.createElement(ja,{field:o,value:u,onChangeType:a}):null)),i.a.createElement("td",{rowSpan:t.length},l)):null)}))},Va=function(e){var t=e.loading,n=e.contact,r=e.onToggle,a=e.onChangeField,c=e.onChangeType;return i.a.createElement("tbody",null,t?i.a.createElement(Jt.a,{colSpan:4}):n&&n.map((function(e,t){return i.a.createElement(za,{key:t.toString(),preVcards:e,onToggle:r(t),onChangeField:a(t),onChangeType:c(t)})})))};Va.defaultPropTypes={disabledPrevious:!0,disabledNext:!0};var Wa=Va;function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xa=function(e,t,n){return e.map((function(e,r){return r!==t?e:e.map((function(e){return function(e,t){var n={fn:["","yomi"],n:[],nickname:[],email:["","home","work","other"],tel:["","home","work","other","cell","main","fax","pager"],adr:["","home","work","other"],bday:[],anniversary:[],gender:[],lang:[],tz:[],geo:[],title:[],role:[],logo:[],org:[],related:["contact","acquaintance","friend","met","co-worker","colleague","co-resident","neighbor","child","parent","sibling","spouse","kin","muse","crush","date","sweetheart","me","agent","emergency"],member:[],note:[],url:[]};return Ha({},e,{field:t,type:n[t].includes(e.type)?e.type:n[t].length?n[t][0]:void 0,custom:!1})}(e,n)}))}))},Ja=function(e,t,n){return e.map((function(e,r){return r!==t?e:e.map((function(e){return function(e,t){return Ha({},e,{type:t})}(e,n)}))}))};function qa(){var e=X()(["No contacts to be imported"]);return qa=function(){return e},e}function Qa(){var e=X()(["Also, we have automatically matched CSV fields with vCard fields. You can review and change this matching manually."]);return Qa=function(){return e},e}function Za(){var e=X()(["We have detected the following fields in the CSV file you uploaded. Check the ones you want to import."]);return Za=function(){return e},e}function _a(){var e=X()(["First name and last name cannot be unchecked at the same time"]);return _a=function(){return e},e}var $a=function(e){var t=e.file,n=e.onSetVcardContacts,r=Object(jt.a)().createNotification,a=Object(Ft.a)(!0),c=Z()(a,2),u=c[0],l=c[1],s=Object(o.useState)(0),f=Z()(s,2),d=f[0],m=f[1],p=Object(o.useState)([]),b=Z()(p,2),v=b[0],h=b[1];return Object(o.useEffect)((function(){l(function(){var e;return ke.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e=Ua(t),h(e);case 2:case"end":return n.stop()}}))}())}),[]),Object(o.useEffect)((function(){n(function(e){return e.map((function(e){return e.map(Ba)})).sort((function(e,t){return e.pref<=t.pref}))}(v))}),[v]),i.a.createElement(i.a.Fragment,null,i.a.createElement(wt.a,null,Object(_.c)("Description of the purpose of the import CSV modal").t(Za())),i.a.createElement(wt.a,null,Object(_.c)("Description of the purpose of the import CSV modal").t(Qa())),i.a.createElement(Gt.a,null,i.a.createElement(Xt,{disabledPrevious:u||0===d,disabledNext:u||0===v.length||d+1===v.length,onNext:function(){return m((function(e){return e+1}))},onPrevious:function(){return m((function(e){return e-1}))}}),i.a.createElement(Wa,{loading:u,contact:v&&v[d],onToggle:function(e){return function(t){if("fn-main"===v[0][e][t].combineInto){var n=v[0][e],a=n.findIndex((function(e){return"first name"===e.header.toLowerCase()})),c=n.findIndex((function(e){return"last name"===e.header.toLowerCase()})),o=-1!==a&&n[a].checked,i=-1!==c&&n[c].checked;if(!o&&t===c||!i&&t===a)return r({type:"error",text:Object(_.c)("Error notification").t(_a())})}h(v.map((function(n){return function(e,t){var n=Z()(t,2),r=n[0],a=n[1];return e.map((function(e,t){return t!==r?e:e.map((function(e,t){return t!==a?e:Ha({},e,{checked:!e.checked})}))}))}(n,[e,t])})))}},onChangeField:function(e){return function(t){return h(v.map((function(n){return Xa(n,e,t)})))}},onChangeType:function(e){return function(t){return h(v.map((function(n){return Ja(n,e,t)})))}}})),!u&&!v.length&&i.a.createElement(Ut.a,{className:"aligncenter"},Object(_.c)("Info").t(qa())))},ec=n("k7CA");function tc(){var e=X()(["Failed"]);return tc=function(){return e},e}function nc(){var e=X()(["Completed"]);return nc=function(){return e},e}function rc(){var e=X()(["Progress"]);return rc=function(){return e},e}var ac=function(e){var t=e.id,n=e.alt,r=e.displayDuring,a=void 0===r?Object(_.c)("Progress bar description").t(rc()):r,c=e.displaySuccess,o=void 0===c?Object(_.c)("Progress bar description").t(nc()):c,u=e.displayFailed,l=void 0===u?Object(_.c)("Progress bar description").t(tc()):u,s=e.value,f=e.max,d=void 0===f?100:f,m=e.endPostponed,p=void 0!==m&&m,b=e.failed,v=void 0!==b&&b,h=Ot()(e,["id","alt","displayDuring","displaySuccess","displayFailed","value","max","endPostponed","failed"]),g=s<d||p,y=g?i.a.createElement(ie.a,null):v?i.a.createElement(Dt.a,{name:"off",fill:"warning",size:100,alt:"".concat(n,"-finished")}):i.a.createElement(Dt.a,{name:"on",fill:"success",size:100,alt:"".concat(n,"-finished")}),O=v?l:o;return i.a.createElement("div",{className:"aligncenter"},y,i.a.createElement("progress",gt()({className:"progress-contact w100 mt1","aria-describedby":t,value:s,max:d},h)),i.a.createElement("p",{"aria-atomic":"true","aria-live":"polite",id:"id"},g?"".concat(a,": ").concat(s,"%"):O))},cc=n("I7cj"),oc=n("KeOk");function ic(){var e=X()(["Click for details"]);return ic=function(){return e},e}var uc=function(e){var t=e.errors,n=void 0===t?[]:t,r=e.loading,a=e.summary,c=void 0===a?Object(_.c)("Info on errors").t(ic()):a;return!!n.length&&!r&&i.a.createElement(cc.a,null,i.a.createElement(oc.a,null,c),i.a.createElement(Pt.a,null,n.sort((function(e,t){return e.index-t.index})).map((function(e){var t=e.index,n=e.message;return i.a.createElement("div",{key:t},n)}))))},lc=n("3fNN"),sc=n("pqLH"),fc=n("Kv4S"),dc=n("ID4j"),mc=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"proton-web-".concat(e()).concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())};function pc(){var e=X()(["Unknown"]);return pc=function(){return e},e}var bc=z.k.CLEAR_TEXT,vc=z.k.ENCRYPTED_AND_SIGNED,hc=z.k.SIGNED,gc=function(e){return e.reduce((function(e,t){var n=t.field;return Me.includes(n)?(e.toClearText.push(t),e):Le.includes(n)?(e.toSign.push(t),e):(e.toEncryptAndSign.push(t),e)}),{toEncryptAndSign:[],toSign:[],toClearText:[]})},yc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=[],a=gc(e),c=a.toEncryptAndSign,o=void 0===c?[]:c,i=a.toSign,u=void 0===i?[]:i,l=a.toClearText,s=void 0===l?[]:l;if(o.length>0){var f=Ze(o).toString();r.push(Object(fc.a)({data:f,publicKeys:n,privateKeys:t,armor:!0,detached:!0}).then((function(e){var t=e.data,n=e.signature;return{Type:vc,Data:t,Signature:n}})))}if(u.length>0){var d=u.some((function(e){return"uid"===e.field})),m=u.some((function(e){return"fn"===e.field}));if(!d){var p=mc();u.push({field:"uid",value:p})}if(!m){var b=Object(_.c)("Default display name vcard").t(pc());u.push({field:"fn",value:b})}var v=Ze(u).toString();r.push(Object(dc.g)({data:v,privateKeys:t,armor:!0,detached:!0}).then((function(e){var t=e.signature;return{Type:hc,Data:v,Signature:t}})))}if(s.length>0){var h=Ze(s).toString();r.push({Type:bc,Data:h,Signature:null})}return Promise.all(r)},Oc=function(e,t){var n,r,a,c,o,i;return ke.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.privateKey,r=t.publicKey,a=ve(e),c=he(a),o=je(c),u.next=6,ke.a.awrap(yc(o,[n],[r]));case 6:return i=u.sent,u.abrupt("return",{Cards:i});case 8:case"end":return u.stop()}}))},jc=function(){var e,t,n,r,a,c=arguments;return ke.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:[],t=c.length>1?c[1]:void 0,n=t.privateKey,r=t.publicKey,a=e.reduce((function(e,t){return e.push(Oc(t,{privateKey:n,publicKey:r})),e}),[]),o.abrupt("return",Promise.all(a));case 4:case"end":return o.stop()}}))},Ec=z.k.CLEAR_TEXT,xc=function(e){return e.some((function(e){var t=e.field;return e.value&&"categories"===t}))},wc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=t.contact,r=n.Cards;return n.error?e:(r.some((function(e){var t=e.Type,n=e.Data;return t===Ec&&n.includes("CATEGORIES")}))?e.withCategories.push(t):e.withoutCategories.push(t),e)}),{withCategories:[],withoutCategories:[]})},Cc=function(e,t,n){return 0==+n?0:Math.min(Math.floor((+e+t)/n*100),100)},kc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){var n=t.allocated,r=t.successful,a=t.failed,c=t.total;return e.combinedTotal+=c,e.combinedAllocations+=n,e.progresses.push(Cc(r,a,c)),e}),{combinedTotal:0,combinedAllocations:0,progresses:[]}),n=t.combinedTotal,r=t.combinedAllocations,a=t.progresses;if(1!==r&&e.length)throw new Error("Allocations must add up to one");if(!n)return 0;var c=e.reduce((function(e,t,r){return e+t.allocated*(!t.total&&n?100:a[r])}),0);return Math.round(c)};function Pc(){var e=X()(["Some contacts could not be imported. Click for details"]);return Pc=function(){return e},e}function Nc(){var e=X()(["No contacts imported"]);return Nc=function(){return e},e}function Dc(){var e=X()([""," out of "," contact successfully imported."]);return Dc=function(){return e},e}function Ic(){var e=X()(["Encrypting and importing contacts... This may take a few minutes. When the process is completed, you can close this modal."]);return Ic=function(){return e},e}function Sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tc(){var e=X()(["Contact "," from your list could not be imported. ",""]);return Tc=function(){return e},e}function Mc(){var e=X()(["Contact "," from your list could not be encrypted."]);return Mc=function(){return e},e}function Lc(){var e=X()(["Contact "," from your list could not be parsed. ",""]);return Lc=function(){return e},e}var Kc=Re,Rc=Fe,Fc=Ge,Gc=z.b.SINGLE_SUCCESS,Uc=function(e,t){return Object(_.c)("Info on errors importing contacts").t(Lc(),e,t)},Bc=function(e){return Object(_.c)("Info on errors importing contacts").t(Mc(),e)},zc=function(e,t){return Object(_.c)("Info on errors importing contacts").t(Tc(),e,t)},Vc=function(e){var t=e.isVcf,n=e.file,r=void 0===n?"":n,a=e.vcardContacts,c=e.privateKey,u=e.onFinish,l=Object(ec.a)(),s=Object(Ft.a)(!0),f=Z()(s,2),d=f[0],m=f[1],p=Object(o.useState)({total:a.length,parsed:a.map((function(e,t){return{index:t,contact:e}})),encrypted:[],submitted:[],failedOnEncrypt:[],failedOnParse:[],failedOnSubmit:[]}),b=Z()(p,2),v=b[0],h=b[1];Object(o.useEffect)((function(){var e,n,o,i,s,f,d,p=new AbortController,b=function(e){var t=e.signal,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("END:VCARD");return t.pop(),t.map((function(e){return e.trim()+"\r\nEND:VCARD"}))}(r);return!t.aborted&&h(Ac({},v,{total:n.length})),t.aborted?[]:n.reduce((function(e,n,r){try{if(n.includes("VERSION:2.1")||n.includes("VERSION:3.0"))throw new Error("vCard versions < 4.0 not supported");var a=Qe(n);e.push({index:r,contact:a})}catch(o){var c=o.message;!t.aborted&&h((function(e){return Ac({},e,{failedOnParse:[].concat(fe()(e.failedOnParse),[{index:r,message:Uc(r+1,c)}])})}))}return e}),[])},g=function(e,t,n){var r,a,o,i;return ke.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return r=e.contact,a=e.index,o=n.signal,u.prev=2,u.next=5,ke.a.awrap(Oc(r,{privateKey:c,publicKey:t}));case 5:return i=u.sent,!o.aborted&&h((function(e){return Ac({},e,{encrypted:[].concat(fe()(e.encrypted),[i])})})),u.abrupt("return",{index:a,contact:i});case 10:return u.prev=10,u.t0=u.catch(2),!o.aborted&&h((function(e){return Ac({},e,{failedOnEncrypt:[].concat(fe()(e.failedOnEncrypt),[{index:a,message:Bc(a+1)}])})})),u.abrupt("return",{index:a,contact:{error:!0}});case 14:case"end":return u.stop()}}),null,null,[[2,10]])},y=function(){var e,t,n,r,a=arguments;return ke.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:[],t=a.length>1?a[1]:void 0,n=a.length>2?a[2]:void 0,!(r=n.signal).aborted){c.next=5;break}return c.abrupt("return",[]);case 5:return c.abrupt("return",Promise.all(e.map((function(e){return g(e,t,{signal:r})}))));case 6:case"end":return c.stop()}}))},O=function(){var e,t,n,r,a,o,i,u,l,s,f,d,m,p=arguments;return ke.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:e=p.length>0&&void 0!==p[0]?p[0]:[],t=p.length>1?p[1]:void 0,n=t.signal,r=c.toPublic(),a=Object(we.a)(e,5),o=[],i=!0,u=!1,l=void 0,b.prev=8,s=a[Symbol.iterator]();case 10:if(i=(f=s.next()).done){b.next=21;break}if(d=f.value,!n.aborted){b.next=14;break}return b.abrupt("return",[]);case 14:return b.next=16,ke.a.awrap(y(d,r,{signal:n}));case 16:m=b.sent,o.push.apply(o,fe()(m));case 18:i=!0,b.next=10;break;case 21:b.next=27;break;case 23:b.prev=23,b.t0=b.catch(8),u=!0,l=b.t0;case 27:b.prev=27,b.prev=28,i||null==s.return||s.return();case 30:if(b.prev=30,!u){b.next=33;break}throw l;case 33:return b.finish(30);case 34:return b.finish(27);case 35:return b.abrupt("return",o);case 36:case"end":return b.stop()}}),null,null,[[8,23,27,35],[28,,30,34]])},j=function(e,t){var n,r,a,c,o,i,u,s,f;return ke.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted&&r.length){d.next=4;break}return d.abrupt("return");case 4:return o=r.map((function(e){return e.index})),d.next=7,ke.a.awrap((m=Object(lc.a)({Contacts:r.map((function(e){return e.contact})),Overwrite:Kc,Labels:a,timeout:36e5}),l(Ac({},m,{signal:p.signal}))));case 7:if(d.t0=function(e){return e.Response},i=d.sent.Responses.map(d.t0),!c.aborted){d.next=11;break}return d.abrupt("return");case 11:u=i.reduce((function(e,t,n){var r=t.Code,a=t.Error,c=t.Contact,i=(c=void 0===c?{}:c).ID,u=o[n];return r===Gc?e.submittedBatch.push(i):e.failedOnSubmitBatch.push({index:u,message:zc(u+1,a)}),e}),{submittedBatch:[],failedOnSubmitBatch:[]}),s=u.submittedBatch,f=u.failedOnSubmitBatch,h((function(e){return Ac({},e,{submitted:[].concat(fe()(e.submitted),fe()(s)),failedOnSubmit:[].concat(fe()(e.failedOnSubmit),fe()(f))})}));case 13:case"end":return d.stop()}var m}))},E=function(e,t){var n,r,a,c,o,i,u;return ke.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted){l.next=4;break}return l.abrupt("return");case 4:o=Object(we.a)(r,100),i=o.length,u=0;case 7:if(!(u<i)){l.next=13;break}return l.next=10,ke.a.awrap(Promise.all([j({contacts:o[u],labels:a},{signal:c}),Object(sc.b)(100)]));case 10:u++,l.next=7;break;case 13:case"end":return l.stop()}}))};return m((e=p,ke.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.signal,o=t?b({signal:n}):a.map((function(e,t){return{index:t,contact:e}})),t&&!n.aborted&&h((function(e){return Ac({},e,{parsed:o})})),r.next=5,ke.a.awrap(O(o,{signal:n}));case 5:return i=r.sent,s=wc(i),f=s.withCategories,d=s.withoutCategories,r.next=9,ke.a.awrap(E({contacts:f,labels:Fc},{signal:n}));case 9:return r.next=11,ke.a.awrap(E({contacts:d,labels:Rc},{signal:n}));case 11:if(r.t0=!n.aborted,!r.t0){r.next=15;break}return r.next=15,ke.a.awrap(u());case 15:case"end":return r.stop()}})))),function(){p.abort()}}),[]);var g=kc([{allocated:.05,successful:v.parsed.length,failed:v.failedOnParse.length,total:v.total},{allocated:.9,successful:v.encrypted.length,failed:v.failedOnEncrypt.length,total:v.total-v.failedOnParse.length},{allocated:.05,successful:v.submitted.length,failed:v.failedOnSubmit.length,total:v.total-v.failedOnParse.length-v.failedOnEncrypt.length}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(wt.a,null,Object(_.c)("Description").t(Ic())),i.a.createElement(ac,{id:"progress-import-contacts",alt:"contact-loader",value:g,displaySuccess:Object(_.c)("Progress bar description").ngettext(Object(_.msgid)(Dc(),v.submitted.length,v.total),"".concat(v.submitted.length," out of ").concat(v.total," contacts successfully imported."),v.submitted.length),displayFailed:Object(_.c)("Progress bar description").t(Nc()),failed:!v.submitted.length,endPostponed:d}),i.a.createElement(uc,{loading:d,errors:[].concat(fe()(v.failedOnParse),fe()(v.failedOnEncrypt),fe()(v.failedOnSubmit)),summary:Object(_.c)("Info on errors importing contacts").t(Pc())}))},Wc=n("BN5H");function Yc(){var e=X()(["We picked up at least one group/organization from the list of contacts you are importing. Take the time to review how we should import these groups."]);return Yc=function(){return e},e}var Hc=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(wt.a,null,Object(_.c)("Description").t(Yc())),i.a.createElement(Ut.a,null,i.a.createElement(Wc.a,null)))};function Xc(){var e=X()(["Create"]);return Xc=function(){return e},e}function Jc(){var e=X()(["Close"]);return Jc=function(){return e},e}function qc(){var e=X()(["Cancel"]);return qc=function(){return e},e}function Qc(){var e=X()(["Import"]);return Qc=function(){return e},e}function Zc(){var e=X()(["File selected appears to be corrupted"]);return Zc=function(){return e},e}function _c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(){var e=X()(["We only support importing files smaller than 10 MB. Please split your contacts into several smaller files."]);return eo=function(){return e},e}function to(){var e=X()(["File is too big!"]);return to=function(){return e},e}function no(){var e=X()(["Go back"]);return no=function(){return e},e}function ro(){var e=X()(["No .csv or .vcf file selected"]);return ro=function(){return e},e}function ao(){var e=X()(["Import"]);return ao=function(){return e},e}function co(){var e=X()(["Import groups"]);return co=function(){return e},e}function oo(){var e=X()(["Importing contacts"]);return oo=function(){return e},e}function io(){var e=X()(["Import CSV file"]);return io=function(){return e},e}function uo(){var e=X()(["Import contacts"]);return uo=function(){return e},e}function lo(){var e=X()(["Import contacts"]);return lo=function(){return e},e}var so=10*Math.pow(z.d,2),fo=function(e){var t,n=e.userKeysList,r=Ot()(e,["userKeysList"]),a=(t={},q()(t,1,Object(_.c)("Title").t(lo())),q()(t,2,Object(_.c)("Title").t(uo())),q()(t,3,Object(_.c)("Title").t(io())),q()(t,4,Object(_.c)("Title").t(oo())),q()(t,5,Object(_.c)("Title").t(co())),t),c=Object(ee.a)().createModal,u=Object(jt.a)().createNotification,l=Object(F.a)().call,s=Object(o.useState)(1),f=Z()(s,2),d=f[0],m=f[1],p=Object(o.useState)({}),b=Z()(p,2),v=b[0],h=b[1],g=Object(o.useState)([]),y=Z()(g,2),O=y[0],j=y[1],E=Object(o.useState)(!1),x=Z()(E,2),w=x[0],C=x[1],k=function(){if(d<=2){var e=i.a.createElement(Et.a,{disabled:1===d,type:"submit"},Object(_.c)("Action").t(ao())),t=function(){h({}),m(1)};return{content:i.a.createElement(Rt,{attached:2===d,file:v.attached,onAttach:function(e){var n=e.target,r=Object(De.b)(n.files[0].name),a=Z()(r,2)[1],o=["csv","vcf"].includes(a.toLowerCase())?n.files[0]:null;return n.files.length&&!o?u({type:"error",text:Object(_.c)("Error notification").t(ro())}):o.size>so?c(i.a.createElement(xt.a,{onConfirm:t,onClose:t,confirm:Object(_.c)("Action").t(no()),close:null,title:Object(_.c)("Title").t(to())},i.a.createElement(wt.a,{type:"error"},Object(_.c)("Error info").t(eo())))):(m(2),void h({attached:o,extension:a}))},onClear:t}),submit:e,onSubmit:function(){var e,n;return ke.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,"csv"!==v.extension){r.next=9;break}return r.next=4,ke.a.awrap(Fa(v.attached));case 4:e=r.sent,h($c({},v,{read:e})),m(3),r.next=14;break;case 9:return r.next=11,ke.a.awrap(et(v.attached));case 11:n=r.sent,h($c({},v,{read:n})),m(4);case 14:r.next=21;break;case 16:r.prev=16,r.t0=r.catch(0),u({type:"error",text:Object(_.c)("Error notification").t(Zc())}),m(1),t();case 21:case"end":return r.stop()}}),null,null,[[0,16]])}}}if(3===d){var a=i.a.createElement(Et.a,{disabled:!O.length,type:"submit"},Object(_.c)("Action").t(Qc()));return{content:i.a.createElement($a,{file:v.read,vcardContacts:O,onSetVcardContacts:j}),submit:a,onSubmit:function(){return m(4)}}}if(4===d){var o=!w&&i.a.createElement(Ct.a,null,Object(_.c)("Action").t(qc())),s=i.a.createElement(Et.a,{loading:!w,type:"submit"},Object(_.c)("Action").t(Jc()));return{content:i.a.createElement(Vc,{isVcf:"vcf"===v.extension,file:v.read,vcardContacts:O,onSetVcardContacts:j,privateKey:n[0].privateKey,onFinish:function(){return ke.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.a.awrap(l());case 2:C(!0);case 3:case"end":return e.stop()}}))}}),close:o,submit:s,onSubmit:r.onClose}}if(5===d){var f=i.a.createElement(Et.a,{type:"submit"},Object(_.c)("Action").t(Xc()));return{content:i.a.createElement(Hc,{vcardContacts:O}),submit:f,onSubmit:function(){return ke.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.a.awrap(l());case 2:r.onClose();case 3:case"end":return e.stop()}}))}}}}(),P=k.content,N=Ot()(k,["content"]);return i.a.createElement(kt.a,gt()({title:a[d]},N,r),P)},mo=n("+Ln1"),po=n("z5T1"),bo=n("dAix"),vo=n("xsSi"),ho=n("x4CE"),go=n("Um+v"),yo=n("Y6df"),Oo=n("uqVu"),jo=n("rN/M"),Eo=n("4+6U"),xo=n("Se/U");function wo(){var e=X()(["Upload picture"]);return wo=function(){return e},e}var Co=function(e){var t=e.value,n=e.onChange;return i.a.createElement("div",null,t?i.a.createElement("img",{src:t}):i.a.createElement(It.a,{onClick:n},Object(_.c)("Action").t(wo())))};function ko(){var e=X()(["Extended address"]);return ko=function(){return e},e}function Po(){var e=X()(["Post office box"]);return Po=function(){return e},e}function No(){var e=X()(["Country"]);return No=function(){return e},e}function Do(){var e=X()(["Postal code"]);return Do=function(){return e},e}function Io(){var e=X()(["Region"]);return Io=function(){return e},e}function So(){var e=X()(["City"]);return So=function(){return e},e}function Ao(){var e=X()(["Street address"]);return Ao=function(){return e},e}var To=function(e){var t=e.value,n=e.onChange,r=Object(o.useState)(function(e){var t=Array.isArray(e)?e:e.split(",");return Array.from({length:7}).map((function(e,n){return t[n]||""}))}(t)),a=Z()(r,2),c=a[0],u=a[1],l=function(e){return function(t){var r=t.target,a=fe()(c);a[e]=r.value,u(a),n(a)}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mb1"},i.a.createElement(jo.a,{id:"street",value:c[2],placeholder:Object(_.c)("Label").t(Ao()),onChange:l(2)})),i.a.createElement("div",{className:"mb1"},i.a.createElement(jo.a,{id:"locality",value:c[3],placeholder:Object(_.c)("Label").t(So()),onChange:l(3)})),i.a.createElement("div",{className:"mb1"},i.a.createElement("label",{className:"small opacity-50",htmlFor:"region"}),i.a.createElement(jo.a,{id:"region",value:c[4],placeholder:Object(_.c)("Label").t(Io()),onChange:l(4)})),i.a.createElement("div",{className:"mb1"},i.a.createElement(jo.a,{id:"postalCode",value:c[5],placeholder:Object(_.c)("Label").t(Do()),onChange:l(5)})),i.a.createElement("div",{className:"mb1"},i.a.createElement(jo.a,{id:"country",value:c[6],placeholder:Object(_.c)("Label").t(No()),onChange:l(6)})),c[0]?i.a.createElement("div",{className:"mb1"},i.a.createElement(jo.a,{id:"postBox",value:c[0],placeholder:Object(_.c)("Label").t(Po()),onChange:l(0)})):null,c[1]?i.a.createElement("div",{className:"mb1"},i.a.createElement(jo.a,{id:"extended",value:c[1],placeholder:Object(_.c)("Label").t(ko()),onChange:l(1)})):null)},Mo=n("2PQF"),Lo=n("LJWS");function Ko(){var e=X()(["Upload picture"]);return Ko=function(){return e},e}function Ro(){var e=X()(["Upload picture"]);return Ro=function(){return e},e}function Fo(){var e=X()(["Image URL"]);return Fo=function(){return e},e}function Go(){var e=X()(["Add image URL"]);return Go=function(){return e},e}function Uo(){var e=X()(["Save"]);return Uo=function(){return e},e}function Bo(){var e=X()(["Image upload failed"]);return Bo=function(){return e},e}function zo(){var e=X()(["Edit image"]);return zo=function(){return e},e}var Vo=function(e){var t=e.url,n=e.onSubmit,r=e.onClose,a=Ot()(e,["url","onSubmit","onClose"]),c=Object(o.useState)(t),u=Z()(c,2),l=u[0],s=u[1],f=Object(_.c)("Title").t(zo()),d=Object(jt.a)().createNotification;return i.a.createElement(kt.a,gt()({title:f,onSubmit:function(){n(l),r()},submit:Object(_.c)("Action").t(Uo()),onClose:r},a),i.a.createElement(Wc.a,null,i.a.createElement(Qt.a,{htmlFor:"contactImageModal-input-url"},Object(_.c)("Label").t(Go())),i.a.createElement(Mo.a,null,i.a.createElement(jo.a,{id:"contactImageModal-input-url",value:l,onChange:function(e){var t=e.target;return s(t.value)},placeholder:Object(_.c)("Placeholder").t(Fo())}))),i.a.createElement(Wc.a,null,i.a.createElement(Qt.a,{htmlFor:"contactImageModal-input-file"},Object(_.c)("Label").t(Ro())),i.a.createElement(Mo.a,null,i.a.createElement(Nt.a,{id:"contactImageModal-input-file",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){var e;return ke.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke.a.awrap(Object(Lo.b)({original:a.result,maxWidth:180,maxHeight:180,finalMimeType:"image/jpeg",encoderOptions:1,bigResize:!0}));case 3:e=t.sent,n(e),r(),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(0),d({text:Object(_.c)("Error").t(Bo()),type:"error"}),t.t0;case 12:case"end":return t.stop()}}),null,null,[[0,8]])},a.readAsDataURL(t)}},Object(_.c)("Action").t(Ko())))))};Vo.defaultProps={url:""};var Wo=Vo,Yo=function(e){var t=e.field,n=e.value,r=e.uid,a=e.onChange,c=Ot()(e,["field","value","uid","onChange"]),o=Object(ee.a)().createModal,u=kr(),l=function(e){var t=e.target;return a({value:t.value,uid:r})};if("email"===t)return i.a.createElement(ho.a,gt()({value:n,placeholder:u.email,onChange:l},c));if("tel"===t)return i.a.createElement(go.a,gt()({value:n,placeholder:u.tel,onChange:l},c));if("adr"===t){return i.a.createElement(To,{value:n,onChange:function(e){return a({value:e,uid:r})}})}if("note"===t)return i.a.createElement(yo.a,gt()({value:n,placeholder:u.note,onChange:l},c));if("bday"===t||"anniversary"===t){var s=""===n?new Date:Object(Eo.a)(n);if(Object(xo.a)(s)){return i.a.createElement(Oo.a,gt()({placeholder:u[t],value:s,onChange:function(e){return a({value:e.toISOString(),uid:r})}},c))}}if("photo"===t||"logo"===t){return i.a.createElement(Co,gt()({value:n,onChange:function(){o(i.a.createElement(Wo,{url:n,onSubmit:function(e){return a({uid:r,value:e})}}))}},c))}return i.a.createElement(jo.a,gt()({value:n,placeholder:u[t],onChange:l},c))},Ho=function(e){var t=e.field,n=e.type,r=Ot()(e,["field","type"]),a=kr(),c=a[n]||n||a[t];return i.a.createElement("label",gt()({className:"capitalize"},r),c)},Xo=function(e){var t=e.field,n=e.uid,r=e.type,a=void 0===r?"":r,c=e.onChange,o=Oa(),u=Cr();return u.map((function(e){return e.value})).includes(t)?i.a.createElement(Qt.a,{className:"pt0 mr1"},i.a.createElement(Zt.a,{value:t,options:u,onChange:function(e){var t=e.target;return c({value:t.value,key:"field",uid:n})}})):"fn"!==t&&o[t].map((function(e){return e.value})).includes(a)?i.a.createElement(Qt.a,{className:"pt0 mr1"},i.a.createElement(Zt.a,{value:a,options:o[t],onChange:function(e){var t=e.target;return c({value:t.value,key:"type",uid:n})}})):i.a.createElement(Ho,{field:t,type:a})};function Jo(){var e=X()(["Delete"]);return Jo=function(){return e},e}function qo(){var e=X()(["Clear"]);return qo=function(){return e},e}function Qo(){var e=X()(["Edit"]);return Qo=function(){return e},e}var Zo=function(e){var t=e.property,n=e.onChange,r=e.onRemove,a=e.isOrderable,c=void 0!==a&&a,o=Object(ee.a)().createModal,u=t.field,l=t.uid,s=t.value,f=ze(Ve(t.type)),d=!["fn"].includes(u),m=["photo","logo"].includes(u)&&t.value,p=[["photo","logo"].includes(u)&&!!s&&{text:Object(_.c)("Action").t(Qo()),onClick:function(){o(i.a.createElement(Wo,{url:t.value,onSubmit:function(e){return n({uid:l,value:e})}}))}},m&&{text:Object(_.c)("Action").t(qo()),onClick:function(){n({uid:l,value:""})}},d&&{text:Object(_.c)("Action").t(Jo()),onClick:function(){r(t.uid)}}].filter(Boolean);return i.a.createElement("div",{className:"flex flex-nowrap flex-item-noshrink"},c?i.a.createElement(bo.a,{key:"icon"},i.a.createElement("div",{className:"cursor-row-resize mr0-5 flex flex-item-noshrink mt1r"},i.a.createElement(Dt.a,{name:"text-justify"}))):i.a.createElement("div",{className:"mr0-5 flex flex-items-center flex-item-noshrink"},i.a.createElement(Dt.a,{name:"text-justify nonvisible"})),i.a.createElement("div",{className:"flex flex-nowrap flex-items-center onmobile-flex-column w95"},i.a.createElement("span",{className:"w30 flex flex-nowrap mb1"},i.a.createElement(Xo,{field:u,type:f,uid:t.uid,onChange:n})),i.a.createElement("span",{className:"w50 mb1"},i.a.createElement("div",{className:"mr1"},i.a.createElement(Yo,{field:u,value:t.value,uid:t.uid,onChange:n}))),i.a.createElement("span",{className:"w20 mb1"},p.length>0&&i.a.createElement("div",{className:"flex flex-item-noshrink flex-items-start"},i.a.createElement(vo.a,{list:p})))))},_o=n("iCC2");function $o(){var e=X()(["Encrypted data with verified digital signature"]);return $o=function(){return e},e}var ei=function(e){var t=Object.assign({},e);return i.a.createElement(_o.a,gt()({},t,{title:Object(_.c)("Tooltip").t($o())}),i.a.createElement(Dt.a,{name:"lock",className:"flex flex-item-centered"}))};function ti(){var e=X()(["Add"]);return ti=function(){return e},e}function ni(){var e=X()(["Other information"]);return ni=function(){return e},e}function ri(){var e=X()(["Addresses"]);return ri=function(){return e},e}function ai(){var e=X()(["Phone numbers"]);return ai=function(){return e},e}function ci(){var e=X()(["Email addresses"]);return ci=function(){return e},e}function oi(){var e=X()(["Display name"]);return oi=function(){return e},e}var ii={fn:"contact",email:"email",tel:"phone",adr:"address",other:"info"},ui=function(e){var t=e.properties,n=e.field,r=e.onChange,a=e.onOrderChange,c=e.onAdd,u=e.onRemove,l={fn:Object(_.c)("Title").t(oi()),email:Object(_.c)("Title").t(ci()),tel:Object(_.c)("Title").t(ai()),adr:Object(_.c)("Title").t(ri()),other:Object(_.c)("Title").t(ni())},s=n?l[n]:l.other,f=n?ii[n]:ii.other,d=n?[n]:Ae,m=t.filter((function(e){var t=e.field;return d.includes(t)})),p=!d.includes("fn"),b=Object(o.useMemo)((function(){return m.map((function(e){return i.a.createElement(Zo,{key:e.uid,property:e,onChange:r,onRemove:u,onAdd:c,isOrderable:!!a})}))}),[m,r,u,c,!!a]),v=Object(o.useCallback)((function(e){var t=e.newIndex,r=e.oldIndex,c=Object(we.c)(m,r,t);a(n,c)}),[m,n]);return i.a.createElement("div",{className:"border-bottom mb1"},i.a.createElement("h3",{className:"mb1 flex flex-nowrap flex-items-center flex-item-noshrink"},i.a.createElement(Dt.a,{className:"mr0-5 flex-item-noshrink",name:f}),i.a.createElement("span",{className:"mr0-5"},s),!["fn","email"].includes(n)&&i.a.createElement(ei,{scrollContainerClass:"pm-modalContentInner",className:"flex flex-item-centered-vert flex-item-noshrink"})),a?i.a.createElement(mo.a,{helperClass:"row--orderable",onSortEnd:v,useDragHandle:!0},i.a.createElement("div",null,b.map((function(e,t){return i.a.createElement(po.a,{key:e.key,index:t},e)})))):i.a.createElement("div",null,b),p&&i.a.createElement("div",{className:"flex flex-nowrap flex-item-noshrink"},i.a.createElement("div",{className:"mr0-5 flex flex-items-center flex-item-noshrink"},i.a.createElement(Dt.a,{name:"text-justify nonvisible"})),i.a.createElement("div",{className:"flex flex-nowrap w95"},i.a.createElement(Et.a,{className:"mb1",onClick:c},Object(_.c)("Action").t(ti())))))},li=n("i9+t"),si=n("WjHO"),fi=n.n(si);function di(){var e=X()(["Upgrade ProtonMail"]);return di=function(){return e},e}function mi(){var e=X()(["Unlock access to encrypted contact details such as phone numbers and addresses with ProtonMail Plus."]);return mi=function(){return e},e}function pi(){var e=X()(["Upgrade to a paid plan"]);return pi=function(){return e},e}var bi=function(){var e=Object(_.c)("Title").t(pi());return i.a.createElement("div",{className:"rounded bg-global-altgrey color-white p1 mb1 flex"},i.a.createElement("div",{className:"flex-autogrid onmobile-flex-column w100"},i.a.createElement("div",{className:"flex-autogrid-item flex flex-column flex-spacebetween"},i.a.createElement("h4",null,e),i.a.createElement("div",{className:"mb2"},Object(_.c)("Info").t(mi())),i.a.createElement("div",null,i.a.createElement(Et.a,{onClick:function(){return Object(f.h)("/settings/subscription")}},Object(_.c)("Action").t(di())))),i.a.createElement("div",{className:"flex-autogrid-item flex flex-column flex-items-end"},i.a.createElement("img",{className:"h100",src:fi.a,alt:e,style:{maxHeight:"200px"}}))))};function vi(){var e=X()(["Email address, phone number and address at the top of their respective list are automatically set as the default information and will be displayed in the contact information's summary section."]);return vi=function(){return e},e}function hi(){var e=X()(["Save"]);return hi=function(){return e},e}function gi(){var e=X()(["Contact saved"]);return gi=function(){return e},e}function yi(){var e=X()(["Contact could not be saved"]);return yi=function(){return e},e}function Oi(){var e=X()(["Add new contact"]);return Oi=function(){return e},e}function ji(){var e=X()(["Edit contact details"]);return ji=function(){return e},e}function Ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wi=[{field:"fn",value:""},{field:"email",value:""}],Ci=Re,ki=Ke,Pi=Ge,Ni=Fe,Di=z.b.SINGLE_SUCCESS,Ii=[{text:Object(_.c)("Contact field label").t(er()),value:"fn"},{text:Object(_.c)("Contact field label").t($n()),value:"email"},{text:Object(_.c)("Contact field label").t(_n()),value:"tel"},{text:Object(_.c)("Contact field label").t(Zn()),value:"adr"},{text:Object(_.c)("Contact field label").t(Qn()),value:"photo"},{text:Object(_.c)("Contact field label").t(qn()),value:"org"},{text:Object(_.c)("Contact field label").t(Jn()),value:"bday"},{text:Object(_.c)("Contact field label").t(Xn()),value:"anniversary"},{text:Object(_.c)("Contact field label").t(Hn()),value:"title"},{text:Object(_.c)("Contact field label").t(Yn()),value:"role"},{text:Object(_.c)("Contact field label").t(Wn()),value:"member"},{text:Object(_.c)("Contact field label").t(Vn()),value:"note"},{text:Object(_.c)("Contact field label").t(zn()),value:"url"},{text:Object(_.c)("Contact field label").t(Bn()),value:"gender"},{text:Object(_.c)("Contact field label").t(Un()),value:"lang"},{text:Object(_.c)("Contact field label").t(Gn()),value:"tz"},{text:Object(_.c)("Contact field label").t(Fn()),value:"geo"},{text:Object(_.c)("Contact field label").t(Rn()),value:"logo"}].map((function(e){return e.value})),Si=Cr().map((function(e){return e.value})),Ai="contact-property",Ti=function(e){var t=e.contactID,n=e.properties,r=void 0===n?[]:n,a=e.onAdd,c=e.history,u=Ot()(e,["contactID","properties","onAdd","history"]),l=Object(ec.a)(),s=Object(jt.a)().createNotification,f=Object(Ft.a)(),d=Z()(f,2),m=d[0],p=d[1],b=Object(ae.b)(),v=Z()(b,1)[0],h=Object(F.a)().call,g=Object(ce.c)(v),y=Z()(g,2),O=y[0],j=y[1],E=Object(o.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.filter((function(e){var t=e.field;return Ii.includes(t)})).map((function(e){return xi({},e,{uid:Object(li.b)(Ai)})})):wi.map((function(e){return xi({},e,{uid:Object(li.b)(Ai)})}))}(r)),x=Z()(E,2),w=x[0],C=x[1],k=t?Object(_.c)("Title").t(ji()):Object(_.c)("Title").t(Oi()),P=function(e){C(w.filter((function(t){return t.uid!==e})))},N=function(e){return function(){if(!e){var t=Object(Ue.c)(0,Si.length-1);return C([].concat(fe()(w),[{field:Si[t],value:"",uid:Object(li.b)(Ai)}]))}C([].concat(fe()(w),[{field:e,value:"",uid:Object(li.b)(Ai)}]))}},D=function(e){var t=e.uid,n=e.value,r=e.key,a=void 0===r?"value":r,c=w.map((function(e){return e.uid===t?xi({},e,q()({},a,n)):e}));C(c)},I=Object(o.useCallback)((function(e,t){var n=w.filter((function(t){return t.field!==e}));n.unshift.apply(n,fe()(t)),C(n)}),[w]);return i.a.createElement(kt.a,gt()({loading:m||j,onSubmit:function(){return p(ke.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return e=r.filter((function(e){var t=e.field;return!Ii.includes(t)})),p.next=3,ke.a.awrap(jc([w.concat(e)],O[0]));case 3:return n=p.sent,o=xc(e)?Pi:Ni,p.next=7,ke.a.awrap(l(Object(lc.a)({Contacts:n,Overwrite:t?Ci:ki,Labels:o})));case 7:if(i=p.sent,f=Z()(i.Responses,1),d=f[0].Response,m=(d=void 0===d?{}:d).Code,b=d.Contact,v=(b=void 0===b?{}:b).ID,m===Di){p.next=17;break}return u.onClose(),p.abrupt("return",s({text:Object(_.c)("Error").t(yi()),type:"error"}));case 17:return p.next=19,ke.a.awrap(h());case 19:t||(a(),c.push("/contacts/".concat(v))),u.onClose(),s({text:Object(_.c)("Success").t(gi())});case 22:case"end":return p.stop()}})));var e,n,o,i,f,d,m,b,v},title:k,submit:Object(_.c)("Action").t(hi())},u),i.a.createElement(wt.a,null,Object(_.c)("Info").t(vi())),i.a.createElement(ui,{properties:w,field:"fn",onChange:D,onRemove:P}),i.a.createElement(ui,{properties:w,field:"email",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("email")}),v.hasPaidMail?i.a.createElement(i.a.Fragment,null,i.a.createElement(ui,{properties:w,field:"tel",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("tel")}),i.a.createElement(ui,{properties:w,field:"adr",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("adr")}),i.a.createElement(ui,{properties:w,onChange:D,onRemove:P,onAdd:N()})):i.a.createElement(bi,null))},Mi=n("7tJ6"),Li=n("qnyA"),Ki=n("/iWM"),Ri=n("YJ1i"),Fi=n("f6q+"),Gi=n("rhx2");function Ui(){var e=X()(["Add"]);return Ui=function(){return e},e}function Bi(){var e=X()(["No contacts added yet"]);return Bi=function(){return e},e}function zi(){var e=X()(["Add email address"]);return zi=function(){return e},e}function Vi(){var e=X()(["Color"]);return Vi=function(){return e},e}function Wi(){var e=X()(["Name"]);return Wi=function(){return e},e}function Yi(){var e=X()(["Name"]);return Yi=function(){return e},e}function Hi(){var e=X()(["Save"]);return Hi=function(){return e},e}function Xi(){var e=X()(["Contact group created"]);return Xi=function(){return e},e}function Ji(){var e=X()(["Contact group updated"]);return Ji=function(){return e},e}function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zi(){var e=X()(["Create new group"]);return Zi=function(){return e},e}function _i(){var e=X()(["Edit contact group"]);return _i=function(){return e},e}function $i(){var e=X()(["Delete"]);return $i=function(){return e},e}function eu(){var e=X()(["Action"]);return eu=function(){return e},e}function tu(){var e=X()(["Address"]);return tu=function(){return e},e}function nu(){var e=X()(["Name"]);return nu=function(){return e},e}var ru=function(e){var t=e.contactEmails,n=e.onDelete,r=[Object(_.c)("Table header").t(nu()),Object(_.c)("Table header").t(tu()),Object(_.c)("Table header").t(eu())];return i.a.createElement(Gt.a,{className:"noborder"},i.a.createElement(Li.a,{cells:r}),i.a.createElement(Ki.a,null,t.map((function(e){var t=e.ID,r=e.Name,a=e.Email,c=[i.a.createElement("div",{className:"ellipsis mw100",key:t,title:r},r),i.a.createElement("div",{className:"ellipsis mw100",key:t,title:a},a),i.a.createElement(Ri.a,{key:t,onClick:n(t)},Object(_.c)("Action").t($i()))];return i.a.createElement(Fi.a,{key:t,cells:c})}))))},au=function(e){return e.map((function(e){return e.ID}))},cu=function(e){var t=e.contactGroupID,n=Ot()(e,["contactGroupID"]),r=Object(o.useState)(!1),a=Z()(r,2),c=a[0],u=a[1],l=Object(F.a)().call,s=Object(ec.a)(),f=Object(jt.a)().createNotification,d=Object(re.a)(),m=Z()(d,1)[0],p=Object(te.a)(),b=Z()(p,1)[0],v=t&&m.find((function(e){return e.ID===t})),h=t&&b.filter((function(e){var n=e.LabelIDs;return(void 0===n?[]:n).includes(t)})),g=t?Object(_.c)("Title").t(_i()):Object(_.c)("Title").t(Zi()),y=Object(o.useState)({name:t?v.Name:"",color:t?v.Color:z.y[Object(Ue.c)(0,z.y.length-1)],contactEmails:t?h:[]}),O=Z()(y,2),j=O[0],E=O[1],x=j.contactEmails.map((function(e){return e.ID})),w=Object(we.d)(b,"Email").filter((function(e){var t=e.ID;return!x.includes(t)})).map((function(e){var t=e.ID,n=e.Email,r=e.Name;return{text:n===r?"<".concat(n,">"):"".concat(r," <").concat(n,">"),value:t}}));return Object(o.useEffect)((function(){w.length&&E(Qi({},j,{contactEmailID:w[0].value}))}),[j.contactEmails.length]),i.a.createElement(kt.a,gt()({onSubmit:function(){var e,r,a,c,o,i;return ke.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,u(!0),e={Name:j.name,Color:j.color},d.next=5,ke.a.awrap(s(t?Object(Mi.e)(t,e):Object(Mi.a)(e)));case 5:return r=d.sent,a=r.Label,c=(void 0===a?{}:a).ID,o=au(j.contactEmails),i=t?Object(we.b)(au(h),o):[],d.next=13,ke.a.awrap(Promise.all([o.length&&s(Object(lc.e)({LabelID:c,ContactEmailIDs:o})),i.length&&s(Object(lc.i)({LabelID:c,ContactEmailIDs:i}))].filter(Boolean)));case 13:return d.next=15,ke.a.awrap(l());case 15:n.onClose(),f({text:t?Object(_.c)("Notification").t(Ji()):Object(_.c)("Notification").t(Xi())}),d.next=23;break;case 19:throw d.prev=19,d.t0=d.catch(0),u(!1),d.t0;case 23:case"end":return d.stop()}}),null,null,[[0,19]])},loading:c,submit:Object(_.c)("Action").t(Hi()),title:g},n),i.a.createElement(Wc.a,null,i.a.createElement(Qt.a,{htmlFor:"contactGroupName"},Object(_.c)("Label for contact group name").t(Yi())),i.a.createElement(Mo.a,null,i.a.createElement(jo.a,{id:"contactGroupName",placeholder:Object(_.c)("Placeholder for contact group name").t(Wi()),value:j.name,onChange:function(e){var t=e.target;return E(Qi({},j,{name:t.value}))}}))),i.a.createElement(Wc.a,null,i.a.createElement(Qt.a,{htmlFor:"contactGroupColor"},Object(_.c)("Label for contact group color").t(Vi())),i.a.createElement(Mo.a,null,i.a.createElement(Gi.a,{selected:j.color,onChange:function(e){return function(){return E(Qi({},j,{color:e}))}}}))),w.length?i.a.createElement(Wc.a,null,i.a.createElement(Qt.a,{htmlFor:"contactGroupEmail"},Object(_.c)("Label").t(zi())),i.a.createElement(Mo.a,null,i.a.createElement(Zt.a,{id:"contactGroupEmail",value:j.contactEmailID,options:w,onChange:function(e){var t=e.target;return E(Qi({},j,{contactEmailID:t.value}))}}),j.contactEmails.length?null:i.a.createElement("div",{className:"mt1"},Object(_.c)("Info").t(Bi()))),i.a.createElement("div",{className:"ml1"},i.a.createElement(Et.a,{onClick:function(){var e=b.find((function(e){return e.ID===j.contactEmailID})),t=j.contactEmails.find((function(e){return e.ID===j.contactEmailID}));if(e&&!t){var n=fe()(j.contactEmails);n.push(e),E(Qi({},j,{contactEmails:n}))}}},Object(_.c)("Action").t(Ui())))):null,j.contactEmails.length?i.a.createElement(ru,{contactEmails:j.contactEmails,onDelete:function(e){return function(){var t=j.contactEmails.findIndex((function(t){return t.ID===e}));if(t>-1){var n=fe()(j.contactEmails);n.splice(t,1),E(Qi({},j,{contactEmails:n}))}}}}):null)},ou=function(e){var t=e.children,n=e.onClick,r=Ot()(e,["children","onClick"]);return i.a.createElement("label",{onClick:n},i.a.createElement("input",gt()({type:"checkbox",className:"item-checkbox sr-only"},r)),i.a.createElement("span",{className:"item-icon flex-item-noshrink rounded50 bg-white inline-flex"},i.a.createElement("span",{className:"mauto item-abbr"},t),i.a.createElement("span",{className:"item-icon-fakecheck mauto"},i.a.createElement(Dt.a,{name:"on",className:"item-icon-fakecheck-icon"}))))},iu=function(e){var t=e.name,n=e.color,r=Ot()(e,["name","color"]);return i.a.createElement(_o.a,gt()({title:t},r),i.a.createElement(Dt.a,{name:"contacts-groups",color:n}))},uu=function(e){var t=e.style,n=e.contactID,r=e.hasPaidMail,a=e.contactGroupsMap,c=e.contact,o=e.onClick,u=e.onCheck,l=c.ID,s=c.Name,f=c.LabelIDs,d=void 0===f?[]:f,m=c.emails,p=void 0===m?[]:m,b=c.isChecked;return i.a.createElement("div",{style:t,key:l,onClick:function(){return o(l)},className:Object(li.a)(["item-container item-contact cursor-pointer bg-global-white",n===l&&"item-is-selected"])},i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(ou,{checked:b,onChange:u,onClick:function(e){return e.stopPropagation()},"data-contact-id":l},Object(ue.e)(s)),i.a.createElement("div",{className:"flex-item-fluid pl1 flex flex-column flex-spacebetween conversation-titlesender"},i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:Object(li.a)(["flex flex-item-fluid w0",d.length&&"pr1"])},i.a.createElement("span",{className:"bold inbl mw100 ellipsis"},s)),r&&d.length?i.a.createElement("div",null,d.map((function(e){if(!a[e])return null;var t=a[e],n=t.Color,r=t.Name;return i.a.createElement(iu,{scrollContainerClass:"contacts-list",key:e,name:r,color:n})}))):null),i.a.createElement("div",{className:"mw100 ellipsis",title:p.join(", ")},Object(ue.a)(p)))))};function lu(){var e=X()(["You can either update your search query or ","."]);return lu=function(){return e},e}function su(){var e=X()(["No results found"]);return su=function(){return e},e}function fu(){var e=X()(["Clear it"]);return fu=function(){return e},e}function du(){var e=X()(["You can "," to add a contact."]);return du=function(){return e},e}function mu(){var e=X()(["Your contact group is empty"]);return mu=function(){return e},e}function pu(){var e=X()(["Edit your group"]);return pu=function(){return e},e}function bu(){var e=X()(["You can either "," or "," from a file."]);return bu=function(){return e},e}function vu(){var e=X()(["Your address book is empty"]);return vu=function(){return e},e}function hu(){var e=X()(["Import contact"]);return hu=function(){return e},e}function gu(){var e=X()(["Add a contact"]);return gu=function(){return e},e}function yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ou,ju=Object(ut.a)((function(e){var t=e.totalContacts,n=e.totalContactsInGroup,r=e.contacts,a=e.contactGroupsMap,c=e.onCheck,u=e.onClearSearch,l=e.onClearSelection,s=e.user,f=e.userKeysList,d=e.loadingUserKeys,m=e.history,p=e.contactID,b=e.contactGroupID,v=e.location,h=e.isDesktop,g=void 0===h||h,y=Object(o.useRef)(null),O=Object(o.useRef)(null),j=Object(o.useState)(),E=Z()(j,2),x=E[0],w=E[1],C=Object(ee.a)().createModal,k=function(e){var t=e.target,n=e.nativeEvent.shiftKey,a=t.getAttribute("data-contact-id"),o=[a];if(x&&n){var i=r.findIndex((function(e){return e.ID===a})),u=r.findIndex((function(e){return e.ID===x}));o.push.apply(o,fe()(r.slice(Math.min(i,u),Math.max(i,u)+1).map((function(e){return e.ID}))))}w(a),c(o,t.checked)},P=function(e){l(),m.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yu(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v,{pathname:"/contacts/".concat(e)}))};if(Object(o.useEffect)((function(){var e=setTimeout((function(){if(p&&t){var e=r.findIndex((function(e){var t=e.ID;return p===t}));y.current.scrollToRow(e)}}),200);return function(){clearTimeout(e)}}),[p]),!t){var N=i.a.createElement("button",{key:"add",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){C(i.a.createElement(Ti,{history:m,onAdd:u}))}},Object(_.c)("Action").t(gu())),D=i.a.createElement("button",{key:"import",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){C(i.a.createElement(fo,{userKeysList:f}))},disabled:d},Object(_.c)("Action").t(hu()));return i.a.createElement("div",{className:"p2 flex w100"},i.a.createElement(ot.a,{title:Object(_.c)("Info message").t(vu()),url:pt.a,className:"mtauto mbauto"},i.a.createElement("div",{className:"flex flex-items-center"},Object(_.c)("Actions message").jt(bu(),N,D))))}if(!r.length){if(b&&!n){var I=i.a.createElement("button",{key:"add",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){return function(e){C(i.a.createElement(cu,{contactGroupID:e}))}(b)}},Object(_.c)("Action").t(pu()));return i.a.createElement("div",{className:"p2 aligncenter w100"},i.a.createElement(ot.a,{title:Object(_.c)("Info message").t(mu()),url:pt.a},i.a.createElement("div",{className:"flex flex-items-center"},Object(_.c)("Actions message").jt(du(),I))))}var S=i.a.createElement(it.a,{key:"add",onClick:u,className:"ml0-25 bold"},Object(_.c)("Action").t(fu()));return i.a.createElement("div",{className:"p2 aligncenter w100"},i.a.createElement(ot.a,{title:Object(_.c)("Info message").t(su()),url:vt.a},i.a.createElement("div",{className:"flex flex-items-center"},Object(_.c)("Actions message").jt(lu(),S))))}return i.a.createElement("div",{ref:O,className:"items-column-list".concat(g?"":"--mobile")},i.a.createElement(dt.a,null,(function(e){var t=e.height,n=e.width;return i.a.createElement(st.a,{className:"contacts-list no-outline",ref:y,rowRenderer:function(e){var t=e.index,n=e.style,c=e.key;return i.a.createElement(uu,{style:n,key:c,contactID:p,hasPaidMail:!!s.hasPaidMail,contactGroupsMap:a,contact:r[t],onClick:P,onCheck:k})},rowCount:r.length,height:t,width:n,rowHeight:70})})))})),Eu=n("3rzI"),xu=n("F/2c"),wu=function(e){var t=Object(o.useContext)(W),n=Object(ec.a)(),r=Object(o.useCallback)((function(){return n(Object(lc.d)(e)).then((function(e){return e.Contact}))}),[]);return Object(xu.a)(t,e,r)},Cu=n("FaOd");function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ku(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nu=z.k.CLEAR_TEXT,Du=z.k.ENCRYPTED_AND_SIGNED,Iu=z.k.ENCRYPTED,Su=z.k.SIGNED,Au=(Ou={},q()(Ou,Du,(function(e,t){var n,r,a,c,o,i,u,l,s,f;return ke.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return n=e.Data,r=e.Signature,a=t.publicKeys,c=t.privateKeys,d.prev=2,d.next=5,ke.a.awrap(Promise.all([Object(dc.d)(n),Object(dc.e)(r)]));case 5:return o=d.sent,i=Z()(o,2),u=i[0],l=i[1],d.next=11,ke.a.awrap(Object(Cu.a)({message:u,privateKeys:c,publicKeys:a,armor:!0,signature:l}));case 11:if(s=d.sent,f=s.data,1===s.verified){d.next=16;break}return d.abrupt("return",{data:f,error:1});case 16:return d.abrupt("return",{data:f});case 19:return d.prev=19,d.t0=d.catch(2),d.abrupt("return",{error:2});case 22:case"end":return d.stop()}}),null,null,[[2,19]])})),q()(Ou,Su,(function(e,t){var n,r,a,c,o;return ke.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.Data,r=e.Signature,a=t.publicKeys,i.prev=2,i.next=5,ke.a.awrap(Object(dc.e)(r));case 5:return c=i.sent,i.next=8,ke.a.awrap(Object(dc.i)({message:Object(dc.a)(n),publicKeys:a,signature:c}));case 8:if(o=i.sent,1===o.verified){i.next=12;break}return i.abrupt("return",{data:n,error:1});case 12:return i.abrupt("return",{data:n});case 15:return i.prev=15,i.t0=i.catch(2),i.abrupt("return",{error:2});case 18:case"end":return i.stop()}}),null,null,[[2,15]])})),q()(Ou,Iu,(function(e,t){var n,r,a,c;return ke.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.Data,r=t.privateKeys,o.prev=2,o.next=5,ke.a.awrap(Object(dc.d)(n));case 5:a=o.sent,o.next=11;break;case 8:return o.prev=8,o.t0=o.catch(2),o.abrupt("return",{error:2});case 11:return o.prev=11,o.next=14,ke.a.awrap(Object(Cu.a)({message:a,privateKeys:r,armor:!0}));case 14:return c=o.sent,o.abrupt("return",{data:c});case 18:return o.prev=18,o.t1=o.catch(11),o.abrupt("return",{error:4});case 21:case"end":return o.stop()}}),null,null,[[2,8],[11,18]])})),q()(Ou,Nu,(function(e){return{data:e.Data}})),Ou),Tu=function(e,t){var n,r,a,c,o,i,u,l;return ke.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.publicKeys,r=t.privateKeys,a=e.Cards,s.next=4,ke.a.awrap(Promise.all(a.map((function(e){return ke.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(Au[e.Type]){t.next=2;break}return t.abrupt("return",{error:2});case 2:return t.abrupt("return",Au[e.Type](e,{publicKeys:n,privateKeys:r}));case 3:case"end":return t.stop()}}))}))));case 4:return c=s.sent,o=c.map((function(e,t){return[Du,Iu].includes(a[t].Type)&&e.data?Pu({},e,{data:e.data.replace(/\nUID:.*\n/i,"\n")}):e})),i=o.reduce((function(e,t){var n=t.data,r=t.error;return r&&e.errors.push(r),n&&e.vcards.push(n),e}),{vcards:[],errors:[]}),u=i.vcards,l=i.errors,s.abrupt("return",{properties:ve(_e(u.map(Qe))),errors:l});case 8:case"end":return s.stop()}}))},Mu=n("fa3+");function Lu(){var e=X()(["Learn more"]);return Lu=function(){return e},e}function Ku(){var e=X()(["Error: the encrypted content failed decryption and cannot be read."]);return Ku=function(){return e},e}function Ru(){var e=X()(["Learn more"]);return Ru=function(){return e},e}function Fu(){var e=X()(["Error: the encrypted content failed decryption and cannot be read."]);return Fu=function(){return e},e}function Gu(){var e=X()(["Learn more"]);return Gu=function(){return e},e}function Uu(){var e=X()(["Warning: the verification of this contact's signature failed."]);return Uu=function(){return e},e}var Bu=function(e){var t=e.errors;return t.includes(1)?i.a.createElement("div",{className:"bg-global-attention p1"},i.a.createElement(Dt.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object(_.c)("Warning").t(Uu())),i.a.createElement(Mu.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object(_.c)("Link").t(Gu()))):t.includes(2)?i.a.createElement("div",{className:"bg-global-warning p1"},i.a.createElement(Dt.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object(_.c)("Warning").t(Fu())),i.a.createElement(Mu.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object(_.c)("Link").t(Ru()))):t.includes(4)?i.a.createElement("div",{className:"bg-global-warning p1"},i.a.createElement(Dt.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object(_.c)("Warning").t(Ku())),i.a.createElement(Mu.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object(_.c)("Link").t(Lu()))):null};Bu.defaultProps={errors:[]};var zu=Bu,Vu=n("0Zqm"),Wu=n("D5Se"),Yu=n("1s5H");function Hu(){var e=X()(["Load photo"]);return Hu=function(){return e},e}var Xu=function(e){var t=e.photo,n=e.name,r=Object(o.useState)(!Object(Yu.d)(t)),a=Z()(r,2),c=a[0],u=a[1],l=Object(o.useState)({src:t}),s=Z()(l,2),f=s[0],d=s[1],m=Object(Wu.a)(),p=Z()(m,2),b=p[0].ShowImages,v=p[1],h=Object(Ft.a)(!0),g=Z()(h,2),y=g[0],O=g[1],j=v||y,E=b&z.V.REMOTE||c;if(Object(o.useEffect)((function(){if(t&&E){var e,n,r,a,c;O(ke.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ke.a.awrap(Object(Lo.d)(t));case 2:if(e=o.sent,n=e.src,r=e.width,a=e.height,!(r<=180&&a<=180)){o.next=8;break}return o.abrupt("return",d({src:n,width:r,height:a,isSmall:!0}));case 8:return o.next=10,ke.a.awrap(Object(Lo.b)({original:t,maxWidth:180,maxHeight:180,bigResize:!0}));case 10:c=o.sent,d({src:c});case 12:case"end":return o.stop()}})).catch(Ue.b))}}),[t,E]),!t)return i.a.createElement("div",{className:"rounded50 bordered bg-white ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("span",{className:"mauto color-global-border h1"},Object(ue.e)(n))));if(E){if(j)return i.a.createElement(ie.a,null);var x={backgroundImage:"url(".concat(f.src,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat"};return f.isSmall?i.a.createElement("div",{className:"rounded50 ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("div",{className:"mbauto mtauto center",style:{width:"".concat(f.width,"px")}},i.a.createElement("div",{className:"rounded50 ratio-container-square",style:x},i.a.createElement("span",{className:"inner-ratio-container"}))))):i.a.createElement("div",{className:"rounded50 ratio-container-square",style:x},i.a.createElement("span",{className:"inner-ratio-container"}))}return i.a.createElement("div",{className:"rounded50 bordered bg-white ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("span",{className:"mauto color-global-border"},i.a.createElement(It.a,{onClick:function(){return u(!0)}},Object(_.c)("Action").t(Hu())))))},Ju=(n("Cq9y"),function(e){var t=e.properties,n=e.leftBlockWidth,r=void 0===n?"w30":n,a=Object(ae.b)(),c=Z()(a,1)[0].hasPaidMail,o=Ee(t,"photo"),u=Ee(t,"fn"),l=Ee(t,"email"),s=Ee(t,"tel"),f=Ee(t,"adr"),d=Ee(t,"org"),m=[l&&{icon:"email",component:i.a.createElement("a",{href:"mailto:".concat(l),title:l},l)},c&&s&&{icon:"phone",component:i.a.createElement("a",{href:"tel:".concat(s)},s)},c&&f&&{icon:"address",component:We(f)},c&&d&&{icon:"organization",component:d}].filter(Boolean);return i.a.createElement("div",{className:"contactsummary-container flex flex-nowrap p1 mb1 border-bottom"},i.a.createElement("div",{className:Object(li.a)(["aligncenter contactsummary-photo-container",r])},i.a.createElement(Xu,{photo:o,name:u})),i.a.createElement("div",{className:"pl1"},i.a.createElement("h2",{className:"mb0-5 ellipsis"},u),i.a.createElement("ul",{className:"unstyled m0"},m.map((function(e){var t=e.icon,n=e.component;return i.a.createElement("li",{key:t,className:"flex flex-nowrap flex-items-center mb0-5"},i.a.createElement(Dt.a,{name:t,className:"mr0-5"}),i.a.createElement("span",{className:"ellipsis"},n))})))))}),qu=n("NTy5"),Qu=n("SJRE"),Zu=n("o4nY"),_u=n("+QFM"),$u=n("sWYD"),el=n("voWS"),tl=n("Xksw"),nl=n("wJ4K"),rl=n("TQRW");function al(){var e=X()(["Please select which email address or addresses to add to this group."]);return al=function(){return e},e}function cl(){var e=X()(["Add to group"]);return cl=function(){return e},e}function ol(){var e=X()(["Apply"]);return ol=function(){return e},e}function il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?il(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ll=function(e){var t=e.contacts,n=e.onSubmit,r=Ot()(e,["contacts","onSubmit"]),a=Object(te.a)(),c=Z()(a,1)[0],u=Object(o.useState)(t.map((function(e){return ul({},e,{contactEmails:c.filter((function(t){return t.ContactID===e.ID})).map((function(e){return ul({},e,{isChecked:!0})}))})}))),l=Z()(u,2),s=l[0],f=l[1],d=function(e,t){return function(n){var r=n.target,a=fe()(s),c=s.findIndex((function(t){return t.ID===e})),o=s[c].contactEmails.findIndex((function(e){return e.ID===t}));a[c].contactEmails[o].isChecked=r.checked,f(a)}};return i.a.createElement(kt.a,gt()({submit:Object(_.c)("Action").t(ol()),title:Object(_.c)("Title").t(cl()),onSubmit:function(){var e=s.reduce((function(e,t){return t.contactEmails.forEach((function(t){var n=t.isChecked,r=Ot()(t,["isChecked"]);n&&e.push(r)})),e}),[]);n(e),r.onClose()}},r),i.a.createElement(wt.a,null,Object(_.c)("Info").t(al())),s.filter((function(e){var t=e.contactEmails;return(void 0===t?[]:t).length>1})).map((function(e){var t=e.ID,n=e.Name,r=e.contactEmails,a=void 0===r?[]:r;return i.a.createElement(Wc.a,{key:t,className:"border-bottom"},i.a.createElement(Qt.a,{className:"bold pt0"},n),i.a.createElement(Mo.a,{className:"flex flex-column w100"},a.map((function(e){var n=e.ID,r=e.Email,a=e.isChecked;return i.a.createElement("label",{key:n,className:"mb1",htmlFor:n},i.a.createElement(qt.a,{id:n,checked:a,className:"mr0-5",onChange:d(t,n)}),i.a.createElement("span",null,r))}))))})))},sl=n("CP+6"),fl=function(e){var t=e.buttonRef,n=e.caretClassName,r=void 0===n?"":n,a=e.children,c=e.isOpen,o=Ot()(e,["buttonRef","caretClassName","children","isOpen"]);return i.a.createElement("button",gt()({type:"button",role:"button",ref:t},o),a,i.a.createElement(sl.a,{isOpen:c,className:Object(li.a)(["ml0-25 expand-caret mtauto mbauto",r])}))};function dl(){var e=X()(["Apply"]);return dl=function(){return e},e}function ml(){var e=X()(["Filter groups"]);return ml=function(){return e},e}function pl(){var e=X()(["Create a new contact group"]);return pl=function(){return e},e}function bl(){var e=X()(["Add to group"]);return bl=function(){return e},e}function vl(){var e=X()(["Contact group apply"]);return vl=function(){return e},e}function hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var gl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.reduce((function(e,n){var r=n.ContactID;if(e.duplicate[r]=(e.duplicate[r]||0)+1,2===e.duplicate[r]){var a=t.find((function(e){return e.ID===r}));e.contacts.push(a)}return e}),{contacts:[],duplicate:Object.create(null)})},yl=function(e){var t=e.children,n=e.className,r=e.contactEmails,a=e.disabled,c=e.forToolbar,u=void 0!==c&&c,l=Object(o.useState)(""),s=Z()(l,2),f=s[0],d=s[1],m=Object(Ft.a)(),p=Z()(m,2),b=p[0],v=p[1],h=Object(tl.a)(),g=h.anchorRef,y=h.isOpen,O=h.toggle,j=h.close,E=Object(jt.a)().createNotification,x=Object(F.a)().call,w=Object(ec.a)(),C=Object(ee.a)().createModal,k=Object(ne.a)(),P=Z()(k,1)[0],N=Object(re.a)(),D=Z()(N,1)[0],I=Object(o.useState)(Object.create(null)),S=Z()(I,2),A=S[0],T=S[1],M=Object(o.useState)(Object(li.b)("contactGroupDropdown")),L=Z()(M,1)[0],K=function(e){return function(t){var n=t.target;return T(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},A,q()({},e,+n.checked)))}};Object(o.useEffect)((function(){y&&T(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length&&e.length?e.reduce((function(e,n){var r=n.ID,a=t.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)}));return e[r]=a.length?t.length===a.length?1:2:0,e}),Object.create(null)):Object.create(null)}(D,r))}),[D,r,y]);var R=Object(o.useMemo)((function(){if(!Array.isArray(D))return[];var e=Object(ue.g)(f);return e.length?D.filter((function(t){var n=t.Name;return Object(ue.g)(n).includes(e)})):D}),[f,D]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(fl,{caretClassName:u?"toolbar-icon":"",className:n,disabled:a,buttonRef:g,isOpen:y,onClick:O},t),i.a.createElement(nl.a,{id:"contact-group-dropdown",isOpen:y,anchorRef:g,onClose:j,autoClose:!1},i.a.createElement("div",{className:"flex flex-spacebetween pt1 pl1 pr1 mb1"},i.a.createElement("strong",null,Object(_.c)("Label").t(bl())),i.a.createElement(_o.a,{title:Object(_.c)("Info").t(pl())},i.a.createElement(Ri.a,{className:"pm-button--primary pm-button--for-icon",onClick:function(){C(i.a.createElement(cu,null)),j()}},i.a.createElement(Dt.a,{name:"contacts-groups",fill:"light"}),"+"))),i.a.createElement("div",{className:"pl1 pr1 mb1"},i.a.createElement(rl.a,{value:f,onChange:d,autoFocus:!0,placeholder:Object(_.c)("Placeholder").t(ml())})),i.a.createElement("div",{className:"mb1 dropDown-content dropDown-content--narrow"},i.a.createElement("ul",{className:"unstyled m0 pl1 pr1 dropDown-contentInner"},R.map((function(e){var t=e.ID,n=e.Name,r=e.Color,a="".concat(L).concat(t);return i.a.createElement("li",{key:t,className:"flex flex-nowrap border-bottom border-bottom--dashed pt0-5 pb0-5"},i.a.createElement("label",{htmlFor:a,className:"flex flex-item-fluid flex-nowrap"},i.a.createElement(Dt.a,{name:"contacts-groups",className:"mr0-5 mtauto mbauto flex-item-noshrink",color:r}),i.a.createElement("span",{className:"ellipsis flex-item-fluid",title:n},n)),i.a.createElement(qt.a,{className:"flex flex-item-noshrink mtauto mbauto",id:a,checked:1===A[t],indeterminate:2===A[t],onChange:K(t)}))})))),i.a.createElement("div",{className:"aligncenter mb1"},i.a.createElement(Ri.a,{loading:b,className:"pm-button--primary",onClick:function(){return v(ke.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=fe()(r),t=gl(r,P),!(n=t.contacts).length){c.next=6;break}return c.next=5,ke.a.awrap(new Promise((function(e,t){C(i.a.createElement(ll,{contacts:n,onSubmit:e,onClose:t}))})));case 5:e=c.sent;case 6:return a=Object.entries(A),c.next=9,ke.a.awrap(Promise.all(a.map((function(t){var n=Z()(t,2),r=n[0],a=n[1];if(2===a)return Promise.resolve();if(1===a){var c=e.filter((function(e){var t=e.LabelIDs;return!(void 0===t?[]:t).includes(r)})).map((function(e){return e.ID}));return c.length?w(Object(lc.e)({LabelID:r,ContactEmailIDs:c})):Promise.resolve()}var o=e.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)})).map((function(e){return e.ID}));return o.length?w(Object(lc.i)({LabelID:r,ContactEmailIDs:o})):Promise.resolve()}))));case 9:return c.next=11,ke.a.awrap(x());case 11:E({text:Object(_.c)("Info").ngettext(Object(_.msgid)(vl()),"Contact groups apply",a.length)}),j();case 13:case"end":return c.stop()}})));var e,t,n,a}},Object(_.c)("Action").t(dl())))))},Ol=n("qbag"),jl=n("U9R1"),El=n("Hvmf"),xl=n("FilX"),wl=n("jHUz"),Cl=n("qrfN"),kl=z.R.TYPE_INTERNAL,Pl=z.x.ENABLE_ENCRYPTION,Nl=function(e){return e.RecipientType===kl},Dl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.reduce((function(e,r){var a=r.getFingerprint();return e[Object(le.a)({isVerificationOnly:n.has(a),isNotTrusted:!t.has(a)})].push(r),e}),Array.from({length:4}).map((function(){return[]}))).flat()},Il=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.reduce((function(e,r){var a=r.getFingerprint();return e[Object(le.a)({cannotSend:t.has(a)||n.has(a)})].push(r),e}),Array.from({length:2}).map((function(){return[]}))).flat()},Sl=function(e){var t,n,r,a,c;return ke.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=+Object(Cl.a)(),n=e.getCreationTime(),o.next=4,ke.a.awrap(e.getExpirationTime("encrypt"));case 4:return r=o.sent,a=!(n<=t&&t<=r),o.next=8,ke.a.awrap(e.isRevoked());case 8:return c=o.sent,o.abrupt("return",{isExpired:a,isRevoked:c});case 10:case"end":return o.stop()}}))},Al=n("0BWK");function Tl(){var e=X()(["Plain text"]);return Tl=function(){return e},e}function Ml(){var e=X()(["Automatic"]);return Ml=function(){return e},e}var Ll=function(e){var t=e.value,n=e.onChange,r=e.disabled,a=[{text:Object(_.c)("MIME type").t(Ml()),value:""},{text:Object(_.c)("MIME type").t(Tl()),value:z.D.PLAINTEXT}];return i.a.createElement(Zt.a,{value:t,options:a,disabled:r,onChange:function(e){var t=e.target;return n(t.value)}})},Kl=n("UPgO"),Rl=n("Y/Ll");function Fl(){var e=X()(["Use global default (",")"]);return Fl=function(){return e},e}var Gl=function(e){var t=e.value,n=e.onChange,r=Object(Wu.a)(),a=Z()(r,2),c=a[0].PGPScheme,o=a[1],u=c===z.K.SEND_PGP_INLINE?"PGP/Inline":"PGP/MIME",l=[{value:"",text:Object(_.c)("Default encryption scheme").t(Fl(),u)},{value:"pgp-mime",text:"PGP/MIME"},{value:"pgp-inline",text:"PGP/Inline"}];return i.a.createElement(Zt.a,{options:l,disabled:o,value:t,onChange:function(e){var t=e.target;return n(t.value)}})},Ul=n("Cphr"),Bl=n("l+59");function zl(){var e=X()(["This key is assigned to ",""]);return zl=function(){return e},e}var Vl=function(e){var t,n,r,a=e.publicKey,c=e.email,o=Ot()(e,["publicKey","email"]),u=i.a.createElement(Dt.a,gt()({name:"attention",fill:"attention"},o)),l=(t=c,n=a.users,!(r=(void 0===n?[]:n).reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.userId,r=void 0===n?{}:n;if(!r||!r.userid)return e;var a=/<([^>]*)>/.exec(r.userid)||[],c=Z()(a,2),o=c[1],i=void 0===o?r.userid:o;return e.push(i),e}),[])).includes(t)&&r);if(l){var s=l.join(", ");return i.a.createElement(_o.a,{title:Object(_.c)("PGP key warning").t(zl(),s)},u)}return null};function Wl(){var e=X()(["Expired"]);return Wl=function(){return e},e}function Yl(){var e=X()(["Revoked"]);return Yl=function(){return e},e}function Hl(){var e=X()(["Trusted"]);return Hl=function(){return e},e}function Xl(){var e=X()(["WKD"]);return Xl=function(){return e},e}function Jl(){var e=X()(["Verification only"]);return Jl=function(){return e},e}function ql(){var e=X()(["Active"]);return ql=function(){return e},e}function Ql(){var e=X()(["Remove"]);return Ql=function(){return e},e}function Zl(){var e=X()(["Untrust"]);return Zl=function(){return e},e}function _l(){var e=X()(["Trust"]);return _l=function(){return e},e}function $l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ts(){var e=X()(["Use for sending"]);return ts=function(){return e},e}function ns(){var e=X()(["Download"]);return ns=function(){return e},e}function rs(){var e=X()(["Actions"]);return rs=function(){return e},e}function as(){var e=X()(["Status"]);return as=function(){return e},e}function cs(){var e=X()(["Type"]);return cs=function(){return e},e}function os(){var e=X()(["Expires"]);return os=function(){return e},e}function is(){var e=X()(["Created"]);return is=function(){return e},e}function us(){var e=X()(["Fingerprint"]);return us=function(){return e},e}var ls=function(e){var t=e.model,n=e.setModel,r=Object(o.useState)([]),a=Z()(r,2),c=a[0],u=a[1],l=Object(oe.a)(),s=l.isNarrow,f=l.isTinyMobile,d=t.keys.api.length;return Object(o.useEffect)((function(){var e,n,r;ke.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.isPGPInternal?fe()(t.keys.api):[].concat(fe()(t.keys.api),fe()(t.keys.pinned)),n=Object(we.f)(e,(function(e){return e.getFingerprint()})),a.next=4,ke.a.awrap(Promise.all(n.map((function(e,n){var r,a,c,o,i,u,l,s,f,m,p,b,v,h,g;return ke.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,r=e.getFingerprint(),a=e.getCreationTime(),y.next=5,ke.a.awrap(e.getExpirationTime("encrypt"));case 5:return c=y.sent,o=e.getAlgorithmInfo(),i=Object(Bl.a)(o),u=t.trustedFingerprints.has(r),l=t.expiredFingerprints.has(r),s=t.revokedFingerprints.has(r),f=t.verifyOnlyFingerprints.has(r),m=!n&&!l&&!s&&!f&&(!!d||t.encrypt),p=t.isPGPExternal&&n<d,b=n>=d,v=!!n&&!l&&!s&&!f&&(n<d?u:!d&&t.encrypt),h=!u&&!b,g=u&&!b,y.abrupt("return",{publicKey:e,fingerprint:r,algo:i,creationTime:a,expirationTime:c,isActive:m,isWKD:p,isExpired:l,isRevoked:s,isTrusted:u,isVerificationOnly:f,isUploaded:b,canBeActive:v,canBeTrusted:h,canBeUntrusted:g});case 21:return y.prev=21,y.t0=y.catch(0),y.abrupt("return",!1);case 24:case"end":return y.stop()}}),null,null,[[0,21]])}))));case 4:r=a.sent,u(r.filter(Boolean));case 6:case"end":return a.stop()}}))}),[t.keys,t.trustedFingerprints,t.encrypt]),i.a.createElement(Gt.a,{className:"pm-simple-table--has-actions"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{scope:"col",className:"ellipsis"},Object(_.c)("Table header").t(us())),!s&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object(_.c)("Table header").t(is())),!f&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object(_.c)("Table header").t(os())),!s&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object(_.c)("Table header").t(cs())),i.a.createElement("th",{scope:"col",className:"ellipsis"},Object(_.c)("Table header").t(as())),i.a.createElement("th",{scope:"col",className:Object(li.a)(["ellipsis",s&&"w40"])},Object(_.c)("Table header").t(rs())))),i.a.createElement(Ki.a,null,c.map((function(e){var r=e.fingerprint,a=e.algo,c=e.creationTime,o=e.expirationTime,u=e.isActive,l=e.isWKD,d=e.publicKey,m=e.isExpired,p=e.isRevoked,b=e.isTrusted,v=e.isVerificationOnly,h=e.isUploaded,g=e.canBeActive,y=e.canBeTrusted,O=e.canBeUntrusted,j=new Date(c),E=new Date(o),x=[{text:Object(_.c)("Action").t(ns()),onClick:function(){var e,n;return ke.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e=new Blob([d.armor()],{type:"data:text/plain;charset=utf-8;"}),n="publickey - ".concat(t.email," - 0x").concat(r.slice(0,8).toUpperCase(),".asc"),Object(Vu.a)(e,n);case 3:case"end":return a.stop()}}))}},g&&{text:Object(_.c)("Action").t(ts()),onClick:function(){var e=t.keys.api.findIndex((function(e){return e.getFingerprint()===r})),a=t.keys.pinned.findIndex((function(e){return e.getFingerprint()===r})),c=-1!==e?Object(we.c)(t.keys.api,e,0):t.keys.api,o=-1!==a?Object(we.c)(t.keys.pinned,a,0):t.keys.pinned;n(es({},t,{keys:{api:c,pinned:o}}))}},y&&{text:Object(_.c)("Action").t(_l()),onClick:function(){var e=new Set(t.trustedFingerprints);e.add(r),n(es({},t,{trustedFingerprints:e}))}},O&&{text:Object(_.c)("Action").t(Zl()),onClick:function(){var e=new Set(t.trustedFingerprints);e.delete(r),n(es({},t,{trustedFingerprints:e}))}},h&&{text:Object(_.c)("Action").t(Ql()),onClick:function(){var e=new Set(t.trustedFingerprints),a=new Set(t.expiredFingerprints),c=new Set(t.revokedFingerprints);e.delete(r),a.delete(r),c.delete(r),n(es({},t,{trustedFingerprints:e,expiredFingerprints:a,revokedFingerprints:c,keys:es({},t.keys,{pinned:t.keys.pinned.filter((function(e){return e.getFingerprint()!==r}))})}))}}].filter(Boolean),w=[i.a.createElement("div",{key:r,title:r,className:"flex flex-nowrap"},i.a.createElement(Vl,{className:"mr0-5 flex-item-noshrink",publicKey:d,email:t.email}),i.a.createElement("span",{className:"flex-item-fluid ellipsis"},r)),!s&&(Object(xo.a)(j)?Object($u.a)(j,"PP",{locale:el.a}):"-"),!f&&(Object(xo.a)(E)?Object($u.a)(E,"PP",{locale:el.a}):"-"),!s&&a,i.a.createElement(i.a.Fragment,{key:r},u?i.a.createElement(Ul.a,null,Object(_.c)("Key badge").t(ql())):null,v?i.a.createElement(Ul.a,{type:"warning"},Object(_.c)("Key badge").t(Jl())):null,l?i.a.createElement(Ul.a,null,Object(_.c)("Key badge").t(Xl())):null,b?i.a.createElement(Ul.a,null,Object(_.c)("Key badge").t(Hl())):null,p?i.a.createElement(Ul.a,{type:"error"},Object(_.c)("Key badge").t(Yl())):null,m?i.a.createElement(Ul.a,{type:"error"},Object(_.c)("Key badge").t(Wl())):null),i.a.createElement(vo.a,{key:r,className:"pm-button--small",list:x})].filter(Boolean);return i.a.createElement(Fi.a,{key:r,cells:w})}))))};function ss(){var e=X()(["Select the PGP scheme to be used when signing or encrypting to a user. Note that PGP/Inline forces plain text messages"]);return ss=function(){return e},e}function fs(){var e=X()(["Cryptographic scheme"]);return fs=function(){return e},e}function ds(){var e=X()(["Upload a public key to enable sending end-to-end encrypted emails to this email"]);return ds=function(){return e},e}function ms(){var e=X()(["Public keys"]);return ms=function(){return e},e}function ps(){var e=X()(["Digitally signing emails helps authenticating that messages are sent by you"]);return ps=function(){return e},e}function bs(){var e=X()(["Sign emails"]);return bs=function(){return e},e}function vs(){var e=X()(["Email encryption forces email signature to help authenticate your sent messages"]);return vs=function(){return e},e}function hs(){var e=X()(["Encrypt emails"]);return hs=function(){return e},e}function gs(){var e=X()(["All uploaded keys are expired or revoked! Encryption is automatically disabled."]);return gs=function(){return e},e}function ys(){var e=X()(["Only change these settings if you are using PGP with non-ProtonMail recipients."]);return ys=function(){return e},e}function Os(){var e=X()(["To use Address Verification, you must trust one or more available public keys, including the one you want to use for sending. This prevents the encrypted keys from being faked."]);return Os=function(){return e},e}function js(){var e=X()(["This address is disabled. To be able to send to this address, the owner must first enable the address."]);return js=function(){return e},e}function Es(){var e=X()(["Address Verification with Trusted Keys is enabled for this address. To be able to send to this address, first trust public keys that can be used for sending."]);return Es=function(){return e},e}function xs(){var e=X()(["Setting up PGP allows you to send end-to-end encrypted emails with a non-Protonmail user that uses a PGP compatible service."]);return xs=function(){return e},e}function ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ks(){var e=X()(["Invalid public key file"]);return ks=function(){return e},e}var Ps,Ns=function(e){var t=e.model,n=e.setModel,r=Object(jt.a)().createNotification,a=t.keys.api.filter((function(e){return t.trustedFingerprints.has(e.getFingerprint())})),c=!!t.keys.api.length,o=!!t.keys.pinned.length,u=!!a.length,l=o&&!t.keys.pinned.some((function(e){var n=e.getFingerprint();return!t.expiredFingerprints.has(n)&&!t.revokedFingerprints.has(n)})),s=u&&!a.some((function(e){return!t.verifyOnlyFingerprints.has(e.getFingerprint())}));return i.a.createElement(i.a.Fragment,null,!c&&i.a.createElement(wt.a,{learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object(_.c)("Info").t(xs())),!!t.keys.pinned.length&&s&&i.a.createElement(wt.a,{type:"warning"},Object(_.c)("Info").t(Es())),t.pgpAddressDisabled&&i.a.createElement(wt.a,{type:"warning"},Object(_.c)("Info").t(js())),c&&i.a.createElement(wt.a,{learnMore:"https://protonmail.com/support/knowledge-base/address-verification/"},Object(_.c)("Info").t(Os())),!c&&!t.sign&&i.a.createElement(wt.a,{learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object(_.c)("Info").t(ys())),t.isPGPExternalWithoutWKDKeys&&l&&i.a.createElement(wt.a,{type:"error",learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object(_.c)("Info").t(gs())),!c&&i.a.createElement(Wc.a,null,i.a.createElement(Qt.a,{htmlFor:"encrypt-toggle"},Object(_.c)("Label").t(hs()),i.a.createElement(xl.a,{className:"ml0-5",title:Object(_.c)("Tooltip").t(vs())})),i.a.createElement(Mo.a,null,i.a.createElement(Kl.a,{id:"encrypt-toggle",checked:t.encrypt,disabled:!t.keys.pinned.length||t.noPinnedKeyCanSend,onChange:function(e){var r=e.target;return n(Cs({},t,{encrypt:r.checked,sign:!!r.checked||t.sign}))}}))),!c&&i.a.createElement(Wc.a,null,i.a.createElement(Qt.a,{htmlFor:"sign-toggle"},Object(_.c)("Label").t(bs()),i.a.createElement(xl.a,{className:"ml0-5",title:Object(_.c)("Tooltip").t(ps())})),i.a.createElement(Mo.a,null,i.a.createElement(Kl.a,{id:"sign-toggle",checked:t.sign,disabled:t.encrypt,onChange:function(e){var r=e.target;return n(Cs({},t,{sign:r.checked,mimeType:""}))}}))),i.a.createElement(Wc.a,null,i.a.createElement(Qt.a,null,Object(_.c)("Label").t(ms()),i.a.createElement(xl.a,{className:"ml0-5",title:Object(_.c)("Tooltip").t(ds())})),i.a.createElement(Mo.a,{className:"onmobile-mt0-5"},t.isPGPExternal&&i.a.createElement(Rl.a,{onFiles:function(e){var a,c,o,i;return ke.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e.length){u.next=2;break}return u.abrupt("return",r({type:"error",text:Object(_.c)("Error").t(ks())}));case 2:return a=fe()(t.keys.pinned),c=new Set(t.trustedFingerprints),o=new Set(t.revokedFingerprints),i=new Set(t.expiredFingerprints),u.next=8,ke.a.awrap(Promise.all(e.map((function(e){var t,n,r,u,l;return ke.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.getFingerprint(),s.next=3,ke.a.awrap(Sl(e));case 3:if(n=s.sent,r=n.isExpired,u=n.isRevoked,r&&i.add(t),u&&o.add(t),c.has(t)){s.next=11;break}return c.add(t),s.abrupt("return",a.push(e));case 11:return l=a.findIndex((function(e){return e.getFingerprint()===t})),s.abrupt("return",a.splice(l,1,e));case 13:case"end":return s.stop()}}))}))));case 8:n(Cs({},t,{keys:Cs({},t.keys,{pinned:a}),trustedFingerprints:c,expiredFingerprints:i,revokedFingerprints:o}));case 9:case"end":return u.stop()}}))},multiple:!0}))),(c||o)&&i.a.createElement(ls,{model:t,setModel:n}),!c&&i.a.createElement(Wc.a,null,i.a.createElement(Qt.a,null,Object(_.c)("Label").t(fs()),i.a.createElement(xl.a,{className:"ml0-5",title:Object(_.c)("Tooltip").t(ss())})),i.a.createElement(Mo.a,null,i.a.createElement(Gl,{value:t.scheme,onChange:function(e){return n(Cs({},t,{scheme:e}))}}))))};function Ds(){var e=X()(["Save"]);return Ds=function(){return e},e}function Is(){var e=X()(["Cancel"]);return Is=function(){return e},e}function Ss(){var e=X()(["Show advanced PGP settings"]);return Ss=function(){return e},e}function As(){var e=X()(["Hide advanced PGP settings"]);return As=function(){return e},e}function Ts(){var e=X()(["Automatic indicates that the format in the composer is used to send to this user. Plain text indicates that the message will always be converted to plain text on send."]);return Ts=function(){return e},e}function Ms(){var e=X()(["Email format"]);return Ms=function(){return e},e}function Ls(){var e=X()(["PGP/MIME automatically sends the message using the current composer mode. Please note that ProtonMail always signs PGP/MIME messages."]);return Ls=function(){return e},e}function Ks(){var e=X()(["PGP/Inline is only compatible with Plain Text format. Please note that ProtonMail always signs PGP/Inline messages."]);return Ks=function(){return e},e}function Rs(){var e=X()(["Select the email format you want to be used by default when sending an email to this email address."]);return Rs=function(){return e},e}function Fs(){var e=X()(["Email settings (",")"]);return Fs=function(){return e},e}function Gs(){var e=X()(["Close modal"]);return Gs=function(){return e},e}function Us(){var e=X()(["Close modal"]);return Us=function(){return e},e}function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vs(){var e=X()(["Preferences saved"]);return Vs=function(){return e},e}var Ws=z.K.SEND_PGP_INLINE,Ys=z.K.SEND_PGP_MIME,Hs=Ge,Xs=Fe,Js=(Ps={},q()(Ps,Ws,"pgp-inline"),q()(Ps,Ys,"pgp-mime"),Ps),qs=function(e){var t=e.userKeysList,n=e.contactID,r=e.properties,a=e.emailProperty,c=Ot()(e,["userKeysList","contactID","properties","emailProperty"]),u=Object(ec.a)(),l=Object(F.a)().call,s=Object(o.useState)({keys:{api:[],pinned:[]}}),f=Z()(s,2),d=f[0],m=f[1],p=Object(o.useState)(!1),b=Z()(p,2),v=b[0],h=b[1],g=Object(Ft.a)(),y=Z()(g,2),O=y[0],j=y[1],E=Object(jt.a)().createNotification,x=Object(Wu.a)(),w=Z()(x,2),C=w[0],k=C.PGPScheme,P=C.Sign,N=w[1],D=O||N,I=a.value,S=a.group,A=d.isPGPExternal&&d.sign,T="pgp-inline"===(d.scheme||Js[k]),M=function(e){var t=(d.isPGPInternal?fe()(d.keys.api):[].concat(fe()(d.keys.api),fe()(d.keys.pinned))).filter((function(e){return d.trustedFingerprints.has(e.getFingerprint())}));return Object(we.f)(t,(function(e){return e.getFingerprint()})).map((function(t,n){return function(e){var t=e.publicKey,n=e.group,r=e.index;return{field:"key",value:"data:application/pgp-keys;base64,".concat(Object(Ie.j)(Object(Ie.b)(t.toPacketlist().write()))),group:n,pref:"".concat(r+1)}}({publicKey:t,group:e,index:n})}))};return Object(o.useEffect)((function(){var e,t,n,a,c,o,i,l,s,f,d,p,b,v,h;N||j(ke.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,ke.a.awrap(Ye(r,S));case 2:return e=g.sent,t=e.pinnedKeys,n=e.mimeType,a=e.encrypt,c=e.scheme,o=new Set,i=new Set,l=new Set,g.next=12,ke.a.awrap(Promise.all(t.map((function(e){var t,n,r,a;return ke.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.getFingerprint(),c.next=3,ke.a.awrap(Sl(e));case 3:n=c.sent,r=n.isExpired,a=n.isRevoked,o.add(t),r&&i.add(t),a&&l.add(t);case 9:case"end":return c.stop()}}))}))));case 12:return g.next=14,ke.a.awrap(Object(Al.a)(u,I));case 14:s=g.sent,f=Nl(s),d=!f,p=new Set,b=s.Keys.reduce((function(e,t,n){var r=t.Flags,a=s.publicKeys[n];return a&&(e.apiKeys.push(a),!(r&z.x.ENABLE_ENCRYPTION)&&p.add(a.getFingerprint())),e}),{apiKeys:[]}),v=b.apiKeys,h=Dl(v,o,p),m({mimeType:n,encrypt:a,scheme:c,sign:1===P,email:I,keys:{api:h,pinned:t},trustedFingerprints:o,expiredFingerprints:i,revokedFingerprints:l,verifyOnlyFingerprints:p,isPGPExternal:d,isPGPInternal:f,isPGPExternalWithWKDKeys:d&&!!v.length,isPGPExternalWithoutWKDKeys:d&&!v.length,pgpAddressDisabled:(y=s,Nl(y)&&!y.Keys.some((function(e){return e.Flags&Pl})))});case 21:case"end":return g.stop()}var y})))}),[N]),Object(o.useEffect)((function(){var e=!!d.keys.pinned.length&&!d.keys.pinned.some((function(e){var t=e.getFingerprint();return!d.expiredFingerprints.has(t)&&!d.revokedFingerprints.has(t)}));m((function(t){return zs({},t,{encrypt:!e&&!!t.keys.pinned.length&&t.encrypt,keys:{api:Dl(t.keys.api,t.trustedFingerprints,t.verifyOnlyFingerprints),pinned:Il(t.keys.pinned,t.expiredFingerprints,t.revokedFingerprints)}})}))}),[d.trustedFingerprints,d.expiredFingerprints,d.revokedFingerprints,d.verifyOnlyFingerprints]),Object(o.useEffect)((function(){if(A)return T?m((function(e){return zs({},e,{mimeType:z.D.PLAINTEXT})})):void m((function(e){return zs({},e,{mimeType:""})}))}),[A,T]),i.a.createElement(Ol.a,gt()({modalTitleID:"modalTitle"},c),i.a.createElement("header",{className:"pm-modalHeader"},i.a.createElement("button",{type:"button",className:"pm-modalClose",title:Object(_.c)("Action").t(Us()),onClick:c.onClose},i.a.createElement(Dt.a,{className:"pm-modalClose-icon",name:"close"}),i.a.createElement("span",{className:"sr-only"},Object(_.c)("Action").t(Gs()))),i.a.createElement("h1",{id:"modalTitle",className:"pm-modalTitle ellipsis"},Object(_.c)("Title").t(Fs(),I))),i.a.createElement(jl.a,{onSubmit:function(){return j(ke.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return e=r.filter((function(e){var t=e.field,n=e.group;return!["email"].concat(fe()(Te)).includes(t)||n&&n!==S})),o=[a,d.mimeType&&{field:"x-pm-mimetype",value:d.mimeType,group:S},d.isPGPExternalWithoutWKDKeys&&d.encrypt&&{field:"x-pm-encrypt",value:"true",group:S},d.isPGPExternalWithoutWKDKeys&&d.sign&&{field:"x-pm-sign",value:"true",group:S},d.isPGPExternalWithoutWKDKeys&&d.scheme&&{field:"x-pm-scheme",value:d.scheme,group:S}].concat(fe()(M(S))).filter(Boolean),i=ye(e.concat(o)),m.next=5,ke.a.awrap(jc([i],t[0]));case 5:return s=m.sent,f=xc(i)?Hs:Xs,m.next=9,ke.a.awrap(u(Object(lc.a)({Contacts:s,Overwrite:+!!n,Labels:f})));case 9:return m.next=11,ke.a.awrap(l());case 11:c.onClose(),E({text:Object(_.c)("Success").t(Vs())});case 13:case"end":return m.stop()}})));var e,o,i,s,f},onReset:c.onClose,noValidate:!1},i.a.createElement(El.a,null,A?T?i.a.createElement(wt.a,null,Object(_.c)("Info").t(Ks())):i.a.createElement(wt.a,null,Object(_.c)("Info").t(Ls())):i.a.createElement(wt.a,null,Object(_.c)("Info").t(Rs())),i.a.createElement(Wc.a,null,i.a.createElement(Qt.a,null,Object(_.c)("Label").t(Ms()),i.a.createElement(xl.a,{className:"ml0-5",title:Object(_.c)("Tooltip").t(Ts())})),i.a.createElement(Mo.a,null,i.a.createElement(Ll,{disabled:A,value:d.mimeType,onChange:function(e){return m(zs({},d,{mimeType:e}))}}))),i.a.createElement("div",{className:"mb1"},i.a.createElement(it.a,{onClick:function(){return h(!v)},disabled:O||N},v?Object(_.c)("Action").t(As()):Object(_.c)("Action").t(Ss()))),v?i.a.createElement(Ns,{model:d,setModel:m}):null),i.a.createElement(wl.a,null,i.a.createElement(Ct.a,{disabled:D},Object(_.c)("Action").t(Is())),i.a.createElement(Et.a,{loading:D,disabled:!v,type:"submit"},Object(_.c)("Action").t(Ds())))))};function Qs(){var e=X()(["Email settings"]);return Qs=function(){return e},e}function Zs(){var e=X()(["Contact group"]);return Zs=function(){return e},e}var _s=function(e){var t=e.property,n=e.properties,r=e.contactID,a=e.contactEmail,c=e.contactGroups,o=void 0===c?[]:c,u=e.userKeysList,l=e.leftBlockWidth,s=void 0===l?"w30":l,f=e.rightBlockWidth,d=void 0===f?"w70":f,m=Object(ae.b)(),p=Z()(m,1)[0].hasPaidMail,b=Object(ee.a)().createModal,v={work:Object(_.c)("Contact type label").t(ya()),home:Object(_.c)("Contact type label").t(ga()),cell:Object(_.c)("Contact type label").t(ha()),main:Object(_.c)("Contact type label").t(va()),yomi:Object(_.c)("Contact type label").t(ba()),other:Object(_.c)("Contact type label").t(pa()),fax:Object(_.c)("Contact type label").t(ma()),pager:Object(_.c)("Contact type label").t(da())},h=t.field,g=t.first,y=ze(Ve(t.type)),O=v[y]||y,j=t.value;return i.a.createElement(Wc.a,null,i.a.createElement("div",{className:Object(li.a)(["flex flex-items-center",s])},i.a.createElement(Ho,{field:h,type:O,first:g})),i.a.createElement("div",{className:Object(li.a)(["flex flex-nowrap flex-items-center pl1",d])},i.a.createElement("span",{className:Object(li.a)(["mr0-5 flex-item-fluid",!["note"].includes(h)&&"ellipsis"])},function(){if("email"===h)return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"mr0-5",href:"mailto:".concat(j),title:j},j),o.map((function(e){var t=e.ID,n=e.Name,r=e.Color;return i.a.createElement(iu,{key:t,name:n,color:r})})));if("url"===h)return i.a.createElement("a",{href:j,target:"_blank",rel:"noopener noreferrer"},j);if("tel"===h)return i.a.createElement("a",{href:"tel:".concat(j)},j);if(["bday","anniversary"].includes(h)){var e=[Object(Eo.a)(j),new Date(j)].filter(xo.a),t=Z()(e,1)[0];return t?Object($u.a)(t,"PP",{locale:el.a}):j}return"logo"===h?i.a.createElement(qu.a,{src:j}):"adr"===h?We(j):j}()),i.a.createElement("span",{className:"flex-item-noshrink"},function(){switch(h){case"email":if(!a)return null;return i.a.createElement(Qu.a,null,p?i.a.createElement(yl,{className:"pm-button pm-button--for-icon pm-group-button",contactEmails:[a]},i.a.createElement(_o.a,{title:Object(_.c)("Title").t(Zs())},i.a.createElement(Dt.a,{name:"contacts-groups"}))):null,i.a.createElement(Zu.a,{onClick:function(){b(i.a.createElement(qs,{userKeysList:u,contactID:r,emailProperty:t,properties:n}))},className:"pm-button--for-icon"},i.a.createElement(_o.a,{title:Object(_.c)("Title").t(Qs())},i.a.createElement(Dt.a,{name:"settings-singular"}))),i.a.createElement(_u.a,{className:"pm-button--for-icon pm-group-button",value:j}));case"tel":return i.a.createElement(_u.a,{className:"pm-button--for-icon",value:j});case"adr":return i.a.createElement(_u.a,{className:"pm-button--for-icon",value:We(j)});default:return null}}())))};function $s(){var e=X()(["Other information"]);return $s=function(){return e},e}function ef(){var e=X()(["Addresses"]);return ef=function(){return e},e}function tf(){var e=X()(["Phone numbers"]);return tf=function(){return e},e}function nf(){var e=X()(["Email addresses"]);return nf=function(){return e},e}var rf={email:"email",tel:"phone",adr:"address",other:"info"},af=function(e){var t=e.properties,n=e.contactID,r=e.contactEmails,a=e.contactGroupsMap,c=void 0===a?{}:a,o=e.field,u=e.userKeysList,l=e.leftBlockWidth,s=void 0===l?"w30":l,f=e.rightBlockWidth,d=void 0===f?"w70":f,m={email:Object(_.c)("Title").t(nf()),tel:Object(_.c)("Title").t(tf()),adr:Object(_.c)("Title").t(ef()),other:Object(_.c)("Title").t($s())},p=o?m[o]:m.other,b=o?rf[o]:rf.other,v=["photo","org"],h=o?[o]:Ae.filter((function(e){return!v.includes(e)})),g=t.filter((function(e){var t=e.field;return h.includes(t)}));return g.length?i.a.createElement("div",{className:"border-bottom mb1"},i.a.createElement("h3",{className:"mb1 flex flex-nowrap flex-items-center"},i.a.createElement(Dt.a,{name:b,className:"mr0-5"}),i.a.createElement("span",{className:"mr0-5"},p),"email"===o?null:i.a.createElement(ei,{className:"flex"})),g.map((function(e,a){var o=r&&r[a],l=o&&o.LabelIDs.map((function(e){return c[e]})).filter(Boolean);return i.a.createElement(_s,{key:a.toString(),contactID:n,contactEmail:o,contactGroups:l,property:e,properties:t,userKeysList:u,leftBlockWidth:s,rightBlockWidth:d})}))):null};function cf(){var e=X()(["Export"]);return cf=function(){return e},e}function of(){var e=X()(["Edit"]);return of=function(){return e},e}function uf(){var e=X()(["Contact details"]);return uf=function(){return e},e}var lf=function(e){var t=e.properties,n=void 0===t?[]:t,r=e.contactID,a=e.contactEmails,c=e.contactGroupsMap,o=e.userKeysList,u=e.errors,l=Object(ee.a)().createModal,s=Object(ae.b)(),f=Z()(s,1)[0];return i.a.createElement("div",{className:"view-column-detail flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"flex flex-spacebetween flex-items-center border-bottom"},i.a.createElement("div",{className:"p1"},i.a.createElement("h2",{className:"m0"},Object(_.c)("Title").t(uf()))),i.a.createElement("div",{className:"p1"},i.a.createElement(Et.a,{onClick:function(){l(i.a.createElement(Ti,{properties:n,contactID:r}))},className:"mr1"},Object(_.c)("Action").t(of())),i.a.createElement(It.a,{onClick:function(){return function(e){var t=e.filter((function(e){var t=e.field;return["fn","email"].includes(t)})).map((function(e){var t=e.value;return Array.isArray(t)?t[0]:t}))[0],n=Ze(e),r=new Blob([n.toString()],{type:"data:text/plain;charset=utf-8;"});Object(Vu.a)(r,"".concat(t,".vcf"))}(n)}},Object(_.c)("Action").t(cf())))),i.a.createElement(zu,{errors:u}),i.a.createElement(Ju,{properties:n}),i.a.createElement("div",{className:"pl1 pr1"},i.a.createElement(af,{userKeysList:o,contactID:r,contactEmails:a,contactGroupsMap:c,properties:n,field:"email"}),f.hasPaidMail?i.a.createElement(i.a.Fragment,null,i.a.createElement(af,{contactID:r,properties:n,field:"tel"}),i.a.createElement(af,{contactID:r,properties:n,field:"adr"}),i.a.createElement(af,{contactID:r,properties:n})):i.a.createElement(bi,null)))},sf=function(e){var t=e.contactID,n=e.contactEmails,r=e.contactGroupsMap,a=e.userKeysList,c=void 0===a?[]:a,u=Object(o.useState)({ID:t}),l=Z()(u,2),s=l[0],f=l[1],d=Object(o.useRef)(t),m=wu(t),p=Z()(m,2),b=p[0],v=p[1];Object(o.useEffect)((function(){if(b&&c.length){d.current=b.ID;var e=Object(Eu.f)(c),t=e.publicKeys,n=e.privateKeys;Tu(b,{publicKeys:t,privateKeys:n}).then((function(e){var t=e.properties,n=e.error;d.current===b.ID&&f({ID:b.ID,properties:t,error:n})}))}}),[b,c]);var h=s.properties,g=s.errors,y=s.ID;return v||!h||y!==t?i.a.createElement(ie.a,null):i.a.createElement(lf,{properties:h,contactID:t,contactEmails:n,contactGroupsMap:r,userKeysList:c,errors:g})},ff=n("2iEm"),df=n("pc7d"),mf=n.n(df),pf=n("X8Oj"),bf=n.n(pf),vf=n("uLbS"),hf=n.n(vf),gf=n("6C09"),yf=n.n(gf),Of=n("hGKC"),jf=n.n(Of);function Ef(){var e=X()(["No contacts exported."]);return Ef=function(){return e},e}function xf(){var e=X()([""," out of "," contacts successfully exported."]);return xf=function(){return e},e}function wf(){var e=X()(["Decrypting contacts... This may take a few minutes. When the process is completed, you will be able to download the file with all your contacts exported."]);return wf=function(){return e},e}function Cf(){var e=X()(["Exporting contacts"]);return Cf=function(){return e},e}function kf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pf(){var e=X()(["Save"]);return Pf=function(){return e},e}function Nf(){var e=X()(["Cancel"]);return Nf=function(){return e},e}var Df=function(e){var t,n,r=e.contactGroupID,a=e.userKeysList,c=e.onSave,u=void 0===c?Ue.b:c,l=Ot()(e,["contactGroupID","userKeysList","onSave"]),s=Object(ec.a)(),f=Object(ne.a)(),d=Z()(f,2),m=d[0],p=d[1],b=Object(o.useState)([]),v=Z()(b,2),h=v[0],g=v[1],y=Object(o.useState)([]),O=Z()(y,2),j=O[0],E=O[1],x=r?m.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)})).length:m.length,w=Math.ceil(x/50);return Object(o.useEffect)((function(){var e=new AbortController,t=function(t){return s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kf(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{signal:e.signal}))},n=Object(Eu.f)(a),c=n.publicKeys,o=n.privateKeys,i=function(e,n){var a,i,u,l,s,f,d,m,p,b;return ke.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return a=n.signal,v.next=3,ke.a.awrap(t(Object(lc.g)({LabelID:r,Page:e,PageSize:50})));case 3:i=v.sent,u=i.Contacts,l=!0,s=!1,f=void 0,v.prev=8,d=function(){var e,t,n,r,i,u,l,s;return ke.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(e=p.value,t=e.Cards,n=e.ID,!a.aborted){f.next=3;break}return f.abrupt("return",{v:void 0});case 3:return f.prev=3,f.next=6,ke.a.awrap(Tu({Cards:t},{publicKeys:c,privateKeys:o}));case 6:if(r=f.sent,i=r.properties,u=void 0===i?[]:i,l=r.errors,!(void 0===l?[]:l).length){f.next=13;break}throw new Error("Error decrypting contact");case 13:s=Ze(u).toString(),!a.aborted&&g((function(e){return[].concat(fe()(e),[s])})),f.next=20;break;case 17:f.prev=17,f.t0=f.catch(3),!a.aborted&&E((function(e){return[].concat(fe()(e),[n])}));case 20:case"end":return f.stop()}}),null,null,[[3,17]])},m=u[Symbol.iterator]();case 11:if(l=(p=m.next()).done){v.next=20;break}return v.next=14,ke.a.awrap(d());case 14:if("object"!=typeof(b=v.sent)){v.next=17;break}return v.abrupt("return",b.v);case 17:l=!0,v.next=11;break;case 20:v.next=26;break;case 22:v.prev=22,v.t0=v.catch(8),s=!0,f=v.t0;case 26:v.prev=26,v.prev=27,l||null==m.return||m.return();case 29:if(v.prev=29,!s){v.next=32;break}throw f;case 32:return v.finish(29);case 33:return v.finish(26);case 34:case"end":return v.stop()}}),null,null,[[8,22,26,34],[27,,29,33]])};return function(e){var t;return ke.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t=0;case 1:if(!(t<w)){n.next=7;break}return n.next=4,ke.a.awrap(Promise.all([i(t,e),Object(sc.b)(100)]));case 4:t++,n.next=1;break;case 7:case"end":return n.stop()}}))}(e).catch((function(e){if("AbortError"!==e.name)throw l.onClose(),e})),function(){e.abort()}}),[]),i.a.createElement(kt.a,gt()({title:Object(_.c)("Title").t(Cf()),onSubmit:function(){return e=h.join("\n"),t=new Blob([e],{type:"data:text/plain;charset=utf-8;"}),Object(Vu.a)(t,"".concat("protonContacts","-").concat(Object($u.a)(Date.now(),"yyyy-MM-dd"),".vcf")),u(),void l.onClose();var e,t},footer:(t={loading:h.length+j.length!==x},n=t.loading,i.a.createElement(i.a.Fragment,null,i.a.createElement(Ct.a,null,Object(_.c)("Action").t(Nf())),i.a.createElement(Et.a,{loading:n,type:"submit"},Object(_.c)("Action").t(Pf())))),loading:p},l),i.a.createElement(wt.a,null,Object(_.c)("Description").t(wf())),i.a.createElement(ac,{id:"progress-export-contacts",alt:"contact-loader",value:Cc(h.length,j.length,x),failed:!h.length,displaySuccess:Object(_.c)("Progress bar description").t(xf(),h.length,x),displayFailed:Object(_.c)("Progress bar description").t(Ef())}))};function If(){var e=X()(["Merge"]);return If=function(){return e},e}function Sf(){var e=X()([""," Do you want to merge these contacts now?"]);return Sf=function(){return e},e}function Af(){var e=X()(["Two or more contacts appear to be identical."]);return Af=function(){return e},e}var Tf=function(e){var t=e.loadingUserKeys,n=e.style,r=e.onMerge,a=Ot()(e,["loadingUserKeys","style","onMerge"]),c=i.a.createElement("b",{key:"boldface"},Object(_.c)("Info").t(Af()));return i.a.createElement("div",gt()({style:n,className:"p1 flex flex-nowrap flex-items-center bg-primary color-white"},a),i.a.createElement("div",{className:"mr1 flex-item-noshrink"},i.a.createElement(Dt.a,{name:"merge",color:"white"})),i.a.createElement("div",{className:"alignleft"},i.a.createElement("span",{className:"mr0-5"},Object(_.c)("Info").jt(Sf(),c)),i.a.createElement(It.a,{className:"pm-button--small pm-button--primary pm-button--whiteborder alignbaseline",disabled:t,onClick:r},Object(_.c)("Action").t(If()))))};function Mf(){var e=X()(["Settings"]);return Mf=function(){return e},e}function Lf(){var e=X()(["You can decide whether or not contacts are automatically added to your address book by navigating to ",""]);return Lf=function(){return e},e}function Kf(){var e=X()(["You have "," in your address book"]);return Kf=function(){return e},e}function Rf(){var e=X()(["Contacts"]);return Rf=function(){return e},e}function Ff(){var e=X()(["Settings > General > Contacts"]);return Ff=function(){return e},e}function Gf(){var e=X()([""," contacts"]);return Gf=function(){return e},e}function Uf(){var e=X()(["one contact"]);return Uf=function(){return e},e}function Bf(){var e=X()(["Export"]);return Bf=function(){return e},e}function zf(){var e=X()(["Edit"]);return zf=function(){return e},e}function Vf(){var e=X()(["You have "," in this group."]);return Vf=function(){return e},e}function Wf(){var e=X()([""," contacts"]);return Wf=function(){return e},e}function Yf(){var e=X()(["1 contact"]);return Yf=function(){return e},e}function Hf(){var e=X()(["Deselect"]);return Hf=function(){return e},e}function Xf(){var e=X()(["You selected "," from your address book."]);return Xf=function(){return e},e}function Jf(){var e=X()(["1 contact"]);return Jf=function(){return e},e}function qf(){var e=X()(["Upgrade"]);return qf=function(){return e},e}function Qf(){var e=X()(["Upgrade to a paid plan to enable encrypted contact details and manage contact groups."]);return Qf=function(){return e},e}function Zf(){var e=X()(["Unlock features"]);return Zf=function(){return e},e}function _f(){var e=X()(["Export"]);return _f=function(){return e},e}function $f(){var e=X()(["Create a backup of your ProtonMail contacts by exporting them to a vCard file."]);return $f=function(){return e},e}function ed(){var e=X()(["Export contacts"]);return ed=function(){return e},e}function td(){var e=X()(["Import"]);return td=function(){return e},e}function nd(){var e=X()(["Add contacts to your ProtonMail account by importing them from a CSV or vCard file."]);return nd=function(){return e},e}function rd(){var e=X()(["Import contacts"]);return rd=function(){return e},e}function ad(){var e=X()(["Groups"]);return ad=function(){return e},e}function cd(){var e=X()(["Use groups to send email to a list of addresses you regularly communicate with."]);return cd=function(){return e},e}function od(){var e=X()(["Manage groups"]);return od=function(){return e},e}function id(){var e=X()(["Export"]);return id=function(){return e},e}function ud(){var e=X()(["Create a backup of your ProtonMail contacts by exporting them to a vCard file."]);return ud=function(){return e},e}function ld(){var e=X()(["Export contacts"]);return ld=function(){return e},e}function sd(){var e=X()(["Import"]);return sd=function(){return e},e}function fd(){var e=X()(["Add contacts to your ProtonMail account by importing them from a CSV or vCard file."]);return fd=function(){return e},e}function dd(){var e=X()(["Import contacts"]);return dd=function(){return e},e}var md=function(e){var t=e.loadingUserKeys,n=e.onImport,r=e.onExport,a=e.onGroups;return i.a.createElement("div",{className:"flex flex-nowrap onmobile-flex-column"},i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:mf.a,alt:"contact-import",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t(dd())),i.a.createElement("p",null,Object(_.c)("Info").t(fd()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(Et.a,{className:"bold",onClick:n,disabled:t},Object(_.c)("Action").t(sd())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:bf.a,alt:"contact-export",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t(ld())),i.a.createElement("p",null,Object(_.c)("Info").t(ud()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(Et.a,{className:"bold",onClick:r,disabled:t},Object(_.c)("Action").t(id())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid onmobile-mr0 onmobile-mb1 p1 aligncenter"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:hf.a,alt:"contact-groups",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t(od())),i.a.createElement("p",null,Object(_.c)("Info").t(cd()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(Et.a,{className:"bold",onClick:a},Object(_.c)("Action").t(ad())))))},pd=function(e){var t=e.loadingUserKeys,n=e.onImport,r=e.onExport;return i.a.createElement("div",{className:"flex flex-nowrap onmobile-flex-column"},i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:mf.a,alt:"contact-import",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t(rd())),i.a.createElement("p",null,Object(_.c)("Info").t(nd()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(Et.a,{className:"bold",onClick:n,disabled:t},Object(_.c)("Action").t(td())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:bf.a,alt:"contact-export",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t(ed())),i.a.createElement("p",null,Object(_.c)("Info").t($f()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(Et.a,{className:"bold",onClick:r,disabled:t},Object(_.c)("Action").t(_f())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid onmobile-mr0 onmobile-mb1 p1 aligncenter"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:yf.a,alt:"contact-unlock-features",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object(_.c)("Title").t(Zf())),i.a.createElement("p",null,Object(_.c)("Info").t(Qf()))),i.a.createElement("div",{className:"flex-item-noshrink p1"},i.a.createElement(Et.a,{className:"bold",onClick:function(){return Object(f.h)("/settings/subscription")}},Object(_.c)("Action").t(qf())))))},bd=function(e){var t=e.totalContacts,n=void 0===t?0:t,r=e.selectedContacts,a=void 0===r?0:r,c=e.totalContactsInGroup,o=void 0===c?0:c,u=e.contactGroupID,l=e.contactGroupName,s=e.user,f=e.userKeysList,d=e.loadingUserKeys,m=e.onUncheck,p=e.canMerge,b=e.onMerge,v=e.onImport,h=e.onExport,g=e.onGroups,y=s.hasPaidMail,O=Object(ee.a)().createModal;if(a){var j=i.a.createElement("b",{key:"total-contacts"},Object(_.c)("Info").ngettext(Object(_.msgid)(Jf()),"".concat(a," contacts"),a));return i.a.createElement("div",{className:"p2 view-column-detail flex flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter center mbauto mtauto"},i.a.createElement("div",{className:"mb2"},Object(_.c)("Info").jt(Xf(),j)),i.a.createElement("div",{className:"aligncenter mb2"},i.a.createElement("img",{src:jf.a,alt:"contact-group-card"})),i.a.createElement("div",{className:"mb2"},i.a.createElement(It.a,{className:"mr1",onClick:m},Object(_.c)("Action").ngettext(Object(_.msgid)(Hf()),"Deselect all",a)))))}if(u){var E=i.a.createElement("b",{key:"total-contacts"},1===o?Object(_.c)("Info").t(Yf()):Object(_.c)("Info").t(Wf(),o));return i.a.createElement("div",{className:"p2 view-column-detail flex flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter center mbauto mtauto"},i.a.createElement("h1",{className:"ellipsis lh-standard"},l),i.a.createElement("div",{className:"mb2"},Object(_.c)("Info").jt(Vf(),E)),i.a.createElement("div",{className:"aligncenter mb2"},i.a.createElement("img",{src:jf.a,alt:"contact-group-card"})),i.a.createElement("div",{className:"mb2"},i.a.createElement(It.a,{className:"mr1",onClick:function(){return O(i.a.createElement(cu,{contactGroupID:u}))}},Object(_.c)("Action").t(zf())),!!o&&i.a.createElement(It.a,{onClick:function(){return O(i.a.createElement(Df,{contactGroupID:u,userKeysList:f}))},disabled:d},Object(_.c)("Action").t(Bf())))))}var x=1===n?i.a.createElement("b",{key:"boldface"},Object(_.c)("Info").t(Uf())):i.a.createElement("b",{key:"boldface"},Object(_.c)("Info").t(Gf(),n)),w=i.a.createElement("b",{key:"boldface-2"},Object(_.c)("Info").t(Ff()));return i.a.createElement("div",{className:"p2 view-column-detail flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter mt2"},i.a.createElement("h1",null,Object(_.c)("Title").t(Rf())),i.a.createElement("div",{className:"mb2"},Object(_.c)("Info").jt(Kf(),x)),i.a.createElement("div",{className:"mb1"},Object(_.c)("Info").jt(Lf(),w)),i.a.createElement("div",{className:"mb1"},i.a.createElement(ff.a,{to:"/contacts/settings",className:"inline-flex flex-nowrap nodecoration"},i.a.createElement(Dt.a,{className:"mr0-5 flex-item-centered-vert fill-primary",name:"settings-master"}),i.a.createElement("span",null,Object(_.c)("Title").t(Mf())))),p&&i.a.createElement("div",{className:"mb2"},i.a.createElement(Tf,{loadingUserKeys:d,onMerge:b}))),y?i.a.createElement(md,{userKeysList:f,loadingUserKeys:d,onImport:v,onExport:function(){return h()},onGroups:g}):i.a.createElement(pd,{loadingUserKeys:d,onImport:v,onExport:function(){return h()}}))},vd=n("a5Ah");function hd(){var e=X()(["Delete"]);return hd=function(){return e},e}var gd=function(e){var t=e.user,n=e.onCheck,r=e.onDelete,a=e.checked,c=void 0!==a&&a,u=e.activeIDs,l=void 0===u?[]:u,s=e.contactEmailsMap,f=void 0===s?{}:s,d=e.simplified,m=void 0!==d&&d,p=Object(o.useMemo)((function(){return l.reduce((function(e,t){return f[t]?e.concat(f[t]):e}),[])}),[l,f]);return m?i.a.createElement("div",{className:"toolbar flex noprint"},i.a.createElement(ff.a,{to:"/contacts",className:"toolbar-button"},i.a.createElement(Dt.a,{name:"arrow-left",className:"toolbar-icon mauto"}))):i.a.createElement("div",{className:"toolbar flex noprint"},i.a.createElement(qt.a,{className:"flex pm-select-all ml0-75 pl1 pr1",checked:c,onChange:function(e){var t=e.target;return n(t.checked)}}),i.a.createElement(vd.a,null),i.a.createElement("button",{type:"button",title:Object(_.c)("Tooltip").t(hd()),className:"toolbar-button",onClick:r,disabled:!l.length},i.a.createElement(Dt.a,{name:"delete",className:"toolbar-icon mauto"})),t.hasPaidMail?i.a.createElement(yl,{className:"toolbar-button toolbar-button--dropdown",disabled:!p.length,contactEmails:p,forToolbar:!0},i.a.createElement(Dt.a,{name:"contacts-groups",className:"toolbar-icon mauto"})):null)},yd=n("llAM"),Od=n("VjF5"),jd=n("+4In"),Ed=n("c47Q"),xd=n("domY"),wd=n("SOA7"),Cd=n("K/no"),kd=n("JjEE");function Pd(){var e=X()(["Settings"]);return Pd=function(){return e},e}function Nd(){var e=X()(["Search contacts"]);return Nd=function(){return e},e}function Dd(){var e=X()(["Contacts"]);return Dd=function(){return e},e}function Id(){var e=X()(["Search"]);return Id=function(){return e},e}var Sd=function(e){var t=e.title,n=e.search,r=e.onSearch,a=e.onClearSearch,c=e.expanded,o=e.onToggleExpand,u=e.inSettings,l=void 0!==u&&u,s=e.isNarrow,f=void 0!==s&&s,d=e.history,m=Object(ae.b)(),p=Z()(m,1)[0].hasPaidMail,b=Object(ee.a)().createModal;return i.a.createElement("header",{className:"header flex flex-items-center flex-nowrap reset4print"},i.a.createElement(yd.a,{url:"/contacts",className:"nomobile"}),i.a.createElement(Od.a,{expanded:c,onToggle:o}),t&&f?i.a.createElement("span",{className:"h3 mb0 ellipsis lh-standard"},t):null,l||f?null:i.a.createElement(jd.a,{placeholder:Object(_.c)("Placeholder").t(Id()),value:n,onChange:r}),i.a.createElement(Ed.a,null,p||f?null:i.a.createElement(xd.a,{external:!0}),f&&!l?null:i.a.createElement(wd.a,{className:"nomobile",to:"/contacts",icon:"contacts",text:Object(_.c)("Title").t(Dd()),"aria-current":!l}),!l&&f?i.a.createElement(Cd.a,{content:i.a.createElement(Dt.a,{name:"search",size:25,className:"topnav-icon mr0-5 flex-item-centered-vert fill-white"}),placeholder:Object(_.c)("Placeholder").t(Nd()),search:n,onSearch:r,hasCaret:!1}):null,f&&l?null:i.a.createElement(wd.a,{to:"/contacts/settings/general",icon:"settings-master",text:Object(_.c)("Title").t(Pd()),"aria-current":l})),f&&!l?i.a.createElement(kd.a,{onClick:function(){return b(i.a.createElement(Ti,{history:d,onAdd:a}))},icon:"plus"}):null)},Ad=n("BMtv");function Td(){var e=X()(["This feature requires a paid Proton account"]);return Td=function(){return e},e}function Md(){var e=X()(["Upgrade"]);return Md=function(){return e},e}function Ld(){var e=X()(["Upgrade required"]);return Ld=function(){return e},e}var Kd=function(e){var t=e.onConfirm,n=e.onClose,r=Ot()(e,["onConfirm","onClose"]);return i.a.createElement(xt.a,gt()({title:Object(_.c)("Title").t(Ld()),onConfirm:function(){Object(f.h)("/settings/subscription"),t&&t()},onClose:n,confirm:Object(_.c)("Action").t(Md())},r),i.a.createElement(wt.a,{type:"warning"},Object(_.c)("Warning").t(Td())))};function Rd(){var e=X()(["Add contact"]);return Rd=function(){return e},e}function Fd(){var e=X()(["Groups"]);return Fd=function(){return e},e}function Gd(){var e=X()(["Export all"]);return Gd=function(){return e},e}function Ud(){var e=X()(["Import"]);return Ud=function(){return e},e}function Bd(){var e=X()(["Contacts"]);return Bd=function(){return e},e}var zd=function(e){var t=e.url,n=e.user,r=e.userKeysList,a=void 0===r?[]:r,c=e.loadingUserKeys,o=e.totalContacts,u=e.contactGroups,l=void 0===u?[]:u,s=e.expanded,f=e.onToggleExpand,d=e.onClearSearch,m=e.history,p=n.hasPaidMail,b=Object(ee.a)().createModal,v=[{icon:"contacts",isActive:function(e,t){return!!e&&!new URLSearchParams(t.search).get("contactGroupID")},text:Object(_.c)("Link").t(Bd()),link:"/contacts"},!c&&{type:"button",className:"alignleft",icon:"import",text:Object(_.c)("Link").t(Ud()),onClick:function(){b(i.a.createElement(fo,{userKeysList:a}))}},o&&!c&&{type:"button",className:"alignleft",icon:"export",text:Object(_.c)("Link").t(Gd()),onClick:function(){b(i.a.createElement(Df,{userKeysList:a}))}},{type:"button",className:"alignleft",icon:"settings-singular",text:Object(_.c)("Link").t(Fd()),onClick:function(){if(!p)return b(i.a.createElement(Kd,null));m.push("/contacts/settings/groups")}}];p&&v.push.apply(v,fe()(l.map((function(e){var t=e.Name,n=e.Color,r=e.ID;return{icon:"contacts-groups",isActive:function(e,t){return new URLSearchParams(t.search).get("contactGroupID")===r},color:n,text:t,link:"/contacts?contactGroupID=".concat(r)}}))));return i.a.createElement(Ad.a,{expanded:s,onToggleExpand:f,url:t,list:v.filter(Boolean),mobileLinks:[{to:"/inbox",icon:"protonmail",external:!0,current:!1},{to:"/contacts",icon:"protoncontacts",external:!1,current:!0}]},i.a.createElement("div",{className:"pl1 pr1 nomobile"},i.a.createElement(Et.a,{className:"pm-button--large bold mt0-25 w100",onClick:function(){return b(i.a.createElement(Ti,{history:m,onAdd:d}))}},Object(_.c)("Action").t(Rd()))))},Vd=function(e,t,n){var r=n.oldIndex,a=n.newIndex;return e.map((function(e,n){return n===t?Object(we.c)(e,r,a):e}))},Wd=function(e){var t=e.properties,n=void 0===t?[]:t,r=e.hasPaidMail,a=Ee(n,"fn"),c=xe(n,"email"),o=xe(n,"tel"),u=xe(n,"adr"),l=xe(n,"org"),s=xe(n,"note"),f=[[{prop:"Name",icon:"contact",component:a}],c.length&&c.map((function(e){return{prop:"Email",icon:"email",component:i.a.createElement("a",{href:"mailto:".concat(e)},e)}})),r&&o.length&&o.map((function(e){return{prop:"Phone",icon:"phone",component:i.a.createElement("a",{href:"tel:".concat(e)},e)}})),r&&u.length&&u.map((function(e){return{prop:"Address",icon:"address",component:We(e)}})),r&&l.length&&l.map((function(e){return{prop:"Organization",icon:"organization",component:e}})),r&&s.length&&s.map((function(e){return{prop:"Note",icon:"note",component:e}}))].filter(Boolean);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ut.a,{className:"flex flex-nowrap"},i.a.createElement("div",{className:"flex flex-column flex-nowrap mr2"},f.map((function(e){return i.a.createElement("div",{key:e[0].prop,className:"mb1"},e.map((function(e,t){var n=e.prop,r=e.icon;return i.a.createElement("div",{key:"icon-".concat(t),className:"flex flex-items-center flex-nowrap"},i.a.createElement(Dt.a,{name:r,className:Object(li.a)(["mr0-5 flex-item-noshrink",t&&"nonvisible"])}),i.a.createElement("span",null,n))})))}))),i.a.createElement("div",{className:"flex flex-column"},f.map((function(e){return i.a.createElement("div",{key:e[0].prop,className:"mb1"},e.map((function(e,t){var n=e.component;return i.a.createElement("div",{key:"icon-".concat(t),className:"flex flex-items-center mw100 ellipsis"},n)})))})))),!r&&!![].concat(fe()(o),fe()(u),fe()(l),fe()(s)).length&&i.a.createElement(Ut.a,null,i.a.createElement(bi,null)))};function Yd(){var e=X()(["Close"]);return Yd=function(){return e},e}function Hd(){var e=X()(["Contact Details"]);return Hd=function(){return e},e}function Xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Jd=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=Ot()(e,["contactID","userKeysList","hasPaidMail"]),c=Object(ec.a)(),u=Object(Ft.a)(!0),l=Z()(u,2),s=l[0],f=l[1],d=Object(o.useState)({properties:[],errors:[]}),m=Z()(d,2),p=m[0],b=m[1];return Object(o.useEffect)((function(){var e,r,a,o,i;try{f(ke.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ke.a.awrap(c(Object(lc.d)(t)));case 2:return e=u.sent,r=e.Contact,u.next=6,ke.a.awrap(Tu(r,Object(Eu.f)(n)));case 6:a=u.sent,o=a.properties,i=a.errors,b({properties:o,errors:i});case 10:case"end":return u.stop()}})))}catch(u){b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xd(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p,{errors:[3]}))}}),[]),i.a.createElement(kt.a,gt()({small:!0,title:Object(_.c)("Title").t(Hd()),onSubmit:a.onClose,footer:i.a.createElement(Et.a,{type:"submit"},Object(_.c)("Action").t(Yd()))},a),s?i.a.createElement(ie.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(zu,{errors:p.errors}),i.a.createElement(Wd,{properties:p.properties,hasPaidMail:r})))},qd=function(e){var t=e.error;return i.a.createElement("div",{className:"bg-global-attention p1"},i.a.createElement(Dt.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},t))},Qd=n("wIs1");function Zd(){var e=X()(["No contacts merged."]);return Zd=function(){return e},e}function _d(){var e=X()([""," out of "," contacts successfully merged."]);return _d=function(){return e},e}function $d(){var e=X()(["Merging contacts... This may take a few minutes. When the process is completed, you can close this modal."]);return $d=function(){return e},e}function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?em(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nm=Re,rm=Ge,am=Fe,cm=z.b.SINGLE_SUCCESS,om=Object(Qd.a)((function(e){var t=e.contactID,n=e.userKeysList,r=e.alreadyMerged,a=e.beMergedModel,c=void 0===a?{}:a,u=e.beDeletedModel,l=void 0===u?{}:u,s=e.totalBeMerged,f=void 0===s?0:s,d=e.onFinish,m=e.history,p=e.location,b=Object(ec.a)(),v=Object(o.useMemo)((function(){return Object(Eu.f)(n)}),[]),h=v.privateKeys,g=v.publicKeys,y=Object(Ft.a)(!0),O=Z()(y,2),j=O[0],E=O[1],x=Object(o.useState)({mergedAndEncrypted:[],failedOnMergeAndEncrypt:[],submitted:[],failedOnSubmit:[]}),w=Z()(x,2),C=w[0],k=w[1];Object(o.useEffect)((function(){var e,n,a,o,i,u,s=new AbortController,f=function(e){return b(tm({},e,{signal:s.signal}))},v=function(e,t){var n,r,a,c;return ke.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.signal.aborted){o.next=3;break}return o.abrupt("return",[]);case 3:return o.next=5,ke.a.awrap(f(Object(lc.d)(e)));case 5:return n=o.sent,r=n.Contact,o.next=9,ke.a.awrap(Tu(r,{privateKeys:h,publicKeys:g}));case 9:if(a=o.sent,c=a.properties,!a.errors.length){o.next=14;break}throw new Error("Error decrypting contact ".concat(e));case 14:return o.abrupt("return",c);case 15:case"end":return o.stop()}}))},y=function(){var e,t,n,r,a,c,o,i,u,l,s,f,d,m=arguments;return ke.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:e=m.length>0&&void 0!==m[0]?m[0]:[],t=m.length>1?m[1]:void 0,n=t.signal,r=[],a=!0,c=!1,o=void 0,p.prev=6,i=e[Symbol.iterator]();case 8:if(a=(u=i.next()).done){p.next=19;break}return l=u.value,p.next=12,ke.a.awrap(Promise.all([v(l,{signal:n}),Object(sc.b)(100)]));case 12:s=p.sent,f=Z()(s,1),d=f[0],r.push(d);case 16:a=!0,p.next=8;break;case 19:p.next=25;break;case 21:p.prev=21,p.t0=p.catch(6),c=!0,o=p.t0;case 25:p.prev=25,p.prev=26,a||null==i.return||i.return();case 28:if(p.prev=28,!c){p.next=31;break}throw o;case 31:return p.finish(28);case 32:return p.finish(25);case 33:return p.abrupt("return",r);case 34:case"end":return p.stop()}}),null,null,[[6,21,25,33],[26,,28,32]])},O=function(e){var t,n,a,o,i,u;return ke.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(t=e.signal).aborted){l.next=3;break}return l.abrupt("return",{});case 3:return n=Object.values(c),a=Z()(n,1),o=a[0],i=[],l.prev=5,l.next=8,ke.a.awrap(Oc(r,{privateKey:h[0],publicKey:g[0]}));case 8:u=l.sent,i.push({contact:u}),!t.aborted&&k((function(e){return tm({},e,{mergedAndEncrypted:[].concat(fe()(e.mergedAndEncrypted),fe()(o))})})),l.next=16;break;case 13:l.prev=13,l.t0=l.catch(5),!t.aborted&&k((function(e){return tm({},e,{failedOnMergeAndEncrypt:[].concat(fe()(e.failedOnMergeAndEncrypt),fe()(o))})}));case 16:return l.abrupt("return",i);case 17:case"end":return l.stop()}}),null,null,[[5,13]])},j=function(e){var t,n,r,a,o,i;return ke.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:t=e.signal,n=[],r=function(){var e,r,c;return ke.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=o[a],!t.aborted){i.next=3;break}return i.abrupt("return",{v:{}});case 3:return i.prev=3,i.next=6,ke.a.awrap(y(e,{signal:t}));case 6:return r=i.sent,i.next=9,ke.a.awrap(Oc(ct(r),{privateKey:h[0],publicKey:g[0]}));case 9:c=i.sent,n.push({contact:c}),!t.aborted&&k((function(t){return tm({},t,{mergedAndEncrypted:[].concat(fe()(t.mergedAndEncrypted),fe()(e))})})),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(3),!t.aborted&&k((function(t){return tm({},t,{failedOnMergeAndEncrypt:[].concat(fe()(t.failedOnMergeAndEncrypt),fe()(e))})}));case 17:case"end":return i.stop()}}),null,null,[[3,14]])},a=0,o=Object.values(c);case 4:if(!(a<o.length)){u.next=13;break}return u.next=7,ke.a.awrap(r());case 7:if("object"!=typeof(i=u.sent)){u.next=10;break}return u.abrupt("return",i.v);case 10:a++,u.next=4;break;case 13:return u.abrupt("return",n);case 14:case"end":return u.stop()}}))},x=function(e,n){var r,a,o,i,u,l,s,d,b,v,h,g;return ke.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(r=e.contacts,a=void 0===r?[]:r,o=e.labels,!(i=n.signal).aborted&&a.length){y.next=4;break}return y.abrupt("return");case 4:return u=[],y.next=7,ke.a.awrap(f(Object(lc.a)({Contacts:a.map((function(e){return e.contact})),Overwrite:nm,Labels:o})));case 7:if(y.t0=function(e){return e.Response},l=y.sent.Responses.map(y.t0),!i.aborted){y.next=11;break}return y.abrupt("return");case 11:for(s=!0,d=!1,b=void 0,y.prev=14,v=function(){var e=g.value,n=e.Code,r=e.Contact.ID,a=c[r],o=a.slice(1);n===cm?(!i.aborted&&k((function(e){return tm({},e,{submitted:[].concat(fe()(e.submitted),fe()(a))})})),u.push.apply(u,fe()(o)),!i.aborted&&o.includes(t)&&m.replace(tm({},p,{state:{ignoreClose:!0},pathname:"/contacts/".concat(r)}))):!i.aborted&&k((function(e){return tm({},e,{failedOnSubmit:[].concat(fe()(e.failedOnSubmit),fe()(a))})}))},h=l[Symbol.iterator]();!(s=(g=h.next()).done);s=!0)v();y.next=23;break;case 19:y.prev=19,y.t1=y.catch(14),d=!0,b=y.t1;case 23:y.prev=23,y.prev=24,s||null==h.return||h.return();case 26:if(y.prev=26,!d){y.next=29;break}throw b;case 29:return y.finish(26);case 30:return y.finish(23);case 31:if(y.t2=!i.aborted&&!!u.length,!y.t2){y.next=35;break}return y.next=35,ke.a.awrap(f(Object(lc.c)(u)));case 35:case"end":return y.stop()}}),null,null,[[14,19,23,31],[24,,26,30]])},w=function(e,t){var n,r,a,c,o,i,u;return ke.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted){l.next=4;break}return l.abrupt("return");case 4:o=Object(we.a)(r,100),i=o.length,u=0;case 7:if(!(u<i)){l.next=13;break}return l.next=10,ke.a.awrap(Promise.all([x({contacts:o[u],labels:a},{signal:c}),Object(sc.b)(100)]));case 10:u++,l.next=7;break;case 13:case"end":return l.stop()}}))},C=function(e){var n,r;return ke.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.signal,r=Object.keys(l),n.aborted||!r.length){a.next=5;break}return a.next=5,ke.a.awrap(f(Object(lc.c)(r)));case 5:!n.aborted&&r.includes(t)&&m.replace(tm({},p,{state:{ignoreClose:!0},pathname:"/contacts/".concat(l[t])}));case 6:case"end":return a.stop()}}))};return E((e=s,ke.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.signal,r){t.next=7;break}return t.next=4,ke.a.awrap(j({signal:n}));case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,ke.a.awrap(O({signal:n}));case 9:t.t0=t.sent;case 10:return a=t.t0,o=wc(a),i=o.withCategories,u=o.withoutCategories,t.next=14,ke.a.awrap(w({contacts:i,labels:rm},{signal:n}));case 14:return t.next=16,ke.a.awrap(w({contacts:u,labels:am},{signal:n}));case 16:return t.next=18,ke.a.awrap(C({signal:n}));case 18:if(t.t1=!n.aborted,!t.t1){t.next=22;break}return t.next=22,ke.a.awrap(d());case 22:case"end":return t.stop()}})))),function(){s.abort()}}),[]);var P=kc([{allocated:.9,successful:C.mergedAndEncrypted.length,failed:C.failedOnMergeAndEncrypt.length,total:f},{allocated:.1,successful:C.submitted.length,failed:C.failedOnSubmit.length,total:f-C.failedOnMergeAndEncrypt.length}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(wt.a,null,Object(_.c)("Description").t($d())),i.a.createElement(ac,{id:"progress-merge-contacts",alt:"contact-loader",value:P,failed:!C.submitted.length,displaySuccess:Object(_.c)("Progress bar description").t(_d(),C.submitted.length,f),displayFailed:Object(_.c)("Progress bar description").t(Zd()),endPostponed:j}))}));function im(){var e=X()(["Merging contacts"]);return im=function(){return e},e}function um(){var e=X()(["Close"]);return um=function(){return e},e}function lm(){var e=X()(["Cancel"]);return lm=function(){return e},e}function sm(){var e=X()(["Contact Details"]);return sm=function(){return e},e}function fm(){var e=X()(["Contacts could not be merged"]);return fm=function(){return e},e}function dm(){var e=X()(["Some of the contacts to be merged display errors. Please review them individually"]);return dm=function(){return e},e}function mm(){var e=X()(["Merge"]);return mm=function(){return e},e}function pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pm(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vm=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=e.beMergedModel,c=e.beDeletedModel,u=e.updateModel,l=Ot()(e,["contactID","userKeysList","hasPaidMail","beMergedModel","beDeletedModel","updateModel"]),s=Object(F.a)().call,f=Object(ec.a)(),d=Object(o.useMemo)((function(){return Object(Eu.f)(n)}),[]),m=d.privateKeys,p=d.publicKeys,b=Object(Ft.a)(!0),v=Z()(b,2),h=v[0],g=v[1],y=Object(o.useState)(!1),O=Z()(y,2),j=O[0],E=O[1],x=Object(o.useState)(!1),w=Z()(x,2),C=w[0],k=w[1],P=Object(o.useState)({}),N=Z()(P,2),D=N[0],I=N[1],S=Object.values(a),A=Z()(S,1)[0],T=Object.keys(c),M=function(){var e=A.slice(1).concat(T);u((function(t){return bm({},t,{orderedContacts:t.orderedContacts.map((function(t){return t.filter((function(t){var n=t.ID;return!e.includes(n)}))})).filter((function(e){return e.length>1}))})}))};Object(o.useEffect)((function(){var e,t,n,r,a,c,o,i,u,l,s;g(ke.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:d.prev=0,e=[],t=!0,n=!1,r=void 0,d.prev=5,a=A[Symbol.iterator]();case 7:if(t=(c=a.next()).done){d.next=25;break}return o=c.value,d.next=11,ke.a.awrap(f(Object(lc.d)(o)));case 11:return i=d.sent,u=i.Contact,d.next=15,ke.a.awrap(Tu(u,{privateKeys:m,publicKeys:p}));case 15:if(l=d.sent,s=l.properties,!l.errors.length){d.next=21;break}throw I(bm({},D,{errorOnLoad:!0})),new Error("Error decrypting contact");case 21:e.push(s);case 22:t=!0,d.next=7;break;case 25:d.next=31;break;case 27:d.prev=27,d.t0=d.catch(5),n=!0,r=d.t0;case 31:d.prev=31,d.prev=32,t||null==a.return||a.return();case 34:if(d.prev=34,!n){d.next=37;break}throw r;case 37:return d.finish(34);case 38:return d.finish(31);case 39:I(bm({},D,{mergedContact:ct(e)})),d.next=45;break;case 42:d.prev=42,d.t1=d.catch(0),I(bm({},D,{errorOnMerge:!0}));case 45:case"end":return d.stop()}}),null,null,[[0,42],[5,27,31,39],[32,,34,38]]))}),[]);var L=function(){if(!j){var e=i.a.createElement(Et.a,{type:"submit",disabled:!D.mergedContact},Object(_.c)("Action").t(mm()));return bm({content:function(){if(h)return i.a.createElement(ie.a,null);if(D.errorOnLoad||D.errorOnMerge){var e=D.errorOnLoad?Object(_.c)("Warning").t(dm()):Object(_.c)("Warning").t(fm());return i.a.createElement(qd,{error:e})}return i.a.createElement(Wd,{properties:D.mergedContact,hasPaidMail:r})}(),title:Object(_.c)("Title").t(sm()),submit:e,onSubmit:function(){return E(!0)}},l)}var o=!C&&i.a.createElement(Ct.a,null,Object(_.c)("Action").t(lm())),u=i.a.createElement(Et.a,{type:"submit",loading:!C},Object(_.c)("Action").t(um()));return bm({title:Object(_.c)("Title").t(im()),hasClose:!1,content:i.a.createElement(om,{contactID:t,userKeysList:n,alreadyMerged:D.mergedContact,beMergedModel:a,beDeletedModel:c,totalBeMerged:A.length,onFinish:function(){return ke.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return M(),e.next=3,ke.a.awrap(s());case 3:k(!0);case 4:case"end":return e.stop()}}))}}),close:o,submit:u,onSubmit:l.onClose},l)}(),K=L.content,R=Ot()(L,["content"]);return i.a.createElement(kt.a,R,K)},hm=n("YjUZ"),gm=n("adk/"),ym=n("8QwH"),Om=function(e){return e?"opacity-50":""},jm=function(e){var t=e.name,n=e.contactID,r=e.highlightedID,a=e.checked,c=e.deleted,o=e.greyedOut,u=e.onToggle;return i.a.createElement("div",{className:"flex flex-nowrap flex-items-center"},i.a.createElement(qt.a,{checked:a,onChange:function(){return u(n)},className:"flex flex-items-center flex-item-noshrink mr0-5 ".concat(c?"nonvisible":"")}),i.a.createElement("span",{className:Object(li.a)(["mw100","inbl","ellipsis",Om(o),n===r&&"bold"])},t))},Em=function(e){var t=e.contactID,n=e.emails,r=void 0===n?[]:n,a=e.highlightedID,c=e.greyedOut;return i.a.createElement("div",{className:Object(li.a)(["flex","flex-items-center","mw100",Om(c),t===a&&"bold"])},i.a.createElement("span",{className:"inbl ellipsis"},r.map((function(e){return"<".concat(e,">")})).join(", ")))};function xm(){var e=X()(["Mark for deletion"]);return xm=function(){return e},e}function wm(){var e=X()(["Unmark for deletion"]);return wm=function(){return e},e}function Cm(){var e=X()(["Contact details"]);return Cm=function(){return e},e}var km=function(e){var t=e.contacts,n=e.highlightedID,r=e.isChecked,a=e.beDeleted,c=e.onClickCheckbox,o=e.onClickDetails,u=e.onToggleDelete,l=Ot()(e,["contacts","highlightedID","isChecked","beDeleted","onClickCheckbox","onClickDetails","onToggleDelete"]);return i.a.createElement(gm.a,gt()({colSpan:4},l),t.map((function(e,t){var l=e.ID,s=e.Name,f=e.emails,d=a[l],m=[!d&&{text:Object(_.c)("Action").t(Cm()),onClick:function(){o(l)}},{text:d?Object(_.c)("Action").t(wm()):Object(_.c)("Action").t(xm()),onClick:function(){u(l)}}].filter(Boolean),p=[i.a.createElement(jm,{key:"name",name:s,contactID:l,highlightedID:n,checked:r[l],deleted:d,greyedOut:d,onToggle:c}),i.a.createElement(Em,{key:"email",contactID:l,highlightedID:n,emails:f,greyedOut:d}),i.a.createElement(vo.a,{key:"options",className:"pm-button--small",list:m})];return d?i.a.createElement(Fi.a,{key:"".concat(l),index:t,cells:[null].concat(p)}):i.a.createElement(ym.a,{key:"".concat(l),index:t,cells:p})})))};function Pm(){var e=X()(["Preview contact"]);return Pm=function(){return e},e}function Nm(){var e=X()(["ACTIONS"]);return Nm=function(){return e},e}function Dm(){var e=X()(["ADDRESS"]);return Dm=function(){return e},e}function Im(){var e=X()(["NAME"]);return Im=function(){return e},e}var Sm=function(){return i.a.createElement("thead",{className:"orderableTableHeader"},i.a.createElement("tr",null,i.a.createElement(Bt.a,{type:"header"}),i.a.createElement(Bt.a,{type:"header"},Object(_.c)("TableHeader").t(Im())),i.a.createElement(Bt.a,{type:"header"},Object(_.c)("TableHeader").t(Dm())),i.a.createElement(Bt.a,{type:"header"},Object(_.c)("TableHeader").t(Nm()))))},Am=function(e){var t=e.contacts,n=void 0===t?[]:t,r=e.isChecked,a=void 0===r?{}:r,c=e.beDeleted,o=void 0===c?{}:c,u=e.onClickCheckbox,l=e.onClickDetails,s=e.onToggleDelete,f=e.onClickPreview,d=e.onSortEnd;return i.a.createElement(i.a.Fragment,null,n.map((function(e,t){var n=e.map((function(e){var t=e.ID;return a[t]&&!o[t]&&t})).filter(Boolean),r=e.map((function(e){var t=e.ID;return o[t]&&t})).filter(Boolean),c=n.length>1?n:[];return i.a.createElement(Ut.a,{key:"".concat(e&&e[0].Name),className:"mb2 flex flex-column flex-items-center"},i.a.createElement(hm.a,{onSortEnd:d(t),className:"mb1"},i.a.createElement(Sm,null),i.a.createElement(km,{contacts:e,highlightedID:c[0],isChecked:a,beDeleted:o,onClickCheckbox:u,onClickDetails:l,onToggleDelete:s})),i.a.createElement(It.a,{className:"aligcenter",disabled:!c.length,type:"button",onClick:function(){return f(c[0],r)}},Object(_.c)("Action").t(Pm())))})))};function Tm(){var e=X()(["You can mark for deletion the contacts that you do not want neither to merge nor to keep.\n                    Deletion will only take place after the merge button is clicked"]);return Tm=function(){return e},e}function Mm(){var e=X()(["Use Drag and Drop to rank merging priority between contacts. Uncheck the contacts you do not want to merge."]);return Mm=function(){return e},e}function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Km(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rm=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=e.model,c=e.updateModel,o=e.beMergedModel,u=e.beDeletedModel,l=Object(ee.a)().createModal,s=a.orderedContacts,f=a.isChecked,d=a.beDeleted;return i.a.createElement(i.a.Fragment,null,i.a.createElement(wt.a,null,Object(_.c)("Description").t(Mm())),i.a.createElement(wt.a,{type:"warning"},Object(_.c)("Description").t(Tm())),i.a.createElement(Am,{onSortEnd:function(e){return function(t){var n=t.oldIndex,r=t.newIndex;c((function(t){return Km({},t,{orderedContacts:Vd(s,e,{oldIndex:n,newIndex:r})})}))}},contacts:s,isChecked:f,beDeleted:d,onClickCheckbox:function(e){c((function(t){return Km({},t,{isChecked:Km({},f,q()({},e,!f[e]))})}))},onClickDetails:function(e){l(i.a.createElement(Jd,{contactID:e,userKeysList:n,hasPaidMail:r}))},onToggleDelete:function(e){c((function(t){return Km({},t,{beDeleted:Km({},d,q()({},e,!d[e]))})}))},onClickPreview:function(e,a){var s=q()({},e,o[e]),f=a.reduce((function(e,t){return e[t]=u[t],e}),{});l(i.a.createElement(vm,{contactID:t,userKeysList:n,hasPaidMail:r,beMergedModel:s,beDeletedModel:f,updateModel:c}))}}))};function Fm(){var e=X()(["Merging contacts"]);return Fm=function(){return e},e}function Gm(){var e=X()(["Close"]);return Gm=function(){return e},e}function Um(){var e=X()(["Cancel"]);return Um=function(){return e},e}function Bm(){var e=X()(["Merge contacts"]);return Bm=function(){return e},e}function zm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zm(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wm(){var e=X()(["Merge"]);return Wm=function(){return e},e}var Ym=function(e){var t=e.contacts,n=e.contactID,r=e.userKeysList,a=e.hasPaidMail,c=Ot()(e,["contacts","contactID","userKeysList","hasPaidMail"]),u=Object(F.a)().call,l=Object(o.useState)(!1),s=Z()(l,2),f=s[0],d=s[1],m=Object(o.useState)(!1),p=Z()(m,2),b=p[0],v=p[1],h=Object(o.useState)((function(){return{orderedContacts:t,isChecked:t.flat().reduce((function(e,t){return e[t.ID]=!0,e}),{}),beDeleted:t.flat().reduce((function(e,t){return e[t.ID]=!1,e}),{})}})),g=Z()(h,2),y=g[0],O=g[1],j=y.orderedContacts,E=y.isChecked,x=y.beDeleted;Object(o.useEffect)((function(){j.flat().length||c.onClose()}),[j]);var w=Object(o.useMemo)((function(){return j.reduce((function(e,t){var n=t.map((function(e){return e.ID})),r=n.map((function(e){return E[e]&&!x[e]&&e})).filter(Boolean),a=n.map((function(e){return x[e]&&e})).filter(Boolean),c=r.length>1;c&&(e.beMergedModel[r[0]]=r,e.totalBeMerged+=r.length);var o=!0,i=!1,u=void 0;try{for(var l,s=a[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=l.value;e.beDeletedModel[f]=c?r[0]:""}}catch(d){i=!0,u=d}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}return e}),{beMergedModel:{},beDeletedModel:{},totalBeMerged:0})}),[j,E,x]),C=w.beMergedModel,k=w.beDeletedModel,P=w.totalBeMerged,N=function(){if(!f){var e=i.a.createElement(Et.a,{type:"submit",disabled:!P},Object(_.c)("Action").t(Wm()));return Vm({title:Object(_.c)("Title").t(Bm()),content:i.a.createElement(Rm,{contactID:n,userKeysList:r,hasPaidMail:!!a,model:y,updateModel:O,beMergedModel:C,beDeletedModel:k}),submit:e,onSubmit:function(){return d(!0)}},c)}var t=!b&&i.a.createElement(Ct.a,null,Object(_.c)("Action").t(Um())),o=i.a.createElement(Et.a,{type:"submit",loading:!b},Object(_.c)("Action").t(Gm()));return Vm({title:Object(_.c)("Title").t(Fm()),hasClose:!1,content:i.a.createElement(om,{contactID:n,userKeysList:r,beMergedModel:C,beDeletedModel:k,totalBeMerged:P,onFinish:function(){return ke.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.a.awrap(u());case 2:v(!0);case 3:case"end":return e.stop()}}))}}),close:t,submit:o,onSubmit:c.onClose},c)}(),D=N.content,I=Ot()(N,["content"]);return i.a.createElement(kt.a,I,D)},Hm=n("5Bhs"),Xm=n("DInE");function Jm(){var e=X()(["This action will permanently delete the selected contact. Are you sure you want to delete this contact?"]);return Jm=function(){return e},e}function qm(){var e=X()(["Delete"]);return qm=function(){return e},e}function Qm(){var e=X()(["Contact deleted"]);return Qm=function(){return e},e}function Zm(){var e=X()(["Some contacts could not be deleted"]);return Zm=function(){return e},e}function _m(){var e=X()(["Contacts deleted"]);return _m=function(){return e},e}function $m(){var e=X()(["Delete"]);return $m=function(){return e},e}var ep=function(e){var t=e.contactIDs,n=void 0===t?[]:t,r=e.deleteAll,a=e.onDelete,c=Ot()(e,["contactIDs","deleteAll","onDelete"]),o=Object(ec.a)(),u=Object(jt.a)().createNotification,l=Object(F.a)().call,s=Object(Ft.a)(),f=Z()(s,2),d=f[0],m=f[1],p=i.a.createElement(Hm.a,{type:"submit",loading:d},Object(_.c)("Action").t($m()));return i.a.createElement(kt.a,gt()({title:Object(_.c)("Title").t(qm()),onSubmit:function(){return m(ke.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return t.next=3,ke.a.awrap(o(Object(lc.b)()));case 3:return a&&a(),t.next=6,ke.a.awrap(l());case 6:return c.onClose(),t.abrupt("return",u({text:Object(_.c)("Success").t(_m())}));case 8:return t.t0=Xm.a,t.next=11,ke.a.awrap(o(Object(lc.c)(n)));case 11:return t.t1=t.sent,e=(0,t.t0)(t.t1),a&&a(),t.next=16,ke.a.awrap(l());case 16:if(c.onClose(),e){t.next=19;break}return t.abrupt("return",u({text:Object(_.c)("Error").t(Zm()),type:"warning"}));case 19:u({text:Object(_.c)("Success").ngettext(Object(_.msgid)(Qm()),"Contacts deleted",n.length)});case 20:case"end":return t.stop()}})));var e},submit:p,loading:d},c),i.a.createElement(wt.a,{type:"warning"},Object(_.c)("Warning").ngettext(Object(_.msgid)(Jm()),"This action will permanently delete selected contacts. Are you sure you want to delete these contacts?",n.length)))},tp=n("kJz7"),np=n("6UvI");function rp(){var e=X()(["Upgrade"]);return rp=function(){return e},e}var ap=function(e){var t=e.children,n=e.title;return Object(o.useEffect)((function(){document.title="".concat(n," - ProtonContacts")}),[n]),i.a.createElement("div",{className:"flex flex-nowrap no-scroll"},i.a.createElement(tp.a,{items:[i.a.createElement(np.a,{key:"storage"},i.a.createElement(Mu.a,{url:"/settings/subscription",target:"_self",className:"pm-button pm-button--primary"},Object(_.c)("Action").t(rp())))]}),i.a.createElement("div",{className:"content flex-item-fluid h100v reset4print"},t))};function cp(){var e=X()(["Contacts"]);return cp=function(){return e},e}function op(){var e=X()(["Contacts"]);return op=function(){return e},e}function ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ip(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ip(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lp=function(e){var t=e.location,n=e.history,r=Object($.a)(),a=r.state,c=r.toggle,u=r.set,l=Object(ee.a)().createModal,s=Object(o.useState)(""),f=Z()(s,2),d=f[0],m=f[1],p=Object(ue.g)(d),b=Object(te.a)(),v=Z()(b,2),h=v[0],g=v[1],y=Object(ne.a)(),O=Z()(y,2),j=O[0],E=O[1],x=Object(re.a)(),w=Z()(x,2),C=w[0],k=w[1],N=Object(o.useState)(Object.create(null)),D=Z()(N,2),I=D[0],S=D[1],A=Object(ae.b)(),T=Z()(A,1)[0],M=Object(ce.c)(T),L=Z()(M,2),K=L[0],R=L[1],F=Object(oe.a)(),G=F.isDesktop,U=F.isNarrow,B=Object(o.useMemo)((function(){var e=t.pathname.split("/contacts/");return Z()(e,2)[1]}),[t]),z=Object(o.useMemo)((function(){return new URLSearchParams(t.search).get("contactGroupID")}),[t.search]),V=Object(o.useMemo)((function(){return C&&z?{contactGroupName:C.find((function(e){return e.ID===z})).Name,totalContactsInGroup:j.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(z)})).length}:Object.create(null)}),[j,z]),W=V.contactGroupName,Y=V.totalContactsInGroup,H=Object(o.useMemo)((function(){return Object.keys(I).some((function(e){return I[e]}))}),[I]);Object(o.useEffect)((function(){S(Object.create(null)),u(!1),m("")}),[z]);var X=Object(o.useMemo)((function(){return Array.isArray(h)?h.reduce((function(e,t){var n=t.ContactID;return e[n]||(e[n]=[]),e[n].push(t),e}),Object.create(null)):{}}),[h]),J=Object(o.useMemo)((function(){return Object(le.b)(C)}),[C]),q=Object(o.useMemo)((function(){return Array.isArray(j)?j.filter((function(e){var t=e.Name,n=e.ID,r=e.LabelIDs,a=X[n]?X[n].map((function(e){return e.Email})).join(" "):"",c=!p.length||Object(ue.g)("".concat(t," ").concat(a)).includes(p),o=!z||r.includes(z);return c&&o})):[]}),[j,z,p,X]),Q=Object(o.useMemo)((function(){return q.map((function(e){var t=e.ID;return up({},e,{emails:(X[t]||[]).map((function(e){return e.Email})),isChecked:!!I[t]})}))}),[q,I,X]),se=Object(o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object.values(e.reduce((function(e,t,n){var r=t.Name,a=Object(ue.g)(r);return e[a]?e[a].push(n):e[a]=[n],e}),Object.create(null))).map(we.e).filter((function(e){return e.length>1})),n=Object.values(e.reduce((function(e,t,n){return t.emails.map(ue.g).forEach((function(t){e[t]?e[t].push(n):e[t]=[n]})),e}),Object.create(null))).map(we.e).filter((function(e){return e.length>1})),r=rt([].concat(fe()(t),fe()(n)));return r.map((function(t){return t.map((function(t){return e[t]}))}))}(Q)}),[Q]),de=se.length>0,me=T.hasPaidMail,pe=Object(o.useMemo)((function(){return Q.filter((function(e){return e.isChecked})).map((function(e){return e.ID}))}),[Q,B]),be=Object(o.useMemo)((function(){var e=q.length;return!!e&&pe.length===e}),[q,pe]),ve=Object(o.useMemo)((function(){return!pe.length&&B?[B]:pe}),[pe,B]),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.reduce((function(e,n){return e[n]=t,e}),Object.create(null));S(up({},I,{},n))},ge=function(){m("")},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];he(q.map((function(e){return e.ID})),e)},Oe=function(){ye(!1)},je=g||E||k||R,Ee=j?j.length:0,xe=U&&B?"--noHeader":"",Ce=B&&!!Ee&&!H&&i.a.createElement(P.a,{key:B},i.a.createElement(sf,{contactID:B,contactEmails:X[B],contactGroupsMap:J,userKeysList:K})),ke=(G||!Ce)&&i.a.createElement(ju,{emptyAddressBook:!Ee,contactID:B,contactGroupID:z,totalContacts:Ee,totalContactsInGroup:Y,contacts:Q,contactGroupsMap:J,user:T,userKeysList:K,loadingUserKeys:R,onCheck:he,onClearSearch:ge,onClearSelection:Oe,isDesktop:G}),Pe=G&&!Ce&&!!Q.length&&i.a.createElement(bd,{history:n,user:T,userKeysList:K,loadingUserKeys:R,totalContacts:Ee,totalContactsInGroup:Y,selectedContacts:pe.length,contactGroupID:z,contactGroupName:W,onUncheck:Oe,canMerge:de,onMerge:function(){l(i.a.createElement(Ym,{contacts:se,contactID:B,userKeysList:K,hasPaidMail:!!me}))},onImport:function(){return l(i.a.createElement(fo,{userKeysList:K}))},onExport:function(e){return l(i.a.createElement(Df,{contactGroupID:e,userKeysList:K}))},onGroups:function(){return n.replace("/contacts/settings/groups")}});return i.a.createElement(ap,{title:W||Object(_.c)("Title").t(op())},(!U||!B)&&i.a.createElement(Sd,{title:Object(_.c)("Title").t(cp()),expanded:a,onToggleExpand:c,search:d,onSearch:m,onClearSearch:ge,isNarrow:U,history:n}),i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(zd,{url:"/contacts",history:n,user:T,expanded:a,onToggleExpand:c,onClearSearch:ge,totalContacts:Ee,contactGroups:C,userKeysList:K}),i.a.createElement("div",{className:"main flex-item-fluid"},i.a.createElement(gd,{user:T,contactEmailsMap:X,activeIDs:ve,checked:be,onCheck:ye,onDelete:function(){var e=ve.length===j.length;l(i.a.createElement(ep,{contactIDs:ve,deleteAll:e,onDelete:function(){if(e)return n.replace(up({},t,{state:{ignoreClose:!0},pathname:"/contacts"})),S(Object.create(null));ve.length===q.length&&ge(),B&&ve.includes(B)&&n.replace(up({},t,{state:{ignoreClose:!0},pathname:"/contacts"})),he(pe,!1)}}))},simplified:!!B&&!G}),i.a.createElement("div",{className:"main-area--withToolbar".concat(xe," no-scroll flex flex-nowrap")},je?i.a.createElement(ie.a,null):i.a.createElement(i.a.Fragment,null,ke,Ce,Pe)))))},sp=n("P2jq"),fp=n("2cEl"),dp=function(e){var t=e.title,n=e.children;return i.a.createElement("main",{className:"main-area-content relative flex-item-fluid"},i.a.createElement(fp.a,null,t),i.a.createElement("div",{className:"container-section-sticky"},n))},mp=n("9E8O"),pp=n("hsnk");function bp(){var e=X()(["Automatically save contacts"]);return bp=function(){return e},e}function vp(){var e=X()(["Contacts"]);return vp=function(){return e},e}var hp=function(){var e=Object(Wu.a)(),t=Z()(e,1)[0],n=(t=void 0===t?{}:t).AutoSaveContacts;return i.a.createElement(i.a.Fragment,null,i.a.createElement(mp.a,null,Object(_.c)("Title").t(vp())),i.a.createElement(Wc.a,null,i.a.createElement(Qt.a,{htmlFor:"saveContactToggle"},i.a.createElement("span",{className:"mr0-5"},Object(_.c)("Label").t(bp())),i.a.createElement(xl.a,{url:"https://protonmail.com/support/knowledge-base/autosave-contact-list/"})),i.a.createElement(Mo.a,null,i.a.createElement(pp.a,{autoSaveContacts:!!n,id:"saveContactToggle"}))))};function gp(){var e=X()(["General"]);return gp=function(){return e},e}var yp=function(){return i.a.createElement(dp,{title:Object(_.c)("Title").t(gp())},i.a.createElement(hp,null))},Op=n("0HG9");function jp(){var e=X()([""," email address"]);return jp=function(){return e},e}function Ep(){var e=X()(["Contacts in the group aren't deleted if the contact group is deleted."]);return Ep=function(){return e},e}function xp(){var e=X()(["Are you sure you want to delete this contact group?"]);return xp=function(){return e},e}function wp(){var e=X()(["Delete contact group"]);return wp=function(){return e},e}function Cp(){var e=X()(["Delete"]);return Cp=function(){return e},e}function kp(){var e=X()(["Edit"]);return kp=function(){return e},e}function Pp(){var e=X()(["Actions"]);return Pp=function(){return e},e}function Np(){var e=X()(["Group size"]);return Np=function(){return e},e}function Dp(){var e=X()(["Name"]);return Dp=function(){return e},e}function Ip(){var e=X()(["Contact group removed"]);return Ip=function(){return e},e}var Sp=function(){var e=Object(re.a)(),t=Z()(e,1)[0],n=Object(te.a)(),r=Z()(n,1)[0],a=Object(jt.a)().createNotification,c=Object(ee.a)().createModal,u=Object(ec.a)(),l=Object(F.a)().call,s=Object(o.useState)(t),f=Z()(s,2),d=f[0],m=void 0===d?[]:d,p=f[1];Object(o.useEffect)((function(){p(t)}),[t]);var b=function(e){return function(){return ke.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ke.a.awrap(u(Object(Mi.b)(e)));case 2:return t.next=4,ke.a.awrap(l());case 4:a({text:Object(_.c)("Contact group notification").t(Ip())});case 5:case"end":return t.stop()}}))}},v=Object(o.useCallback)((function(e){var n,r,a;return ke.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.oldIndex,r=e.newIndex,c.prev=1,a=Object(we.c)(m,n,r),p(a),c.next=6,ke.a.awrap(u(Object(Mi.d)({LabelIDs:a.map((function(e){return e.ID}))})));case 6:l(),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),p(t);case 12:case"end":return c.stop()}}),null,null,[[1,9]])}),[m,t]),h=[Object(_.c)("Table header").t(Dp()),Object(_.c)("Table header").t(Np()),Object(_.c)("Table header").t(Pp())];return i.a.createElement(hm.a,{className:"noborder",onSortEnd:v},i.a.createElement(Op.a,{cells:h}),i.a.createElement(gm.a,null,m.map((function(e,t){var n=e.ID,a=e.Name,o=e.Color,u=(r||[]).filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(n)})).length,l=[{text:Object(_.c)("Action").t(kp()),onClick:function(){c(i.a.createElement(cu,{contactGroupID:n}))}},{text:Object(_.c)("Action").t(Cp()),onClick:function(){c(i.a.createElement(xt.a,{onConfirm:b(n),title:Object(_.c)("Title").t(wp())},i.a.createElement(wt.a,{type:"warning"},i.a.createElement("p",null,Object(_.c)("Info").t(xp())),i.a.createElement("p",null,Object(_.c)("Info").t(Ep())))))}}],s=[i.a.createElement("div",{key:n,className:"flex"},i.a.createElement("span",{className:"ellipsis"},i.a.createElement(iu,{name:a,color:o})," ",a)),Object(_.c)("Info").ngettext(Object(_.msgid)(jp(),u),"".concat(u," email addresses"),u),i.a.createElement(vo.a,{key:n,className:"pm-button--small",list:l})];return i.a.createElement(ym.a,{key:n,index:t,cells:s})}))))};function Ap(){var e=X()(["Add group"]);return Ap=function(){return e},e}function Tp(){var e=X()(["A group can contain multiple email addresses from the same contact. Please note that a sending limit may apply and prevent you from sending emails to excessively large groups."]);return Tp=function(){return e},e}function Mp(){var e=X()(["Contact groups"]);return Mp=function(){return e},e}var Lp=function(){var e=Object(ee.a)().createModal;return i.a.createElement(i.a.Fragment,null,i.a.createElement(mp.a,null,Object(_.c)("Title").t(Mp())),i.a.createElement(wt.a,null,Object(_.c)("Info").t(Tp())),i.a.createElement("div",{className:"mb1"},i.a.createElement(Et.a,{onClick:function(){return e(i.a.createElement(cu,null))}},Object(_.c)("Action").t(Ap()))),i.a.createElement(Sp,null))};function Kp(){var e=X()(["Contact groups"]);return Kp=function(){return e},e}var Rp=function(){return i.a.createElement(dp,{title:Object(_.c)("Title").t(Kp())},i.a.createElement(Lp,null))};function Fp(){var e=X()(["Settings"]);return Fp=function(){return e},e}function Gp(){var e=X()(["Contact settings"]);return Gp=function(){return e},e}function Up(){var e=X()(["Contact groups"]);return Up=function(){return e},e}function Bp(){var e=X()(["General"]);return Bp=function(){return e},e}var zp=function(e){var t=e.location,n=Object(o.useRef)(),r=Object(ae.b)(),a=Z()(r,1)[0].hasPaidMail,c=Object($.a)(),u=c.state,l=c.toggle,s=c.set,f=Object(oe.a)().isNarrow;Object(o.useEffect)((function(){s(!1),n.current.scrollTop=0}),[t.pathname]);var d=[{link:"/contacts/settings/general",icon:"settings-singular",text:Object(_.c)("Link").t(Bp())},a&&{link:"/contacts/settings/groups",icon:"contacts-groups",text:Object(_.c)("Link").t(Up())}].filter(Boolean);return i.a.createElement(ap,{title:Object(_.c)("Title").t(Gp())},i.a.createElement(Sd,{inSettings:!0,title:Object(_.c)("Title").t(Fp()),expanded:u,onToggleExpand:l,isNarrow:f}),i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(Ad.a,{url:"/contacts",list:d,expanded:u,onToggleExpand:l,mobileLinks:[{to:"/inbox",icon:"protonmail",external:!0,current:!1},{to:"/contacts",icon:"protoncontacts",external:!1,current:!0}]}),i.a.createElement("div",{className:"main flex-item-fluid main-area",ref:n},i.a.createElement("div",{className:"flex flex-reverse"},i.a.createElement(sp.a.Provider,{value:n},i.a.createElement(N.a,null,i.a.createElement(D.a,{path:"/contacts/settings/general",component:yp}),i.a.createElement(D.a,{path:"/contacts/settings/groups",component:Rp}),i.a.createElement(I.a,{to:"/contacts/settings/general"})))))))},Vp=[S.a,A.a,T.a,M.a,L.a,K.a,R.a],Wp=[A.a,S.a],Yp=function(e){var t=e.onLogout;return i.a.createElement(k.a,{onLogout:t,locales:{},preloadModels:Wp,eventModels:Vp},i.a.createElement(Y,null,i.a.createElement(P.a,null,i.a.createElement(N.a,null,i.a.createElement(D.a,{path:"/contacts/settings",render:function(e){var t=e.location;return i.a.createElement(zp,{location:t})}}),i.a.createElement(D.a,{path:"/contacts",render:function(e){var t=e.location,n=e.history;return i.a.createElement(lp,{location:t,history:n})}}),i.a.createElement(I.a,{to:"/contacts"})))))},Hp=n("jKe7"),Xp=n("2INN"),Jp=n("RRB+"),qp=n("plUg"),Qp=n("xpwl"),Zp=function(e){var t=e.onLogin;return i.a.createElement(Jp.a,null,i.a.createElement(qp.a,null),i.a.createElement(Hp.a,null,i.a.createElement(Xp.a,{render:function(){return i.a.createElement(Qp.a,{onLogin:t})}})))};n("wdeV");Object(d.a)(r);var _p=function(){var e=Object(l.a)(),t=e.UID,n=e.login,r=e.logout;return t?i.a.createElement(Yp,{onLogout:r}):i.a.createElement(Zp,{onLogin:n})},$p=Object(u.hot)((function(){return i.a.createElement(s.a,{config:r},i.a.createElement(_p,null))}));c.a.render(i.a.createElement($p,null),document.querySelector(".app-root"))},0:function(e,t,n){n("+wUL"),e.exports=n("1UW9")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"5FMj":function(e,t,n){var r={"./3-d-secure.svg":"0gKn","./american-express-safekey.svg":"Jui7","./cc-american-express.svg":"/qD2","./cc-dankort.svg":"0T0d","./cc-diners-club.svg":"vuvo","./cc-discover.svg":"AZZk","./cc-forbrugs.svg":"k2eZ","./cc-jcb.svg":"7Amw","./cc-maestro.svg":"lXKh","./cc-mastercard.svg":"ZUPP","./cc-paypal.svg":"egYP","./cc-unionpay.svg":"ma7A","./cc-visa.svg":"vO2o","./cc-visaelectron.svg":"RMFI","./discover-protectbuy.svg":"qsy5","./mastercard-securecode.svg":"6Bn0","./verified-by-visa.svg":"Q7qE"};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id="5FMj"},Cq9y:function(e,t,n){},YO3j:function(e,t,n){var r={"./af/index.js":["IqAn",11],"./ar-DZ/index.js":["JVC1",12],"./ar-SA/index.js":["xMju",13],"./be/index.js":["YEhR",3],"./bg/index.js":["isx8",4],"./bn/index.js":["+b7I",14],"./ca/index.js":["Vwa+",15],"./cs/index.js":["dvhP",16],"./cy/index.js":["HQUR",17],"./da/index.js":["7ur/",18],"./de/index.js":["bgw5",19],"./el/index.js":["dH0v",20],"./en-AU/index.js":["VHew",21],"./en-CA/index.js":["wXhn",22],"./en-GB/index.js":["nwJ3",23],"./en-US/index.js":["IogR",24],"./eo/index.js":["UB7v",25],"./es/index.js":["/S0t",26],"./et/index.js":["Br0m",27],"./fa-IR/index.js":["gEFy",28],"./fi/index.js":["ndVD",29],"./fr-CA/index.js":["KTij",30],"./fr/index.js":["LKA2",31],"./gl/index.js":["4bge",32],"./gu/index.js":["3t4y",33],"./he/index.js":["75M+",34],"./hi/index.js":["CUe2",35],"./hr/index.js":["L9Jq",36],"./hu/index.js":["Nm+E",37],"./hy/index.js":["netp",38],"./id/index.js":["A6C3",39],"./is/index.js":["N4bE",40],"./it/index.js":["hmb4",41],"./ja/index.js":["uAXs",42],"./ka/index.js":["pwL5",43],"./kk/index.js":["zGPi",5],"./ko/index.js":["iW8+",44],"./lt/index.js":["xj+b",45],"./lv/index.js":["x5pY",6],"./ms/index.js":["gUWk",46],"./nb/index.js":["73vv",47],"./nl/index.js":["hCQt",48],"./nn/index.js":["vORL",49],"./pl/index.js":["B6yL",7],"./pt-BR/index.js":["2dYp",50],"./pt/index.js":["gdks",51],"./ro/index.js":["r2yp",52],"./ru/index.js":["nz/o",8],"./sk/index.js":["Wqan",9],"./sl/index.js":["KYSo",53],"./sr/index.js":["7mU3",54],"./sv/index.js":["hxgj",55],"./ta/index.js":["1ssA",56],"./te/index.js":["SGoj",57],"./th/index.js":["Pk+z",58],"./tr/index.js":["3ZWG",59],"./ug/index.js":["yT3n",60],"./uk/index.js":["LCGg",10],"./vi/index.js":["dGQT",61],"./zh-CN/index.js":["UJqf",62],"./zh-TW/index.js":["zn9v",63]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="YO3j",e.exports=a},wdeV:function(e,t,n){}});
//# sourceMappingURL=index.632aba1e.js.map