!function(e){function t(t){for(var r,o,i=t[0],u=t[1],l=t[2],s=0,d=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);d.length;)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},c=[];var o={3:"sha384-jCD9qCH2bybDJEGMLynT43zVdq8LLgV7J0pghxbjbqIhKCgmzmL7BRcFLi1QMMIE",4:"sha384-6PdHTQIXvb+AjIRUAvfn7OkIDSYdIWgp/stFClMbYVBcjGj6MxJwy4p2ilmZEr4y",5:"sha384-O7GHwHdPt52m0pfD28KBwE1rsPQCSsnFp44Z/nRy1KzguReGHHBi/cEUopRdBnbD",6:"sha384-gBUPJ19Jwo6S+AN79jSQ1g27HyRgmbLKmMV89TpwyxpmBOD19uuuCozQBiDy5/mq",7:"sha384-IKfHoZ5PKLDNEHQ5n7X2gH/DpJOvNNk+RElAaLd3mrcVsKmZkj/W5GvUm3Lj/5CC",8:"sha384-Wc8tuqMkH1XGiyLSJFzMBH/XDZxbw6aS+SXbUxLHmjEV7xvVM9JCAs+SkWFCmBjI",9:"sha384-5OZP5WWAMXvYgR6mjUEusufdPT+INf/QFjTDoz2sP1dxD5mH6UDVB5bdMzb18DsS",10:"sha384-eWWgPwOmcqQVuWe+6dhe5a3mJd6GTGS30B+eL/6Gr5qqpRcx2041WBM1i70ZWz7Q",11:"sha384-DYlLWPaor4YGzrAsfSdkq6b/vTdTaoGtF6JoA3MSvxL2BlRRt4FZo8HdK2fKXi57",12:"sha384-hoX+bE5UuBnWvgNr5JNvKDGTOUNArIKEqEA1TCgCTFpqAlM1MQw0Is5p1w7aJSaR",13:"sha384-Ex+Btwrp3pqCYWYmoPUKjJM2XeAdlhPRmvEOINCmdqE41ikCRz79Zwt+ixt1jvLM",14:"sha384-lGY2Tdg0Tn8L6oLhyd56SGoucMFLFQbR/AX1pFOgpghKMwDoUbtbiBshRmA2fMKH",15:"sha384-/qAAIxpIL3IdwhoYVHH3WvWKcqpx5vN6AwH8DrPZSyhUoJYMIlhnliFqb4asYusU",16:"sha384-ytP7V7TVR6Bwv9zZEjQzGhU1hIvrBoP8oL2uCUiMvmFHtnYZqjkR02jDzgBemUtg",17:"sha384-CFLg+WUHHsAdPheVJe/oaSiIbz6c9mhYfB7EaBR3EslsFVnf6pYVaqXxVgYCHXgH",18:"sha384-U2mqJOixX/qH0KFjceiZWURKWHnfZD0BnXmgrRx0LfwnO4vRbd4iy2ZYtvYbOG0i",19:"sha384-4kb5Emnrq+oIM0rXmTdXdjNCrnWBRsOeVps79SnryIP67f0gitEcFZEqaJxDLBNV",20:"sha384-K7w+OWjRVzygUmN4dp5CKlRAMA3+b20hGPNuXL8EYSFKd32ItXjHadPb/gKPDntZ",21:"sha384-wiG6f9Yv6ZUbhF3Q/Tkg0nwf7WAOfGYaVPcrQNgCj/rcrOvu6QECWMzjuyO0Dr4J",22:"sha384-/ToU4hiPMHhcjRDmbIxn6yP1cbem3nKXkKQuXv88bxFqwV9+g2V6ZouQ3bHZcbu+",23:"sha384-LVS3YtM5zJ1kr7sBjJK0bEllcmAvyhAUNgtUxeuo6mabNUGQnOrKunqSXfVljjaJ",24:"sha384-RRkNqDxw9Vffgjiosds/Eo7Pps3dv+ptuWCbwixtpz3TGzkjbfwg5WF7QgkpKd0S",25:"sha384-tsI3agj/Ezwc0j1oyyWxVDjdihPhZ2D6I6MWhHR+J9TrASUgnsz0LU+itUbPAFOZ",26:"sha384-s8coE+OtcDzXNMroxOeYxu/ww7PSVRYZ63Xnp2jEPljcjAFJULksAYCsj/2+wmap",27:"sha384-jrNoaLzewLH2tbTpBr3ZO1BtSNekFIzpp0AN0ma9pxBdBRfw9zAp0P1nKF53/Zw7",28:"sha384-VcpBz89y9hUlsoU9AgCMhyJs1mN9wyzRgJK7Vu1D53eImBXb5cR9RPaLpKpZKee0",29:"sha384-SRj/QvFRb6+grtNaxDIhh3IMjIaIJEgjoG7pIrkTz4dJkDAfczYAJn9Hwfc3iIgE",30:"sha384-nToreGS/PvzuaEIzxC9mS8VYcfOT1Euug10IY4YhauvWZKmprqDjKX7zUBBhEsgu",31:"sha384-ZWJQQWkRded0vMw/rppAZCeo3ZX0HAviuEY31uBuTrOguUdD+1fknGEvAFOE0Gk9",32:"sha384-tuPrZY1kt1YFdd8jIDWl+voBI++BvZatQ0EBpZ+NmarJ2Ojr1w/KJGU3DeTzAy1G",33:"sha384-fErhU40qWyh4o2x9gPUOw1vMajB+xsPDjL49ieovY+DxoinuhjvsjO0O2Acc/Xop",34:"sha384-x7p7db5ZUExp5HUxbU7n6PZ69/e+scPZNCnuWT0dhwCsavs8m5C1Bv5UHoIQDxwB",35:"sha384-qL4jF23dJig9/dXOr4y/0HnOvmSHwebPZqmvMbLEvoOWiPftXh9rY8zu+aVbEsA8",36:"sha384-8YPjFE3ButtQRPqHYoYUu0gYGCV+/s2cXpgp1j645edeTBI7nQVU6yNOwNCu2JUV",37:"sha384-oeEzuZMts/PmUP/wLJ4LYzK+v8QkiJ39kYna8uK8bDI3Y2aljy4vJkiOqB5CQpdQ",38:"sha384-wFxzSZw039qNXF+vQNpfN5jGy8KIzjvnphAfS+xGYUS1aUbqqjadA3+2a6PoD3HN",39:"sha384-GL2r3jAMbl05jSCHeEdzB6nvnXC/hnaXjmoyGoYCDVhW+bGiOZEl19txJzgzIt3x",40:"sha384-Hm26jrNieLht/Fm6NEx7l6d5gpEcKIaAJWbTZC0Hdn7dQY7etRdY5vcDKdh7/GaX",41:"sha384-r9yGKq9pB89JJ6s566qg9xGtPjzMS83haCowSFsEyE6Be/AaLvL6A1L2IzF+7/JD",42:"sha384-/FeIaXQPN+Ke5dldrXvrz6a+RXBePPC6ZgnvElMaEntt3REARXEhCvReNyNy5xmx",43:"sha384-Mk8/PzjB1+gtITJIwxwAd8qq4gtMlD+oKivW4zs9aNduJrCfx6uryAnbMHE8rKGJ",44:"sha384-4NmjbbctZoIDpI0oYrdhc/KAjiPf0YFpCtVigm9oQ8LS6c2I65UQb9imdosFyT8a",45:"sha384-MhrA5nbvQW2mdGVTVXegVG1q5/DQaR+uKKl/Oc4w0t4f7sBe3RybrNG0nRwaTyvl",46:"sha384-zDBi4NGBvvUXFeF4YVnbw2iuJ/IQKKHkBt2B7sTEfnAWBtQs0o1+d26FtSL11mvR",47:"sha384-qpwA3ju66S4sFA54xhgbDR2FWQ8oees5mspSjsTYeNrHqVGPIgZ6vM/a+GrjQ+uX",48:"sha384-lzE4hvJAZ5pAMaS9mzwMyM5zpC9UEkRqxN/h+PfAyADbUGqOEb6y0BjgjFBbusSN",49:"sha384-SrW76mG7Yck3Ypz94SZKPFai4cEjq9M0jfNSbbN4/JonPEQT9d835Ka84t7hdrNL",50:"sha384-xibs8GsIE0MalEkx0KpALjrfAnyC4Yy0egjFUjEwqPzCI8lgGuPqD9x+w16PL/gy",51:"sha384-DJRLDSISQvSbE55pIhyXdFpVlGAACG44tYj7hLjAbDB6BHWLE30klV82n25s3DCV",52:"sha384-U4pd5yl/7d5llkFlRP7HDgVdPsPTB+PSv0eO//y4C6cDP8sT6eUDyBXpxyRFOIXl",53:"sha384-Qb1icXL0UfoBIbbUmFAtPj0KJHtKT6kquKY/BUpQCCfsKxuTUZ+yXE9HJCBCt3Z8",54:"sha384-tyfZIUbZ973Hc5dfktJZx085I9tXPfiOM5dVOBN3OWG3tR4wwLHLxb5Sqhr7YQqL",55:"sha384-xFyzbmJBSRTG14bxUD8LSZKU7ZEluzXuxAop/aVnTdQC46AbJ5lHQYc9VA4SEaKm",56:"sha384-mMdknU2E4wRoaJzhJ8YOIwURCQ7+kMh9V0+h7jNwt183u+Cy0dRkq8aHfH2Rvj8H",57:"sha384-NEt3FPcS/KPgd/pM94ECv4qW9lScMQl2SmuOShvOJACYHM5BYQjdUqYq3mITbYHv",58:"sha384-uWC7Mq/iGBjutexYRHujyFw21gpgGD5yvJ5vfklZiQohGHCIEYRM/FRlaXq2m2SJ",59:"sha384-T9qk/wd1Z1Dj2qbO46IFc+43mf7uFrUQS3NsST3sLNjUM9Q7kgsxhn5zh4dfrtxm",60:"sha384-JOeri0ApfHIKIcjmItSP3S0HeP+WVC5UgizagKpZlGoOWurnN6K0JpQi84VOHwfc",61:"sha384-INSJAEMy/PN+MEIfj0xRJAmO4SKCKkcCvDeWRRZHE0lvxFVLN+uZSlstLJt7eCw0",62:"sha384-HyReR/16KttPy4N2qtQb1xjwMKFcAGg3XwUFSaWX19AFiS+HMT2BuZWOy3XKkg6x",63:"sha384-Y0hiKbFd98+RwoftdYstfAU5Pv8ZQy99HI2skeXAkKrgjC7rjUkJXKLw4DFrjxbN",64:"sha384-6dpxYT+ACA0U76AJP6taqIqGMgPMRQFDgzxvZMr2nxb0Az6HMwJ9TpS3MA3izqPh"};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+""+({}[e]||e)+"."+{3:"8cc6bd05",4:"289eac7a",5:"34349e75",6:"87e23fae",7:"ce6bb801",8:"4fb07aef",9:"947f57b2",10:"c500f9e0",11:"6e754a52",12:"2de2dcec",13:"26218c77",14:"4232a5ec",15:"609df72e",16:"012fa836",17:"bdebd471",18:"08ebfe2c",19:"16f6169c",20:"d736650b",21:"10671e7d",22:"a56c611e",23:"66ca65c5",24:"30469ae3",25:"ac5f5d69",26:"b6da30c6",27:"1e187bdf",28:"1dbedd03",29:"57a08404",30:"051b1870",31:"94cd7924",32:"c82c4169",33:"fec249b2",34:"091970ef",35:"990b39c7",36:"6bd0e35d",37:"99015436",38:"41c9f701",39:"459f1e59",40:"628e857b",41:"184cdca1",42:"e893aea6",43:"a458ed20",44:"37493299",45:"4deed603",46:"4c1a2f55",47:"26991b7c",48:"e415b576",49:"59a11d7d",50:"56cee7c7",51:"eb96219e",52:"896d8463",53:"6e331f91",54:"752e1167",55:"ac9be0c7",56:"92580cea",57:"ba7fd9cf",58:"fe25594a",59:"fbd3d022",60:"f764d01c",61:"9d38de72",62:"ac5ad630",63:"81184869",64:"c6d1b7db"}[e]+".chunk.js"}(e),0!==u.src.indexOf(window.location.origin+"/")&&(u.crossOrigin="anonymous");var l=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",l.name="ChunkLoadError",l.type=r,l.request=c,n[1](l)}a[e]=void 0}};var s=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,u.integrity=o[e],u.crossOrigin="anonymous",document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var f=l;c.push([0,2]),n()}({"+wUL":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"CLIENT_ID",(function(){return m})),n.d(r,"CLIENT_TYPE",(function(){return p})),n.d(r,"CLIENT_SECRET",(function(){return b})),n.d(r,"APP_VERSION",(function(){return v})),n.d(r,"APP_NAME",(function(){return h})),n.d(r,"API_URL",(function(){return g})),n.d(r,"SECURE_URL",(function(){return y})),n.d(r,"LOCALES",(function(){return O})),n.d(r,"API_VERSION",(function(){return j})),n.d(r,"DATE_VERSION",(function(){return E})),n.d(r,"CHANGELOG_PATH",(function(){return x})),n.d(r,"VERSION_PATH",(function(){return w})),n.d(r,"SENTRY_RELEASE",(function(){return C})),n.d(r,"SENTRY_DSN",(function(){return k}));n("pNMO"),n("4Brf"),n("tjZM"),n("3I1R"),n("7+kd"),n("0oug"),n("KhsS"),n("gOCb"),n("a57n"),n("GXvd"),n("I1Gw"),n("gXIK"),n("lEou"),n("gbiT"),n("ma9I"),n("qHT+"),n("piMb"),n("yyme"),n("TeQF"),n("fbCW"),n("x0AG"),n("BIHw"),n("XbcX"),n("QWBl"),n("pjDv"),n("yq1k"),n("yXV3"),n("4mDm"),n("oVuX"),n("uqXc"),n("2B1R"),n("Xe3L"),n("E9XD"),n("9N29"),n("Junv"),n("+2oP"),n("Rfxz"),n("ToJy"),n("94Xl"),n("pDQq"),n("QGkA"),n("c9m3"),n("wZ/5"),n("gtqK"),n("rOQg"),n("tCCV"),n("rMz7"),n("9LPj"),n("7+zs"),n("DQNa"),n("tW5y"),n("sMBO"),n("DEfu"),n("Tskq"),n("Uydy"),n("eajv"),n("n/mU"),n("PqOI"),n("QNnp"),n("/5zm"),n("CsgD"),n("9mRW"),n("QFcT"),n("vAFs"),n("a5NK"),n("yiG3"),n("kNcU"),n("KvGi"),n("AmFO"),n("eJiR"),n("I9xj"),n("tl/u"),n("qePV"),n("NbN+"),n("8AyJ"),n("i6QF"),n("kSko"),n("WDsR"),n("r/Vq"),n("5uH8"),n("w1rZ"),n("JevA"),n("toAj"),n("VC3L"),n("zKZe"),n("Eqjn"),n("HRxU"),n("eoL8"),n("5xtp"),n("T63A"),n("3KgV"),n("wfmh"),n("5DmW"),n("27RR"),n("cDke"),n("NBAS"),n("Kxld"),n("yQYn"),n("4h0Y"),n("5D5o"),n("tkto"),n("v5b1"),n("W/eh"),n("zuhW"),n("r5Og"),n("ExoC"),n("07d7"),n("B6y2"),n("rNhl"),n("4l63"),n("5s+n"),n("p532"),n("pv2x"),n("SuFq"),n("PzqY"),n("rBZX"),n("XUE8"),n("nkod"),n("f3jH"),n("x2An"),n("25bX"),n("G/JM"),n("1t3B"),n("ftMj"),n("i5pp"),n("TWNs"),n("rB9j"),n("U3f4"),n("JfAA"),n("YGK4"),n("9bJ7"),n("inlA"),n("9tb/"),n("JTJg"),n("PKPk"),n("Rm1S"),n("hDyC"),n("TZCg"),n("2A+d"),n("OM9Z"),n("UxlC"),n("hByQ"),n("EnZy"),n("LKBx"),n("SYor"),n("HiXI"),n("7ueG"),n("GKVU"),n("E5NM"),n("BNMt"),n("zHFu"),n("x83w"),n("l2dK"),n("GRPF"),n("xdBZ"),n("mRH6"),n("yWo2"),n("IxXR"),n("TFPT"),n("Zk8X"),n("z8NH"),n("SpvK"),n("/Yfv"),n("iwkZ"),n("FDzp"),n("XMab"),n("ilnZ"),n("hMMk"),n("+ywr"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("IL/d"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("7JcK"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0"),n("ENF9"),n("H+LF"),n("FZtP"),n("3bBZ"),n("Ew+T"),n("n5b4"),n("Kz25"),n("vxnP"),n("mGGf");var a=n("i8i4"),c=n.n(a),o=n("q1tI"),i=n.n(o),u=(n("ls82"),n("wSuE")),l=(n("pZvr"),n("sQ7P")),s=n("U0S0"),f=n("6lBS"),d=n("g5XH"),m="WebContacts",p=1,b="",v="0.0.0",h="proton-contacts",g="https://protonmail.blue/api",y="https://secure.protonmail.blue",O={},j="3",E="Thu, 02 Jan 2020 17:48:53 GMT",x="assets/changelog.tpl.html",w="assets/version.json",C="",k="",P=n("LTi8"),N=n("VjqJ"),D=n("yoKv"),I=n("4p7I"),S=n("mLw1"),A=n("mBH9"),T=n("pW7U"),M=n("p2/2"),L=n("f6D/"),K=n("XTKM"),R=n("/kVl"),F=n("Iivb"),G=n("FZZp"),U=n("Xrgn"),B=n("+q81"),V=n("8hY9"),z=n("bf08"),W=n("veyU"),Y=Object(o.createContext)(),H=function(e){var t=e.children,n=Object(G.a)().subscribe,r=Object(U.a)((function(){return Object(B.a)(Object(V.a)({max:10}))}));return Object(o.useLayoutEffect)((function(){return n((function(e){var t=e.Contacts;if(Array.isArray(t)){var n=!0,a=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value,l=u.ID,s=u.Action,f=u.Contact;r.has(l)&&(s===z.t.DELETE&&r.delete(l),s===z.t.UPDATE&&r.set(l,{value:f,status:W.a.RESOLVED}))}}catch(d){a=!0,c=d}finally{try{n||null==i.return||i.return()}finally{if(a)throw c}}}}))}),[]),i.a.createElement(Y.Provider,{value:r},t)},J=n("VkAN"),X=n.n(J),q=n("lSNA"),Q=n.n(q),Z=n("J4zp"),_=n.n(Z),$=n("whF5"),ee=n("KAzH"),te=n("F9b+"),ne=n("X9p3"),re=n("yfEu"),ae=n("7xJH"),ce=n("nitM"),oe=n("wc4/"),ie=n("eBbU"),ue=n("27li"),le=n("ImWu"),se=n("LKB7"),fe=n("DIu/"),de=n("RIqP"),me=n.n(de);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=["fn","email","tel","adr","key"],he=function(e){return ve.includes(e)},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.value})).map((function(e){return Array.isArray(e.value)?e:be({},e,{value:e.value.toString()})})).map((function(e){var t=e.field,n=e.value;return"adr"!==t||Array.isArray(n)?e:be({},e,{value:n.split(",").slice(0,6)})}))},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=ve.reduce((function(e,t){return e[t]=0,e}),Object.create(null));return e.map((function(e){return ve.includes(e.field)?be({},e,{pref:t[e.field]=t[e.field]+1}):e}))},Oe=function(e,t){return e.pref-t.pref},je=function(e){var t=e.reduce((function(e,t){return ve.includes(t.field)?e.withPref.push(t):e.withoutPref.push(t),e}),{withPref:[],withoutPref:[]}),n=t.withPref,r=t.withoutPref;return n.sort(Oe).concat(r)},Ee=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=1,n=!1;!n;)e.includes("item".concat(t))?t++:n=!0;return"item".concat(t)},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return e.group}));return e.map((function(e){if(!["email"].includes(e.field)||e.group)return e;var n=Ee(t);return t.push(n),be({},e,{group:n})}))},we=function(e,t){return(e.find((function(e){return e.field===t}))||{}).value},Ce=function(e,t){return ye(e).filter((function(e){return e.field===t})).sort(Oe).map((function(e){return e.value}))},ke=n("+AqD"),Pe=n("o0o1"),Ne=n.n(Pe),De=n("UeCU"),Ie=n.n(De),Se=n("HlEg"),Ae=n("dG5C"),Te=n("pdRq"),Me=["bday","anniversary","gender","lang","tz","geo","title","role","photo","logo","org","member","note","url"],Le=["key","x-pm-mimetype","x-pm-encrypt","x-pm-sign","x-pm-scheme","x-pm-tls"],Ke=["version","prodid","categories"],Re=["version","prodid","fn","uid","email"].concat(Le),Fe=0,Ge=1,Ue=0,Be=1,Ve=n("iylp"),ze=function(e){var t=function(e){try{return e.getValues()}catch(r){var t=e.jCal||[],n=_()(t,4)[3];return[void 0===n?"":n]}}(e).map((function(e){return Array.isArray(e)?e:"string"==typeof e?e:e.toString()}));return _()(t,1)[0]},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase().replace("x-","")},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e.length?e[0]:"":e},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(Boolean).map((function(e){return e.trim()})).join(", ")},Je=function(e,t,n){var r,a,c,o,i,u,l;return Ne.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return r=e.filter((function(e){var n=e.field,r=e.group;return Le.includes(n)&&r===t})).reduce((function(e,t){var n=t.field,r=t.value,a=t.pref;if("key"===n&&r){var c=r.split(","),o=_()(c,2)[1],i=void 0===o?"":o,u=Object(Ae.d)(Object(Ae.g)(i));if(u.length){var l=Object(Te.b)(u).then((function(e){return{publicKey:_()(e,1)[0],pref:a}})).catch(Ve.b);e.pinnedKeyPromises.push(l)}return e}return"x-pm-encrypt"===n&&r?(e.encrypt="true"===r,e):"x-pm-sign"===n&&r?(e.sign="true"===r,e):"x-pm-scheme"===n&&r?(e.scheme=r,e):"x-pm-mimetype"===n&&r?(e.mimeType=r,e):e}),{pinnedKeyPromises:[],mimeType:"",encrypt:!1,scheme:"",sign:1===n}),a=r.pinnedKeyPromises,c=r.mimeType,o=r.encrypt,i=r.scheme,u=r.sign,s.next=3,Ne.a.awrap(Promise.all(a));case 3:return s.t0=Boolean,s.t1=Oe,s.t2=function(e){return e.publicKey},l=s.sent.filter(s.t0).sort(s.t1).map(s.t2),s.abrupt("return",{pinnedKeys:l,mimeType:c,encrypt:o,scheme:i,sign:u});case 8:case"end":return s.stop()}}))},Xe="1*",qe="*",Qe={fn:{cardinality:Xe},n:{cardinality:"*1"},nickname:{cardinality:qe},photo:{cardinality:qe},bday:{cardinality:"*1"},anniversary:{cardinality:"*1"},gender:{cardinality:"*1"},adr:{cardinality:qe},tel:{cardinality:qe},email:{cardinality:qe},impp:{cardinality:qe},lang:{cardinality:qe},tz:{cardinality:qe},geo:{cardinality:qe},title:{cardinality:qe},role:{cardinality:qe},logo:{cardinality:qe},org:{cardinality:qe},member:{cardinality:qe},related:{cardinality:qe},categories:{cardinality:qe},note:{cardinality:qe},prodid:{cardinality:"*1"},rev:{cardinality:"*1"},sound:{cardinality:qe},uid:{cardinality:"*1"},clientpidmap:{cardinality:qe},url:{cardinality:qe},version:{cardinality:"1"},key:{cardinality:qe},fburl:{cardinality:qe},caladruri:{cardinality:qe},caluri:{cardinality:qe}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("x-")},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Ie.a.Component(Ie.a.parse(e)),n=t.getAllProperties();return n.reduce((function(e,t){var n=t.name.split("."),r=n[1]?n[1]:n[0],a=t.getParameter("type"),c=t.getParameter("pref"),o="string"==typeof c&&he(r)?+c:void 0;if(!r)return e;if(!Ze(r)&&!Qe[r])return e;var i={pref:o,field:r,group:n[1]?n[0]:void 0,type:a,value:ze(t)};return e.push(i),e}),[]).sort(Oe)},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Ie.a.Component("vcard");if(!e.some((function(e){return"version"===e.field}))){var n=new Ie.a.Property("version");n.setValue("4.0"),t.addProperty(n)}return e.reduce((function(e,t){var n=t.field,r=t.type,a=t.pref,c=t.value,o=[t.group,n].filter(Boolean).join("."),i=new Ie.a.Property(o);return i.setValue(c),r&&i.setParameter("type",r),a&&i.setParameter("pref",""+a),e.addProperty(i),e}),t)},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return t.forEach((function(t){var n=t.field,r=(Qe[n]||{}).cardinality;[Xe,qe].includes(void 0===r?qe:r)?e.push(t):e.find((function(e){return e.field===n}))||e.push(t)})),e}),[])},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e.match(/BEGIN:VCARD/g)&&e.match(/BEGIN:VCARD/g).length===(e.match(/END:VCARD/g)||[]).length},nt=function(e){var t;return Ne.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ne.a.awrap(Object(Se.a)(e));case 2:if(t=n.sent,tt(t)){n.next=5;break}throw new Error("Error when reading vcf file");case 5:return n.abrupt("return",t);case 6:case"end":return n.stop()}}))};function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct=function e(t){var n=!1,r=t.reduce((function(e,t){var r=e.connected,a=e.newConnections,c=function(e,t){var n=!0,r=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;if(void 0!==t[i])return t[i]}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return-1}(t,r);if(-1!==c){a[c]=Object(ke.e)([].concat(me()(t),me()(a[c])));var o=!0,i=!1,u=void 0;try{for(var l,s=t[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=l.value;void 0===r[f]&&(r[f]=c)}}catch(h){i=!0,u=h}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}n=!0}else{var d=!0,m=!1,p=void 0;try{for(var b,v=t[Symbol.iterator]();!(d=(b=v.next()).done);d=!0){r[b.value]=a.length}}catch(h){m=!0,p=h}finally{try{d||null==v.return||v.return()}finally{if(m)throw p}}a.push(t)}return e}),{connected:Object.create(null),newConnections:[]}).newConnections;return n?e(r):t},ot=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("adr"===t){var r=n.map((function(t){return!t.map((function(t,n){var r=Array.isArray(t),a=Array.isArray(e[n]);return r&&a?e[n].some((function(e){return!t.map(se.g).includes(Object(se.g)(e))})):!(!r&&!a)||Object(se.g)(t)!==Object(se.g)(e[n])})).filter(Boolean).length})).filter(Boolean),a=!r.length;return{isNewValue:a,newValue:a?e:void 0}}if("email"===t){var c=!n.map((function(e){return e.trim()})).includes(e.trim());return{isNewValue:c,newValue:c?e:void 0}}var o=!n.map(se.g).includes(Object(se.g)(e));return{isNewValue:o,newValue:o?e:void 0}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];var t=e.reduce((function(e,t,n){var r=e.mergedContact,a=e.mergedProperties,c=e.mergedPropertiesPrefs,o=e.mergedGroups;if(0===n){r.push.apply(r,me()(t));var i=!0,u=!1,l=void 0;try{for(var s,f=t[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var d=s.value,m=d.pref,p=d.field,b=d.value,v=d.group;a[p]?(a[p].push(b),he(p)&&c[p].push(m)):(a[p]=[b],he(p)&&(c[p]=[m])),"email"===p&&(o[b]=v)}}catch(M){u=!0,l=M}finally{try{i||null==f.return||f.return()}finally{if(u)throw l}}}else{var h=t.filter((function(e){return"email"===e.field})).map((function(e){return{email:e.value,group:e.group}})).reduce((function(e,t){var n=t.email,r=t.group;return Object.values(o).includes(r)?e[r]=o[n]||Ee(Object.values(o)):e[r]=r,e}),Object.create(null)),g=!0,y=!1,O=void 0;try{for(var j,E=t[Symbol.iterator]();!(g=(j=E.next()).done);g=!0){var x=j.value,w=x.pref,C=x.field,k=x.group,P=x.value,N=k?h[k]:k;if(a[C]){var D=ot(P,C,a[C]),I=D.isNewValue,S=D.newValue,A=he(C)?Math.max.apply(Math,me()(c[C]))+1:void 0,T=Ze(C)||[qe,Xe].includes(Qe[C].cardinality);I&&T&&(r.push(at({},x,{pref:A,value:S,group:N})),a[C].push(S),he(C)&&(c[C]=[A]),N&&"email"===C&&(o[P]=N))}else r.push(at({},x,{pref:w,group:N})),a[C]=[P],he(C)&&(c[C]=[w]),N&&"email"===C&&(o[P]=N)}}catch(M){y=!0,O=M}finally{try{g||null==E.return||E.return()}finally{if(y)throw O}}}return e}),{mergedContact:[],mergedProperties:Object.create(null),mergedPropertiesPrefs:Object.create(null),mergedGroups:Object.create(null)}),n=t.mergedContact;return n},ut=n("0U2K"),lt=n("rbcQ"),st=n("9C/b"),ft=n("b9ZJ"),dt=n.n(ft),mt=n("QWsV"),pt=n.n(mt),bt=n("ai43"),vt=n.n(bt),ht=n("zI3M"),gt=n.n(ht),yt=n("pVnL"),Ot=n.n(yt),jt=n("QILm"),Et=n.n(jt),xt=n("pIIs"),wt=n("/z5T"),Ct=n("ncqd"),kt=n("+Vas"),Pt=n("FbvF"),Nt=n("sjWO"),Dt=n("YJeA"),It=n("CzMN"),St=n("Md23"),At=n("e2Bf"),Tt=n("0xu3");function Mt(){var e=X()(["Delete"]);return Mt=function(){return e},e}var Lt=function(e){var t=e.file,n=e.iconName,r=e.className,a=e.clear,c=void 0===a?Object($.c)("Action").t(Mt()):a,o=e.onClear,u=Et()(e,["file","iconName","className","clear","onClear"]),l=Object(Se.b)(t.name),s=_()(l,2),f=s[0],d=s[1];return i.a.createElement("div",Ot()({className:"flex bordered-container w100 ".concat(r)},u),i.a.createElement("div",{className:"p0-5 flex flex-item-noshrink w10"},i.a.createElement(St.a,{name:n,className:"mauto"})),i.a.createElement("div",{className:"message-attachmentInfo p0-5 flex flex-nowrap w90"},i.a.createElement("div",{className:"flex-item-fluid pr1"},i.a.createElement("div",{className:"ellipsis",title:f},f),i.a.createElement("div",null,"".concat(d.toUpperCase()," - ").concat(Object(Tt.a)(t.size)))),i.a.createElement(At.a,{className:"flex-item-noshrink",onClick:o},c)))};function Kt(){var e=X()(["Select file from computer"]);return Kt=function(){return e},e}function Rt(){var e=X()(["We support importing CSV files from Outlook, Outlook Express, Yahoo! Mail, Hotmail, Eudora and some other apps. We also support importing vCard 4.0. (UTF-8 encoding)."]);return Rt=function(){return e},e}var Ft=function(e){var t=e.attached,n=e.file,r=e.onAttach,a=e.onClear;return i.a.createElement(i.a.Fragment,null,i.a.createElement(kt.a,{learnMore:"https://protonmail.com/support/knowledge-base/adding-contacts/"},Object($.c)("Description").t(Rt())),i.a.createElement(Dt.a,{className:"flex"},t?i.a.createElement(Lt,{file:n,iconName:"contacts-groups",onClear:a}):i.a.createElement(It.a,{className:"center",accept:".csv, .vcf",id:"import-contacts",onChange:r},Object($.c)("Action").t(Kt()))))};Ft.PropTypes={files:[]};var Gt=Ft,Ut=n("/hVJ"),Bt=n("Z/R7"),Vt=n("h075"),zt=n("fTXG");function Wt(){var e=X()(["VALUES"]);return Wt=function(){return e},e}function Yt(){var e=X()(["VCARD FIELD"]);return Yt=function(){return e},e}function Ht(){var e=X()(["CSV FIELD"]);return Ht=function(){return e},e}function Jt(){var e=X()(["IMPORT"]);return Jt=function(){return e},e}var Xt=function(e){var t=e.disabledPrevious,n=e.disabledNext,r=e.onPrevious,a=e.onNext,c=Et()(e,["disabledPrevious","disabledNext","onPrevious","onNext"]);return i.a.createElement("thead",c,i.a.createElement("tr",null,i.a.createElement(zt.a,{type:"header",className:"w15 aligncenter"},Object($.c)("TableHeader").t(Jt())),i.a.createElement(zt.a,{type:"header",className:"aligncenter"},Object($.c)("TableHeader").t(Ht())),i.a.createElement(zt.a,{type:"header",className:"aligncenter"},Object($.c)("TableHeader").t(Yt())),i.a.createElement(zt.a,{type:"header",className:"w30 aligncenter"},i.a.createElement("div",{className:"inline-flex"},i.a.createElement("span",{className:"flex-item-centered-vert mr0-5"},Object($.c)("TableHeader").t(Wt())),i.a.createElement("span",{className:"flex flex-nowrap"},i.a.createElement(At.a,{disabled:t,icon:i.a.createElement(St.a,{name:"caret",className:"flex-item-noshrink rotateZ-90"}),onClick:r}),i.a.createElement(At.a,{disabled:n,icon:i.a.createElement(St.a,{name:"caret",className:"flex-item-noshrink rotateZ-270"}),onClick:a}))))))};Xt.defaultPropTypes={disabledPrevious:!0,disabledNext:!0};var qt=Xt,Qt=n("ErEO"),Zt=n("tWpJ"),_t=n("dVIL"),$t=n("SI5Q");function en(){var e=X()(["Sound"]);return en=function(){return e},e}function tn(){var e=X()(["Categories"]);return tn=function(){return e},e}function nn(){var e=X()(["Related"]);return nn=function(){return e},e}function rn(){var e=X()(["IMPP"]);return rn=function(){return e},e}function an(){var e=X()(["Member"]);return an=function(){return e},e}function cn(){var e=X()(["Logo"]);return cn=function(){return e},e}function on(){var e=X()(["Geo"]);return on=function(){return e},e}function un(){var e=X()(["Timezone"]);return un=function(){return e},e}function ln(){var e=X()(["Language"]);return ln=function(){return e},e}function sn(){var e=X()(["Gender"]);return sn=function(){return e},e}function fn(){var e=X()(["URL"]);return fn=function(){return e},e}function dn(){var e=X()(["Note"]);return dn=function(){return e},e}function mn(){var e=X()(["Role"]);return mn=function(){return e},e}function pn(){var e=X()(["Title"]);return pn=function(){return e},e}function bn(){var e=X()(["Anniversary"]);return bn=function(){return e},e}function vn(){var e=X()(["Birthday"]);return vn=function(){return e},e}function hn(){var e=X()(["Organization"]);return hn=function(){return e},e}function gn(){var e=X()(["Photo"]);return gn=function(){return e},e}function yn(){var e=X()(["Address"]);return yn=function(){return e},e}function On(){var e=X()(["Phone"]);return On=function(){return e},e}function jn(){var e=X()(["Email"]);return jn=function(){return e},e}function En(){var e=X()(["Nickname"]);return En=function(){return e},e}function xn(){var e=X()(["Compact name"]);return xn=function(){return e},e}function wn(){var e=X()(["Name"]);return wn=function(){return e},e}function Cn(){var e=X()(["Logo"]);return Cn=function(){return e},e}function kn(){var e=X()(["Geo"]);return kn=function(){return e},e}function Pn(){var e=X()(["Timezone"]);return Pn=function(){return e},e}function Nn(){var e=X()(["Language"]);return Nn=function(){return e},e}function Dn(){var e=X()(["Gender"]);return Dn=function(){return e},e}function In(){var e=X()(["URL"]);return In=function(){return e},e}function Sn(){var e=X()(["Note"]);return Sn=function(){return e},e}function An(){var e=X()(["Member"]);return An=function(){return e},e}function Tn(){var e=X()(["Role"]);return Tn=function(){return e},e}function Mn(){var e=X()(["Title"]);return Mn=function(){return e},e}function Ln(){var e=X()(["Anniversary"]);return Ln=function(){return e},e}function Kn(){var e=X()(["Birthday"]);return Kn=function(){return e},e}function Rn(){var e=X()(["Organization"]);return Rn=function(){return e},e}function Fn(){var e=X()(["Photo"]);return Fn=function(){return e},e}function Gn(){var e=X()(["Logo"]);return Gn=function(){return e},e}function Un(){var e=X()(["Geo"]);return Un=function(){return e},e}function Bn(){var e=X()(["Timezone"]);return Bn=function(){return e},e}function Vn(){var e=X()(["Language"]);return Vn=function(){return e},e}function zn(){var e=X()(["Gender"]);return zn=function(){return e},e}function Wn(){var e=X()(["URL"]);return Wn=function(){return e},e}function Yn(){var e=X()(["Note"]);return Yn=function(){return e},e}function Hn(){var e=X()(["Member"]);return Hn=function(){return e},e}function Jn(){var e=X()(["Role"]);return Jn=function(){return e},e}function Xn(){var e=X()(["Title"]);return Xn=function(){return e},e}function qn(){var e=X()(["Anniversary"]);return qn=function(){return e},e}function Qn(){var e=X()(["Birthday"]);return Qn=function(){return e},e}function Zn(){var e=X()(["Organization"]);return Zn=function(){return e},e}function _n(){var e=X()(["Photo"]);return _n=function(){return e},e}function $n(){var e=X()(["Address"]);return $n=function(){return e},e}function er(){var e=X()(["Phone"]);return er=function(){return e},e}function tr(){var e=X()(["Email"]);return tr=function(){return e},e}function nr(){var e=X()(["Name"]);return nr=function(){return e},e}function rr(){var e=X()(["Sound"]);return rr=function(){return e},e}function ar(){var e=X()(["Categories"]);return ar=function(){return e},e}function cr(){var e=X()(["Related"]);return cr=function(){return e},e}function or(){var e=X()(["IMPP"]);return or=function(){return e},e}function ir(){var e=X()(["Member"]);return ir=function(){return e},e}function ur(){var e=X()(["Logo"]);return ur=function(){return e},e}function lr(){var e=X()(["Geo"]);return lr=function(){return e},e}function sr(){var e=X()(["Timezone"]);return sr=function(){return e},e}function fr(){var e=X()(["Language"]);return fr=function(){return e},e}function dr(){var e=X()(["Gender"]);return dr=function(){return e},e}function mr(){var e=X()(["URL"]);return mr=function(){return e},e}function pr(){var e=X()(["Note"]);return pr=function(){return e},e}function br(){var e=X()(["Role"]);return br=function(){return e},e}function vr(){var e=X()(["Title"]);return vr=function(){return e},e}function hr(){var e=X()(["Anniversary"]);return hr=function(){return e},e}function gr(){var e=X()(["Birthday"]);return gr=function(){return e},e}function yr(){var e=X()(["Organization"]);return yr=function(){return e},e}function Or(){var e=X()(["Photo"]);return Or=function(){return e},e}function jr(){var e=X()(["Address"]);return jr=function(){return e},e}function Er(){var e=X()(["Phone"]);return Er=function(){return e},e}function xr(){var e=X()(["Email"]);return xr=function(){return e},e}function wr(){var e=X()(["Nickname"]);return wr=function(){return e},e}function Cr(){var e=X()(["Compact name"]);return Cr=function(){return e},e}function kr(){var e=X()(["Name"]);return kr=function(){return e},e}var Pr=function(){return[{text:Object($.c)("Contact field label").t(Fn()),value:"photo"},{text:Object($.c)("Contact field label").t(Rn()),value:"org"},{text:Object($.c)("Contact field label").t(Kn()),value:"bday"},{text:Object($.c)("Contact field label").t(Ln()),value:"anniversary"},{text:Object($.c)("Contact field label").t(Mn()),value:"title"},{text:Object($.c)("Contact field label").t(Tn()),value:"role"},{text:Object($.c)("Contact field label").t(An()),value:"member"},{text:Object($.c)("Contact field label").t(Sn()),value:"note"},{text:Object($.c)("Contact field label").t(In()),value:"url"},{text:Object($.c)("Contact field label").t(Dn()),value:"gender"},{text:Object($.c)("Contact field label").t(Nn()),value:"lang"},{text:Object($.c)("Contact field label").t(Pn()),value:"tz"},{text:Object($.c)("Contact field label").t(kn()),value:"geo"},{text:Object($.c)("Contact field label").t(Cn()),value:"logo"}]},Nr=function(){return{fn:Object($.c)("Contact field label").t(wn()),n:Object($.c)("Contact field label").t(xn()),nickname:Object($.c)("Contact field label").t(En()),email:Object($.c)("Contact field label").t(jn()),tel:Object($.c)("Contact field label").t(On()),adr:Object($.c)("Contact field label").t(yn()),photo:Object($.c)("Contact field label").t(gn()),org:Object($.c)("Contact field label").t(hn()),bday:Object($.c)("Contact field label").t(vn()),anniversary:Object($.c)("Contact field label").t(bn()),title:Object($.c)("Contact field label").t(pn()),role:Object($.c)("Contact field label").t(mn()),note:Object($.c)("Contact field label").t(dn()),url:Object($.c)("Contact field label").t(fn()),gender:Object($.c)("Contact field label").t(sn()),lang:Object($.c)("Contact field label").t(ln()),tz:Object($.c)("Contact field label").t(un()),geo:Object($.c)("Contact field label").t(on()),logo:Object($.c)("Contact field label").t(cn()),member:Object($.c)("Contact field label").t(an()),impp:Object($.c)("Contact field label").t(rn()),related:Object($.c)("Contact field label").t(nn()),categories:Object($.c)("Contact field label").t(tn()),sound:Object($.c)("Contact field label").t(en())}},Dr=function(e){var t=e.value,n=e.onChangeField,r=[{text:Object($.c)("Contact field label").t(kr()),value:"fn"},{text:Object($.c)("Contact field label").t(Cr()),value:"n"},{text:Object($.c)("Contact field label").t(wr()),value:"nickname"},{text:Object($.c)("Contact field label").t(xr()),value:"email"},{text:Object($.c)("Contact field label").t(Er()),value:"tel"},{text:Object($.c)("Contact field label").t(jr()),value:"adr"},{text:Object($.c)("Contact field label").t(Or()),value:"photo"},{text:Object($.c)("Contact field label").t(yr()),value:"org"},{text:Object($.c)("Contact field label").t(gr()),value:"bday"},{text:Object($.c)("Contact field label").t(hr()),value:"anniversary"},{text:Object($.c)("Contact field label").t(vr()),value:"title"},{text:Object($.c)("Contact field label").t(br()),value:"role"},{text:Object($.c)("Contact field label").t(pr()),value:"note"},{text:Object($.c)("Contact field label").t(mr()),value:"url"},{text:Object($.c)("Contact field label").t(dr()),value:"gender"},{text:Object($.c)("Contact field label").t(fr()),value:"lang"},{text:Object($.c)("Contact field label").t(sr()),value:"tz"},{text:Object($.c)("Contact field label").t(lr()),value:"geo"},{text:Object($.c)("Contact field label").t(ur()),value:"logo"},{text:Object($.c)("Contact field label").t(ir()),value:"member"},{text:Object($.c)("Contact field label").t(or()),value:"impp"},{text:Object($.c)("Contact field label").t(cr()),value:"related"},{text:Object($.c)("Contact field label").t(ar()),value:"categories"},{text:Object($.c)("Contact field label").t(rr()),value:"sound"}];return i.a.createElement(_t.a,{className:"pt0"},i.a.createElement($t.a,{value:t,options:r,onChange:function(e){var t=e.target;return n(t.value)}}))};function Ir(){var e=X()(["Emergency"]);return Ir=function(){return e},e}function Sr(){var e=X()(["Agent"]);return Sr=function(){return e},e}function Ar(){var e=X()(["Me"]);return Ar=function(){return e},e}function Tr(){var e=X()(["Sweetheart"]);return Tr=function(){return e},e}function Mr(){var e=X()(["Date"]);return Mr=function(){return e},e}function Lr(){var e=X()(["Crush"]);return Lr=function(){return e},e}function Kr(){var e=X()(["Muse"]);return Kr=function(){return e},e}function Rr(){var e=X()(["Kin"]);return Rr=function(){return e},e}function Fr(){var e=X()(["Sibling"]);return Fr=function(){return e},e}function Gr(){var e=X()(["Sibling"]);return Gr=function(){return e},e}function Ur(){var e=X()(["Parent"]);return Ur=function(){return e},e}function Br(){var e=X()(["Child"]);return Br=function(){return e},e}function Vr(){var e=X()(["Neighbor"]);return Vr=function(){return e},e}function zr(){var e=X()(["Co-resident"]);return zr=function(){return e},e}function Wr(){var e=X()(["Colleague"]);return Wr=function(){return e},e}function Yr(){var e=X()(["Co-worker"]);return Yr=function(){return e},e}function Hr(){var e=X()(["Met"]);return Hr=function(){return e},e}function Jr(){var e=X()(["Friend"]);return Jr=function(){return e},e}function Xr(){var e=X()(["Acquaintance"]);return Xr=function(){return e},e}function qr(){var e=X()(["Contact"]);return qr=function(){return e},e}function Qr(){var e=X()(["Other"]);return Qr=function(){return e},e}function Zr(){var e=X()(["Work"]);return Zr=function(){return e},e}function _r(){var e=X()(["Home"]);return _r=function(){return e},e}function $r(){var e=X()(["Address"]);return $r=function(){return e},e}function ea(){var e=X()(["Pager"]);return ea=function(){return e},e}function ta(){var e=X()(["Fax"]);return ta=function(){return e},e}function na(){var e=X()(["Main"]);return na=function(){return e},e}function ra(){var e=X()(["Mobile"]);return ra=function(){return e},e}function aa(){var e=X()(["Other"]);return aa=function(){return e},e}function ca(){var e=X()(["Work"]);return ca=function(){return e},e}function oa(){var e=X()(["Home"]);return oa=function(){return e},e}function ia(){var e=X()(["Phone"]);return ia=function(){return e},e}function ua(){var e=X()(["Other"]);return ua=function(){return e},e}function la(){var e=X()(["Work"]);return la=function(){return e},e}function sa(){var e=X()(["Home"]);return sa=function(){return e},e}function fa(){var e=X()(["Email"]);return fa=function(){return e},e}function da(){var e=X()(["Yomi"]);return da=function(){return e},e}function ma(){var e=X()(["Name"]);return ma=function(){return e},e}function pa(){var e=X()(["Pager"]);return pa=function(){return e},e}function ba(){var e=X()(["Fax"]);return ba=function(){return e},e}function va(){var e=X()(["Other"]);return va=function(){return e},e}function ha(){var e=X()(["Yomi"]);return ha=function(){return e},e}function ga(){var e=X()(["Main"]);return ga=function(){return e},e}function ya(){var e=X()(["Mobile"]);return ya=function(){return e},e}function Oa(){var e=X()(["Personal"]);return Oa=function(){return e},e}function ja(){var e=X()(["Work"]);return ja=function(){return e},e}var Ea=function(){return{fn:[{text:Object($.c)("Property type").t(ma()),value:""},{text:Object($.c)("Property type").t(da()),value:"yomi"}],n:[],nickname:[],email:[{text:Object($.c)("Property type").t(fa()),value:""},{text:Object($.c)("Property type").t(sa()),value:"home"},{text:Object($.c)("Property type").t(la()),value:"work"},{text:Object($.c)("Property type").t(ua()),value:"other"}],tel:[{text:Object($.c)("Property type").t(ia()),value:""},{text:Object($.c)("Property type").t(oa()),value:"home"},{text:Object($.c)("Property type").t(ca()),value:"work"},{text:Object($.c)("Property type").t(aa()),value:"other"},{text:Object($.c)("Property type").t(ra()),value:"cell"},{text:Object($.c)("Property type").t(na()),value:"main"},{text:Object($.c)("Property type").t(ta()),value:"fax"},{text:Object($.c)("Property type").t(ea()),value:"pager"}],adr:[{text:Object($.c)("Property type").t($r()),value:""},{text:Object($.c)("Property type").t(_r()),value:"home"},{text:Object($.c)("Property type").t(Zr()),value:"work"},{text:Object($.c)("Property type").t(Qr()),value:"other"}],bday:[],anniversary:[],gender:[],lang:[],tz:[],geo:[],title:[],role:[],logo:[],photo:[],org:[],related:[{text:Object($.c)("Property type").t(qr()),value:"contact"},{text:Object($.c)("Property type").t(Xr()),value:"acquaintance"},{text:Object($.c)("Property type").t(Jr()),value:"friend"},{text:Object($.c)("Property type").t(Hr()),value:"met"},{text:Object($.c)("Property type").t(Yr()),value:"co-worker"},{text:Object($.c)("Property type").t(Wr()),value:"colleague"},{text:Object($.c)("Property type").t(zr()),value:"co-resident"},{text:Object($.c)("Property type").t(Vr()),value:"neighbor"},{text:Object($.c)("Property type").t(Br()),value:"child"},{text:Object($.c)("Property type").t(Ur()),value:"parent"},{text:Object($.c)("Property type").t(Gr()),value:"sibling"},{text:Object($.c)("Property type").t(Fr()),value:"spouse"},{text:Object($.c)("Property type").t(Rr()),value:"kin"},{text:Object($.c)("Property type").t(Kr()),value:"muse"},{text:Object($.c)("Property type").t(Lr()),value:"crush"},{text:Object($.c)("Property type").t(Mr()),value:"date"},{text:Object($.c)("Property type").t(Tr()),value:"sweetheart"},{text:Object($.c)("Property type").t(Ar()),value:"me"},{text:Object($.c)("Property type").t(Sr()),value:"agent"},{text:Object($.c)("Property type").t(Ir()),value:"emergency"}],member:[],note:[],url:[]}},xa=function(e){var t=e.field,n=e.value,r=e.onChangeType,a=Ea();return i.a.createElement(_t.a,{className:"pt0"},i.a.createElement($t.a,{value:n,options:a[t],onChange:function(e){var t=e.target;return r(t.value)}}))},wa=n("NpuA"),Ca=n.n(wa),ka=["name","initials","short name","maiden name","group membership","mileage","billing information","directory server","sensitivity","priority","subject","categories"],Pa=function(e){switch(e.toLowerCase()){case"home":return"home";case"business":case"work":return"work";case"mobile":case"cell":return"cell";case"other":return"other";case"main":case"primary":return"main";case"company main":return"work";case"pager":return"pager";case"home fax":case"work fax":return"fax";default:return""}},Na=function(e){return{header:e.header,value:e.value,checked:!0,pref:1,field:"fn",type:"main",combineInto:"fn-main",combineIndex:e.index}},Da=function(e){return{header:e.header,value:e.value,checked:!0,pref:2,field:"fn",type:"yomi",combineInto:"fn-yomi",combineIndex:e.index}},Ia=function(e){return{header:e.header,value:e.value,checked:!0,field:"n",combineInto:"n",combineIndex:e.index}},Sa=function(e){var t=e.pref;return{pref:t,header:e.header,value:e.value,checked:!0,field:"email",type:e.type,group:t}},Aa=function(e){return{pref:e.pref,header:e.header,value:e.value,checked:!0,field:"tel",type:e.type}},Ta=function(e){var t=e.pref,n=e.header,r=e.type,a=e.value,c=e.index;return{pref:t,header:n,value:a,checked:!0,field:"adr",type:r,combineInto:"adr-".concat(r),combineIndex:c}},Ma=function(e){return{pref:e.pref,header:e.header,value:e.value,checked:!0,field:"org",combineInto:"org",combineIndex:e.index}},La=function(e){var t=e.original,n=e.standard,r=Object(se.g)(n),a=t,c=/^company\s?(\d*)/,o=/^department\s?(\d*)/,i=/^(\w+)?\s?e-?mail\s?(\d*)/,u=/^(\w+\s*\w+)?\s?phone\s?(\d*)$/,l=/^(\w+)?\s?fax\s?(\d*)$/,s=/^(\w+)?\s?pager\s?(\d*)$/,f=/^callback|telex\s?(\d*)$/,d=/^(\w*)\s?po box\s?(\d*)$/,m=/^(\w*)\s?extended address\s?(\d*)$/,p=/^(\w*)\s?street\s?(\d*)$/,b=/^(\w*)\s?city\s?(\d*)$/,v=/^(\w*)\s?state\s?(\d*)$/,h=/^(\w*)\s?postal code\s?(\d*)$/,g=/^(\w*)\s?country\/region\s?(\d*)$/;if(["title","name prefix"].includes(r))return function(e){return[Na({header:a,value:e,index:0}),Ia({header:a,value:e,index:3})]};if(["first name","given name"].includes(r))return function(e){return[Na({header:a,value:e,index:1}),Ia({header:a,value:e,index:1})]};if(["middle name","additional name"].includes(r))return function(e){return[Na({header:a,value:e,index:2}),Ia({header:a,value:e,index:2})]};if(["last name","family name"].includes(r))return function(e){return[Na({header:a,value:e,index:3}),Ia({header:a,value:e,index:0})]};if(["suffix","name suffix"].includes(r))return function(e){return[Na({header:a,value:e,index:4}),Ia({header:a,value:e,index:4})]};if(["given yomi","given name yomi"].includes(r))return function(e){return Da({header:a,value:e,index:0})};if(["middle name yomi","additional name yomi"].includes(r))return function(e){return Da({header:a,value:e,index:1})};if(["surname yomi","family name yomi"].includes(r))return function(e){return Da({header:a,value:e,index:2})};if(c.test(r)){var y=r.match(c),O=_()(y,2)[1];return function(e){return Ma({pref:O,header:a,value:e,index:0})}}if(o.test(r)){var j=r.match(o),E=_()(j,2)[1];return function(e){return Ma({pref:E,header:a,value:e,index:1})}}if(i.test(r)){var x=r.match(i),w=_()(x,3),C=w[1],k=w[2];return function(e){return Sa({pref:k,header:a,value:e,type:C?Pa(C):""})}}if(u.test(r)){var P=r.match(u),N=_()(P,3),D=N[1],I=N[2];return function(e){return Aa({pref:I,header:a,value:e,type:D?Pa(D):""})}}if(l.test(r)){var S=r.match(l),A=_()(S,3)[2];return function(e){return Aa({pref:A,header:a,value:e,type:"fax"})}}if(s.test(r)){var T=r.match(s),M=_()(T,3)[2];return function(e){return Aa({pref:M,header:a,value:e,type:"pager"})}}if(f.test(r)){var L=r.match(f),K=_()(L,2)[1];return function(e){return Aa({pref:K,header:a,value:e,type:"other"})}}if(d.test(r)){var R=r.match(d),F=_()(R,3),G=F[1],U=F[2];return function(e){return Ta({pref:U,header:a,type:Pa(G),value:e,index:0})}}if(m.test(r)){var B=r.match(m),V=_()(B,3),z=V[1],W=V[2];return function(e){return Ta({pref:W,header:a,type:Pa(z),value:e,index:1})}}if(p.test(r)){var Y=r.match(p),H=_()(Y,3),J=H[1],X=H[2];return function(e){return Ta({pref:X,header:a,type:Pa(J),value:e,index:2})}}if(b.test(r)){var q=r.match(b),Q=_()(q,3),Z=Q[1],$=Q[2];return function(e){return Ta({pref:$,header:a,type:Pa(Z),value:e,index:3})}}if(v.test(r)){var ee=r.match(v),te=_()(ee,3),ne=te[1],re=te[2];return function(e){return Ta({pref:re,header:a,type:Pa(ne),value:e,index:4})}}if(h.test(r)){var ae=r.match(h),ce=_()(ae,3),oe=ce[1],ie=ce[2];return function(e){return Ta({pref:ie,header:a,type:Pa(oe),value:e,index:5})}}if(g.test(r)){var ue=r.match(g),le=_()(ue,3),fe=le[1],de=le[2];return function(e){return Ta({pref:de,header:a,type:Pa(fe),value:e,index:6})}}return"nickname"===r?function(e){return{header:a,value:e,checked:!0,field:"nickname"}}:"imaddress"===r?function(e){return{header:a,value:e,checked:!0,field:"impp"}}:"job title"===r?function(e){return{header:a,value:e,checked:!0,field:"title"}}:"role"===r?function(e){return{header:a,value:e,checked:!0,field:"role"}}:r.includes("relation")?function(e){return{header:a,value:e,checked:!0,field:"related"}}:"manager's name"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"co-worker"}}:"assistant's name"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"agent"}}:"spouse"===r?function(e){return{header:a,value:e,checked:!0,field:"related",type:"spouse"}}:"birthday"===r?function(e){return{header:a,value:e,checked:!0,field:"bday"}}:"anniversary"===r?function(e){return{header:a,value:e,checked:!0,field:"anniversary"}}:r.includes("web")?function(e){return{header:a,value:e,checked:!0,field:"url"}}:"photo"===r?function(e){return{header:a,value:e,checked:!0,field:"photo"}}:"logo"===r?function(e){return{header:a,value:e,checked:!0,field:"logo"}}:"location"===r?function(e){return{header:a,value:e,checked:!0,field:"geo",type:"main"}}:"office location"===r?function(e){return{header:a,value:e,checked:!0,field:"geo",type:"work"}}:"notes"===r||r.includes("custom field")?function(e){return{header:a,value:e,checked:!0,field:"note"}}:function(e){return{header:a,value:e,checked:!0,field:"note",custom:!0}}},Ka=function(e){return e[0].checked?e[0].value:""},Ra={fn:function(e){return e.reduce((function(e,t){var n=t.value,r=t.checked;return n&&r?e+" ".concat(n):e}),"").trim()},n:function(e){var t=new Array(5).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t},adr:function(e){var t=new Array(7).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t},org:function(e){var t=new Array(2).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(";")},email:Ka,tel:Ka,nickname:Ka,photo:Ka,bday:Ka,anniversary:Ka,title:Ka,role:Ka,note:Ka,url:Ka,gender:Ka,lang:Ka,tz:Ka,geo:Ka,logo:Ka,member:Ka,impp:Ka,related:Ka,categories:Ka,sound:Ka,custom:function(e){var t=e[0],n=t.header;return t.value?"".concat(n,": ").concat(Ka(e)):""}},Fa={fn:function(e){return e.reduce((function(e,t){var n=t.value,r=t.checked;return n&&r?e+" ".concat(n):e}),"").trim()},n:function(e){var t=new Array(5).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(", ")},adr:function(e){var t=new Array(7).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join(", ")},org:function(e){var t=new Array(2).fill("");return e.forEach((function(e){var n=e.value,r=e.checked,a=e.combineIndex;r&&(t[a]=n)})),t.filter(Boolean).join("; ")},nickname:function(e){return Ka(e)[0]},email:Ka,tel:Ka,photo:Ka,bday:Ka,anniversary:Ka,title:Ka,role:Ka,note:Ka,url:Ka,gender:Ka,lang:Ka,tz:Ka,geo:Ka,logo:Ka,member:Ka,impp:Ka,related:Ka,categories:Ka,sound:Ka,custom:function(e){var t=e[0],n=t.header,r=t.value;return t.checked&&r?"".concat(n,": ").concat(Ka(e)):""}};function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ua=function(e){var t,n,r,a,c;return Ne.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Ne.a.awrap(new Promise((function(t,n){Ca.a.parse(e,{header:!1,dynamicTyping:!1,complete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.data,r=void 0===n?[]:n,a=e.errors,c=void 0===a?[]:a;return t({headers:r[0],contacts:r.slice(1),errors:c})},error:n,skipEmptyLines:!0})})));case 2:if(t=o.sent,n=t.headers,r=t.contacts,!t.errors.length){o.next=8;break}throw new Error("Error when reading csv file");case 8:return a=n.length,c=r.map((function(e){return e.slice(0,a)})).filter((function(e){return e.length===a})),o.abrupt("return",{headers:n,contacts:c});case 11:case"end":return o.stop()}}))},Ba=function(e){var t=e.headers,n=void 0===t?[]:t,r=e.contacts,a=void 0===r?[]:r;if(!a.length)return[];var c=function(e){var t=e.headers,n=e.contacts;if(!n.length)return{headers:t,contacts:n};var r=t.map((function(e){return e.replace("_"," ").toLowerCase()})),a=r.reduce((function(e,t,r){var a=e.beRemoved,c=e.beChanged,o=n[0][r];if(function(e,t){return!t.some((function(t){return""!==t[e]}))}(r,n)&&(a[r]=!0),ka.includes(t)||t.startsWith("im")||t.includes("event"))return a[r]=!0,e;if("address"===t&&(c[r]="street"),"zip"===t&&(c[r]="postal code"),"county"===t&&(c[r]="state"),/^address\s?(\d+)? - type$/.test(t)){var i=t.match(/^address\s?\d+? - type$/),u=_()(i,2)[1],l=u||"";return a[r]=!0,a[r+1]=!0,c[r+2]=(Object(se.d)(Pa(o))+" Street ".concat(l)).trim(),c[r+3]=(Object(se.d)(Pa(o))+" City ".concat(l)).trim(),c[r+4]=(Object(se.d)(Pa(o))+" PO Box ".concat(l)).trim(),c[r+5]=(Object(se.d)(Pa(o))+" State ".concat(l)).trim(),c[r+6]=(Object(se.d)(Pa(o))+" Postal Code ".concat(l)).trim(),c[r+7]=(Object(se.d)(Pa(o))+" Country/Region ".concat(l)).trim(),c[r+8]=(Object(se.d)(Pa(o))+" Extended Address ".concat(l)).trim(),e}if(/^organization\s?\d+? - (\w+)$/.test(t)){var s=t.match(/^organization\s?\d+? - (\w+)$/),f=_()(s,2)[1];return"name"===f?c[r]="Company":"title"===f?c[r]="Job Title":"department"===f?c[r]="Department":"job description"===f?c[r]="Role":a[r]=!0,e}if(/(.*) - type$/i.test(t)){var d=t.match(/(.*) - type$/i),m=_()(d,2)[1];return a[r]=!0,c[r+1]=(Object(se.d)(Pa(o))+" "+m).trim(),e}return e}),{beRemoved:Object.create(null),beChanged:Object.create(null)}),c=a.beRemoved,o=a.beChanged;return{headers:r.map((function(e,n){return{original:t[n],standard:o[n]?o[n]:e}})).filter((function(e,t){return!c[t]})),contacts:n.map((function(e){return e.filter((function(e,t){return!c[t]}))}))}}({headers:n,contacts:a}),o=c.headers,i=c.contacts,u=o.map(La);return i.map((function(e){return e.map((function(e,t){return u[t](e)})).flat()})).map((function(e){return e.filter((function(e){return!!e}))}))},Va=function(e){var t=e.headers,n=void 0===t?[]:t,r=e.contacts,a=void 0===r?[]:r,c=Ba({headers:n,contacts:a});if(!c.length)return[];for(var o=[],i=c[0].reduce((function(e,t,n){var r=t.combineInto,a=t.combineIndex;return r?(e[r]||(e[r]=[]),e[r][a]=n,e):(o.push(n),e)}),{}),u=0,l=Object.keys(i);u<l.length;u++){var s=l[u];i[s]=i[s].filter((function(e){return null!==e}))}var f=a.map((function(){return[]})),d=!0,m=!1,p=void 0;try{for(var b,v=function(){var e=_()(b.value,2),t=e[0],n=e[1];f.forEach((function(e){return e.push([])})),n.forEach((function(e){f.forEach((function(n,r){return n[t].push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c[r][e]))}))}))},h=Object.values(i).entries()[Symbol.iterator]();!(d=(b=h.next()).done);d=!0)v()}catch(j){m=!0,p=j}finally{try{d||null==h.return||h.return()}finally{if(m)throw p}}for(var g=function(){var e=O[y];f.forEach((function(t,n){return t.push([c[n][e]])}))},y=0,O=o;y<O.length;y++)g();return f},za=function(e){if(!e.length)return{};var t=e[0],n=t.pref,r=t.field,a=t.type;return t.custom?{pref:n,field:r,type:a,value:Ra.custom(e),display:Fa.custom(e)}:{pref:n,field:r,type:a,value:Ra[r](e),display:Fa[r](e)}},Wa=function(e){return e.map((function(e){return e.map(za).filter((function(e){return!function(e){var t=e.value;return"string"==typeof t?!t:!Array.isArray(t)||!t.reduce((function(e,t){return e+t}),"")}(e)}))})).sort(Oe)},Ya=function(e){var t=e.preVcards,n=e.onToggle,r=e.onChangeField,a=e.onChangeType,c=za(t),o=c.field,u=c.type,l=c.display;return"n"===o?null:t.map((function(e,c){var s=e.checked,f=e.header;return i.a.createElement("tr",{key:c.toString()},i.a.createElement("td",{className:"aligncenter"},i.a.createElement(Zt.a,{checked:s,onChange:function(){return n(c)}})),i.a.createElement("td",null,f),0===c?i.a.createElement(i.a.Fragment,null,i.a.createElement("td",{rowSpan:t.length},i.a.createElement("div",{className:"flex"},i.a.createElement(Dr,{value:o,onChangeField:r}),void 0!==u?i.a.createElement(xa,{field:o,value:u,onChangeType:a}):null)),i.a.createElement("td",{rowSpan:t.length},l)):null)}))},Ha=function(e){var t=e.loading,n=e.contact,r=e.onToggle,a=e.onChangeField,c=e.onChangeType;return i.a.createElement("tbody",null,t?i.a.createElement(Qt.a,{colSpan:4}):n&&n.map((function(e,t){return i.a.createElement(Ya,{key:t.toString(),preVcards:e,onToggle:r(t),onChangeField:a(t),onChangeType:c(t)})})))};Ha.defaultPropTypes={disabledPrevious:!0,disabledNext:!0};var Ja=Ha;function Xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qa=function(e,t,n){return e.map((function(e,r){return r!==t?e:e.map((function(e){return function(e,t){var n={fn:["","yomi"],n:[],nickname:[],email:["","home","work","other"],tel:["","home","work","other","cell","main","fax","pager"],adr:["","home","work","other"],bday:[],anniversary:[],gender:[],lang:[],tz:[],geo:[],title:[],role:[],logo:[],org:[],related:["contact","acquaintance","friend","met","co-worker","colleague","co-resident","neighbor","child","parent","sibling","spouse","kin","muse","crush","date","sweetheart","me","agent","emergency"],member:[],note:[],url:[]};return qa({},e,{field:t,type:n[t].includes(e.type)?e.type:n[t].length?n[t][0]:void 0,custom:!1})}(e,n)}))}))},Za=function(e,t,n){return e.map((function(e,r){return r!==t?e:e.map((function(e){return function(e,t){return qa({},e,{type:t})}(e,n)}))}))};function _a(){var e=X()(["No contacts to be imported"]);return _a=function(){return e},e}function $a(){var e=X()(["Also, we have automatically matched CSV fields with vCard fields. You can review and change this matching manually."]);return $a=function(){return e},e}function ec(){var e=X()(["We have detected the following fields in the CSV file you uploaded. Check the ones you want to import."]);return ec=function(){return e},e}function tc(){var e=X()(["First name and last name cannot be unchecked at the same time"]);return tc=function(){return e},e}var nc=function(e){var t=e.file,n=e.onSetVcardContacts,r=Object(xt.a)().createNotification,a=Object(Ut.a)(!0),c=_()(a,2),u=c[0],l=c[1],s=Object(o.useState)(0),f=_()(s,2),d=f[0],m=f[1],p=Object(o.useState)([]),b=_()(p,2),v=b[0],h=b[1];return Object(o.useEffect)((function(){l(function(){var e;return Ne.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e=Va(t),h(e);case 2:case"end":return n.stop()}}))}())}),[]),Object(o.useEffect)((function(){n(Wa(v))}),[v]),i.a.createElement(i.a.Fragment,null,i.a.createElement(kt.a,null,Object($.c)("Description of the purpose of the import CSV modal").t(ec())),i.a.createElement(kt.a,null,Object($.c)("Description of the purpose of the import CSV modal").t($a())),i.a.createElement(Bt.a,null,i.a.createElement(qt,{disabledPrevious:u||0===d,disabledNext:u||0===v.length||d+1===v.length,onNext:function(){return m((function(e){return e+1}))},onPrevious:function(){return m((function(e){return e-1}))}}),i.a.createElement(Ja,{loading:u,contact:v&&v[d],onToggle:function(e){return function(t){if("fn-main"===v[0][e][t].combineInto){var n=v[0][e],a=n.findIndex((function(e){return"first name"===e.header.toLowerCase()})),c=n.findIndex((function(e){return"last name"===e.header.toLowerCase()})),o=-1!==a&&n[a].checked,i=-1!==c&&n[c].checked;if(!o&&t===c||!i&&t===a)return r({type:"error",text:Object($.c)("Error notification").t(tc())})}h(v.map((function(n){return function(e,t){var n=_()(t,2),r=n[0],a=n[1],c="fn-main"===e[r][a].combineInto,o=c?e.findIndex((function(e){return"n"===e[0].combineInto})):-1;return e.map((function(t,n){if(n===r)return t.map((function(e,t){return t!==a?e:qa({},e,{checked:!e.checked})}));if(c&&n===o){var i=e[r][a].header,u=e[o].findIndex((function(e){return e.header===i}));return t.map((function(e,t){return t!==u?e:qa({},e,{checked:!e.checked})}))}return t}))}(n,[e,t])})))}},onChangeField:function(e){return function(t){return h(v.map((function(n){return Qa(n,e,t)})))}},onChangeType:function(e){return function(t){return h(v.map((function(n){return Za(n,e,t)})))}}})),!u&&!v.length&&i.a.createElement(Vt.a,{className:"aligncenter"},Object($.c)("Info").t(_a())))},rc=n("k7CA");function ac(){var e=X()(["Failed"]);return ac=function(){return e},e}function cc(){var e=X()(["Completed"]);return cc=function(){return e},e}function oc(){var e=X()(["Progress"]);return oc=function(){return e},e}var ic=function(e){var t=e.id,n=e.alt,r=e.displayDuring,a=void 0===r?Object($.c)("Progress bar description").t(oc()):r,c=e.displaySuccess,o=void 0===c?Object($.c)("Progress bar description").t(cc()):c,u=e.displayFailed,l=void 0===u?Object($.c)("Progress bar description").t(ac()):u,s=e.value,f=e.max,d=void 0===f?100:f,m=e.endPostponed,p=void 0!==m&&m,b=e.failed,v=void 0!==b&&b,h=Et()(e,["id","alt","displayDuring","displaySuccess","displayFailed","value","max","endPostponed","failed"]),g=s<d||p,y=g?i.a.createElement(le.a,null):v?i.a.createElement(St.a,{name:"off",fill:"warning",size:100,alt:"".concat(n,"-finished")}):i.a.createElement(St.a,{name:"on",fill:"success",size:100,alt:"".concat(n,"-finished")}),O=v?l:o;return i.a.createElement("div",{className:"aligncenter"},y,i.a.createElement("progress",Ot()({className:"progress-contact w100 mt1","aria-describedby":t,value:s,max:d},h)),i.a.createElement("p",{"aria-atomic":"true","aria-live":"polite",id:"id"},g?"".concat(a,": ").concat(s,"%"):O))},uc=n("I7cj"),lc=n("KeOk");function sc(){var e=X()(["Click for details"]);return sc=function(){return e},e}var fc=function(e){var t=e.errors,n=void 0===t?[]:t,r=e.loading,a=e.summary,c=void 0===a?Object($.c)("Info on errors").t(sc()):a;return!!n.length&&!r&&i.a.createElement(uc.a,null,i.a.createElement(lc.a,null,c),i.a.createElement(Dt.a,null,n.sort((function(e,t){return e.index-t.index})).map((function(e){var t=e.index,n=e.message;return i.a.createElement("div",{key:t},n)}))))},dc=n("3fNN"),mc=n("pqLH"),pc=n("Kv4S"),bc=n("ID4j"),vc=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"proton-web-".concat(e()).concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())};function hc(){var e=X()(["Unknown"]);return hc=function(){return e},e}var gc=z.k.CLEAR_TEXT,yc=z.k.ENCRYPTED_AND_SIGNED,Oc=z.k.SIGNED,jc=function(e){return e.reduce((function(e,t){var n=t.field;return Ke.includes(n)?(e.toClearText.push(t),e):Re.includes(n)?(e.toSign.push(t),e):(e.toEncryptAndSign.push(t),e)}),{toEncryptAndSign:[],toSign:[],toClearText:[]})},Ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=[],a=jc(e),c=a.toEncryptAndSign,o=void 0===c?[]:c,i=a.toSign,u=void 0===i?[]:i,l=a.toClearText,s=void 0===l?[]:l;if(o.length>0){var f=$e(o).toString();r.push(Object(pc.a)({data:f,publicKeys:n,privateKeys:t,armor:!0,detached:!0}).then((function(e){var t=e.data,n=e.signature;return{Type:yc,Data:t,Signature:n}})))}if(u.length>0){var d=u.some((function(e){return"uid"===e.field})),m=u.some((function(e){return"fn"===e.field}));if(!d){var p=vc();u.push({field:"uid",value:p})}if(!m){var b=Object($.c)("Default display name vcard").t(hc());u.push({field:"fn",value:b})}var v=$e(u).toString();r.push(Object(bc.g)({data:v,privateKeys:t,armor:!0,detached:!0}).then((function(e){var t=e.signature;return{Type:Oc,Data:v,Signature:t}})))}if(s.length>0){var h=$e(s).toString();r.push({Type:gc,Data:h,Signature:null})}return Promise.all(r)},xc=function(e,t){var n,r,a,c,o,i;return Ne.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.privateKey,r=t.publicKey,a=ge(e),c=ye(a),o=xe(c),u.next=6,Ne.a.awrap(Ec(o,[n],[r]));case 6:return i=u.sent,u.abrupt("return",{Cards:i});case 8:case"end":return u.stop()}}))},wc=function(){var e,t,n,r,a,c=arguments;return Ne.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:[],t=c.length>1?c[1]:void 0,n=t.privateKey,r=t.publicKey,a=e.reduce((function(e,t){return e.push(xc(t,{privateKey:n,publicKey:r})),e}),[]),o.abrupt("return",Promise.all(a));case 4:case"end":return o.stop()}}))},Cc=z.k.CLEAR_TEXT,kc=function(e){return e.some((function(e){var t=e.field;return e.value&&"categories"===t}))},Pc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=t.contact,r=n.Cards;return n.error?e:(r.some((function(e){var t=e.Type,n=e.Data;return t===Cc&&n.includes("CATEGORIES")}))?e.withCategories.push(t):e.withoutCategories.push(t),e)}),{withCategories:[],withoutCategories:[]})},Nc=function(e,t,n){return 0==+n?0:Math.min(Math.floor((+e+t)/n*100),100)},Dc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){var n=t.allocated,r=t.successful,a=t.failed,c=t.total;return e.combinedTotal+=c,e.combinedAllocations+=n,e.progresses.push(Nc(r,a,c)),e}),{combinedTotal:0,combinedAllocations:0,progresses:[]}),n=t.combinedTotal,r=t.combinedAllocations,a=t.progresses;if(1!==r&&e.length)throw new Error("Allocations must add up to one");if(!n)return 0;var c=e.reduce((function(e,t,r){return e+t.allocated*(!t.total&&n?100:a[r])}),0);return Math.round(c)};function Ic(){var e=X()(["Some contacts could not be imported. Click for details"]);return Ic=function(){return e},e}function Sc(){var e=X()(["No contacts imported"]);return Sc=function(){return e},e}function Ac(){var e=X()([""," out of "," contact successfully imported."]);return Ac=function(){return e},e}function Tc(){var e=X()(["Encrypting and importing contacts... This may take a few minutes. When the process is completed, you can close this modal."]);return Tc=function(){return e},e}function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kc(){var e=X()(["Contact "," from your list could not be imported. ",""]);return Kc=function(){return e},e}function Rc(){var e=X()(["Contact "," from your list could not be encrypted."]);return Rc=function(){return e},e}function Fc(){var e=X()(["Contact "," from your list could not be parsed. ",""]);return Fc=function(){return e},e}var Gc=Ge,Uc=Ue,Bc=Be,Vc=z.b.SINGLE_SUCCESS,zc=function(e,t){return Object($.c)("Info on errors importing contacts").t(Fc(),e,t)},Wc=function(e){return Object($.c)("Info on errors importing contacts").t(Rc(),e)},Yc=function(e,t){return Object($.c)("Info on errors importing contacts").t(Kc(),e,t)},Hc=function(e){var t=e.isVcf,n=e.file,r=void 0===n?"":n,a=e.vcardContacts,c=e.privateKey,u=e.onFinish,l=Object(rc.a)(),s=Object(Ut.a)(!0),f=_()(s,2),d=f[0],m=f[1],p=Object(o.useState)({total:a.length,parsed:a.map((function(e,t){return{index:t,contact:e}})),encrypted:[],submitted:[],failedOnEncrypt:[],failedOnParse:[],failedOnSubmit:[]}),b=_()(p,2),v=b[0],h=b[1];Object(o.useEffect)((function(){var e,n,o,i,s,f,d,p=new AbortController,b=function(e){var t=e.signal,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("END:VCARD");return t.pop(),t.map((function(e){return e.trim()+"\r\nEND:VCARD"}))}(r);return!t.aborted&&h(Lc({},v,{total:n.length})),t.aborted?[]:n.reduce((function(e,n,r){try{if(n.includes("VERSION:2.1")||n.includes("VERSION:3.0"))throw new Error("vCard versions < 4.0 not supported");var a=_e(n);e.push({index:r,contact:a})}catch(o){var c=o.message;!t.aborted&&h((function(e){return Lc({},e,{failedOnParse:[].concat(me()(e.failedOnParse),[{index:r,message:zc(r+1,c)}])})}))}return e}),[])},g=function(e,t,n){var r,a,o,i;return Ne.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return r=e.contact,a=e.index,o=n.signal,u.prev=2,u.next=5,Ne.a.awrap(xc(r,{privateKey:c,publicKey:t}));case 5:return i=u.sent,!o.aborted&&h((function(e){return Lc({},e,{encrypted:[].concat(me()(e.encrypted),[i])})})),u.abrupt("return",{index:a,contact:i});case 10:return u.prev=10,u.t0=u.catch(2),!o.aborted&&h((function(e){return Lc({},e,{failedOnEncrypt:[].concat(me()(e.failedOnEncrypt),[{index:a,message:Wc(a+1)}])})})),u.abrupt("return",{index:a,contact:{error:!0}});case 14:case"end":return u.stop()}}),null,null,[[2,10]])},y=function(){var e,t,n,r,a=arguments;return Ne.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=a.length>0&&void 0!==a[0]?a[0]:[],t=a.length>1?a[1]:void 0,n=a.length>2?a[2]:void 0,!(r=n.signal).aborted){c.next=5;break}return c.abrupt("return",[]);case 5:return c.abrupt("return",Promise.all(e.map((function(e){return g(e,t,{signal:r})}))));case 6:case"end":return c.stop()}}))},O=function(){var e,t,n,r,a,o,i,u,l,s,f,d,m,p=arguments;return Ne.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:e=p.length>0&&void 0!==p[0]?p[0]:[],t=p.length>1?p[1]:void 0,n=t.signal,r=c.toPublic(),a=Object(ke.a)(e,5),o=[],i=!0,u=!1,l=void 0,b.prev=8,s=a[Symbol.iterator]();case 10:if(i=(f=s.next()).done){b.next=21;break}if(d=f.value,!n.aborted){b.next=14;break}return b.abrupt("return",[]);case 14:return b.next=16,Ne.a.awrap(y(d,r,{signal:n}));case 16:m=b.sent,o.push.apply(o,me()(m));case 18:i=!0,b.next=10;break;case 21:b.next=27;break;case 23:b.prev=23,b.t0=b.catch(8),u=!0,l=b.t0;case 27:b.prev=27,b.prev=28,i||null==s.return||s.return();case 30:if(b.prev=30,!u){b.next=33;break}throw l;case 33:return b.finish(30);case 34:return b.finish(27);case 35:return b.abrupt("return",o);case 36:case"end":return b.stop()}}),null,null,[[8,23,27,35],[28,,30,34]])},j=function(e,t){var n,r,a,c,o,i,u,s,f;return Ne.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted&&r.length){d.next=4;break}return d.abrupt("return");case 4:return o=r.map((function(e){return e.index})),d.next=7,Ne.a.awrap((m=Object(dc.a)({Contacts:r.map((function(e){return e.contact})),Overwrite:Gc,Labels:a,timeout:36e5}),l(Lc({},m,{signal:p.signal}))));case 7:if(d.t0=function(e){return e.Response},i=d.sent.Responses.map(d.t0),!c.aborted){d.next=11;break}return d.abrupt("return");case 11:u=i.reduce((function(e,t,n){var r=t.Code,a=t.Error,c=t.Contact,i=(c=void 0===c?{}:c).ID,u=o[n];return r===Vc?e.submittedBatch.push(i):e.failedOnSubmitBatch.push({index:u,message:Yc(u+1,a)}),e}),{submittedBatch:[],failedOnSubmitBatch:[]}),s=u.submittedBatch,f=u.failedOnSubmitBatch,h((function(e){return Lc({},e,{submitted:[].concat(me()(e.submitted),me()(s)),failedOnSubmit:[].concat(me()(e.failedOnSubmit),me()(f))})}));case 13:case"end":return d.stop()}var m}))},E=function(e,t){var n,r,a,c,o,i,u;return Ne.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted){l.next=4;break}return l.abrupt("return");case 4:o=Object(ke.a)(r,100),i=o.length,u=0;case 7:if(!(u<i)){l.next=13;break}return l.next=10,Ne.a.awrap(Promise.all([j({contacts:o[u],labels:a},{signal:c}),Object(mc.b)(100)]));case 10:u++,l.next=7;break;case 13:case"end":return l.stop()}}))};return m((e=p,Ne.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.signal,o=t?b({signal:n}):a.map((function(e,t){return{index:t,contact:e}})),t&&!n.aborted&&h((function(e){return Lc({},e,{parsed:o})})),r.next=5,Ne.a.awrap(O(o,{signal:n}));case 5:return i=r.sent,s=Pc(i),f=s.withCategories,d=s.withoutCategories,r.next=9,Ne.a.awrap(E({contacts:f,labels:Bc},{signal:n}));case 9:return r.next=11,Ne.a.awrap(E({contacts:d,labels:Uc},{signal:n}));case 11:if(r.t0=!n.aborted,!r.t0){r.next=15;break}return r.next=15,Ne.a.awrap(u());case 15:case"end":return r.stop()}})))),function(){p.abort()}}),[]);var g=Dc([{allocated:.05,successful:v.parsed.length,failed:v.failedOnParse.length,total:v.total},{allocated:.9,successful:v.encrypted.length,failed:v.failedOnEncrypt.length,total:v.total-v.failedOnParse.length},{allocated:.05,successful:v.submitted.length,failed:v.failedOnSubmit.length,total:v.total-v.failedOnParse.length-v.failedOnEncrypt.length}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(kt.a,null,Object($.c)("Description").t(Tc())),i.a.createElement(ic,{id:"progress-import-contacts",alt:"contact-loader",value:g,displaySuccess:Object($.c)("Progress bar description").ngettext(Object($.msgid)(Ac(),v.submitted.length,v.total),"".concat(v.submitted.length," out of ").concat(v.total," contacts successfully imported."),v.submitted.length),displayFailed:Object($.c)("Progress bar description").t(Sc()),failed:!v.submitted.length,endPostponed:d}),i.a.createElement(fc,{loading:d,errors:[].concat(me()(v.failedOnParse),me()(v.failedOnEncrypt),me()(v.failedOnSubmit)),summary:Object($.c)("Info on errors importing contacts").t(Ic())}))},Jc=n("BN5H");function Xc(){var e=X()(["We picked up at least one group/organization from the list of contacts you are importing. Take the time to review how we should import these groups."]);return Xc=function(){return e},e}var qc=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(kt.a,null,Object($.c)("Description").t(Xc())),i.a.createElement(Vt.a,null,i.a.createElement(Jc.a,null)))};function Qc(){var e=X()(["Create"]);return Qc=function(){return e},e}function Zc(){var e=X()(["Close"]);return Zc=function(){return e},e}function _c(){var e=X()(["Cancel"]);return _c=function(){return e},e}function $c(){var e=X()(["Import"]);return $c=function(){return e},e}function eo(){var e=X()(["File selected appears to be corrupted"]);return eo=function(){return e},e}function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ro(){var e=X()(["We only support importing files smaller than 10 MB. Please split your contacts into several smaller files."]);return ro=function(){return e},e}function ao(){var e=X()(["File is too big!"]);return ao=function(){return e},e}function co(){var e=X()(["Go back"]);return co=function(){return e},e}function oo(){var e=X()(["No .csv or .vcf file selected"]);return oo=function(){return e},e}function io(){var e=X()(["Import"]);return io=function(){return e},e}function uo(){var e=X()(["Import groups"]);return uo=function(){return e},e}function lo(){var e=X()(["Importing contacts"]);return lo=function(){return e},e}function so(){var e=X()(["Import CSV file"]);return so=function(){return e},e}function fo(){var e=X()(["Import contacts"]);return fo=function(){return e},e}function mo(){var e=X()(["Import contacts"]);return mo=function(){return e},e}var po=10*Math.pow(z.d,2),bo=function(e){var t,n=e.userKeysList,r=Et()(e,["userKeysList"]),a=(t={},Q()(t,1,Object($.c)("Title").t(mo())),Q()(t,2,Object($.c)("Title").t(fo())),Q()(t,3,Object($.c)("Title").t(so())),Q()(t,4,Object($.c)("Title").t(lo())),Q()(t,5,Object($.c)("Title").t(uo())),t),c=Object(te.a)().createModal,u=Object(xt.a)().createNotification,l=Object(G.a)().call,s=Object(o.useState)(1),f=_()(s,2),d=f[0],m=f[1],p=Object(o.useState)({}),b=_()(p,2),v=b[0],h=b[1],g=Object(o.useState)([]),y=_()(g,2),O=y[0],j=y[1],E=Object(o.useState)(!1),x=_()(E,2),w=x[0],C=x[1],k=function(){if(d<=2){var e=i.a.createElement(wt.a,{disabled:1===d,type:"submit"},Object($.c)("Action").t(io())),t=function(){h({}),m(1)};return{content:i.a.createElement(Gt,{attached:2===d,file:v.attached,onAttach:function(e){var n=e.target,r=Object(Se.b)(n.files[0].name),a=_()(r,2)[1],o=["csv","vcf"].includes(a.toLowerCase())?n.files[0]:null;return n.files.length&&!o?u({type:"error",text:Object($.c)("Error notification").t(oo())}):o.size>po?c(i.a.createElement(Ct.a,{onConfirm:t,onClose:t,confirm:Object($.c)("Action").t(co()),close:null,title:Object($.c)("Title").t(ao())},i.a.createElement(kt.a,{type:"error"},Object($.c)("Error info").t(ro())))):(m(2),void h({attached:o,extension:a}))},onClear:t}),submit:e,onSubmit:function(){var e,n;return Ne.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,"csv"!==v.extension){r.next=9;break}return r.next=4,Ne.a.awrap(Ua(v.attached));case 4:e=r.sent,h(no({},v,{read:e})),m(3),r.next=14;break;case 9:return r.next=11,Ne.a.awrap(nt(v.attached));case 11:n=r.sent,h(no({},v,{read:n})),m(4);case 14:r.next=21;break;case 16:r.prev=16,r.t0=r.catch(0),u({type:"error",text:Object($.c)("Error notification").t(eo())}),m(1),t();case 21:case"end":return r.stop()}}),null,null,[[0,16]])}}}if(3===d){var a=i.a.createElement(wt.a,{disabled:!O.length,type:"submit"},Object($.c)("Action").t($c()));return{content:i.a.createElement(nc,{file:v.read,vcardContacts:O,onSetVcardContacts:j}),submit:a,onSubmit:function(){return m(4)}}}if(4===d){var o=!w&&i.a.createElement(Pt.a,null,Object($.c)("Action").t(_c())),s=i.a.createElement(wt.a,{loading:!w,type:"submit"},Object($.c)("Action").t(Zc()));return{content:i.a.createElement(Hc,{isVcf:"vcf"===v.extension,file:v.read,vcardContacts:O,onSetVcardContacts:j,privateKey:n[0].privateKey,onFinish:function(){return Ne.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.a.awrap(l());case 2:C(!0);case 3:case"end":return e.stop()}}))}}),close:o,submit:s,onSubmit:r.onClose}}if(5===d){var f=i.a.createElement(wt.a,{type:"submit"},Object($.c)("Action").t(Qc()));return{content:i.a.createElement(qc,{vcardContacts:O}),submit:f,onSubmit:function(){return Ne.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.a.awrap(l());case 2:r.onClose();case 3:case"end":return e.stop()}}))}}}}(),P=k.content,N=Et()(k,["content"]);return i.a.createElement(Nt.a,Ot()({title:a[d]},N,r),P)},vo=n("+Ln1"),ho=n("z5T1"),go=n("dAix"),yo=n("xsSi"),Oo=n("x4CE"),jo=n("Um+v"),Eo=n("Y6df"),xo=n("uqVu"),wo=n("rN/M"),Co=n("4+6U"),ko=n("Se/U");function Po(){var e=X()(["Upload picture"]);return Po=function(){return e},e}var No=function(e){var t=e.value,n=e.onChange;return i.a.createElement("div",null,t?i.a.createElement("img",{src:t}):i.a.createElement(At.a,{onClick:n},Object($.c)("Action").t(Po())))},Do=n("i9+t");function Io(){var e=X()(["Extended address"]);return Io=function(){return e},e}function So(){var e=X()(["Post office box"]);return So=function(){return e},e}function Ao(){var e=X()(["Country"]);return Ao=function(){return e},e}function To(){var e=X()(["Postal code"]);return To=function(){return e},e}function Mo(){var e=X()(["Region"]);return Mo=function(){return e},e}function Lo(){var e=X()(["City"]);return Lo=function(){return e},e}function Ko(){var e=X()(["Street address"]);return Ko=function(){return e},e}var Ro=function(e){var t=e.value,n=e.onChange,r=Object(o.useState)(function(e){var t=Array.isArray(e)?e:e.split(",");return Array.from({length:7}).map((function(e,n){return t[n]||""}))}(t)),a=_()(r,2),c=a[0],u=a[1],l=function(e){return function(t){var r=t.target,a=me()(c);a[e]=r.value,u(a),n(a)}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mb1"},i.a.createElement(wo.a,{id:"street",value:c[2],placeholder:Object($.c)("Label").t(Ko()),onChange:l(2)})),i.a.createElement("div",{className:"mb1"},i.a.createElement(wo.a,{id:"locality",value:c[3],placeholder:Object($.c)("Label").t(Lo()),onChange:l(3)})),i.a.createElement("div",{className:"mb1"},i.a.createElement("label",{className:"small opacity-50",htmlFor:"region"}),i.a.createElement(wo.a,{id:"region",value:c[4],placeholder:Object($.c)("Label").t(Mo()),onChange:l(4)})),i.a.createElement("div",{className:"mb1"},i.a.createElement(wo.a,{id:"postalCode",value:c[5],placeholder:Object($.c)("Label").t(To()),onChange:l(5)})),i.a.createElement("div",{className:Object(Do.a)([(c[0]||c[1])&&"mb1"])},i.a.createElement(wo.a,{id:"country",value:c[6],placeholder:Object($.c)("Label").t(Ao()),onChange:l(6)})),c[0]?i.a.createElement("div",{className:Object(Do.a)([c[1]&&"mb1"])},i.a.createElement(wo.a,{id:"postBox",value:c[0],placeholder:Object($.c)("Label").t(So()),onChange:l(0)})):null,c[1]?i.a.createElement("div",null,i.a.createElement(wo.a,{id:"extended",value:c[1],placeholder:Object($.c)("Label").t(Io()),onChange:l(1)})):null)},Fo=n("2PQF"),Go=n("LJWS");function Uo(){var e=X()(["Upload picture"]);return Uo=function(){return e},e}function Bo(){var e=X()(["Upload picture"]);return Bo=function(){return e},e}function Vo(){var e=X()(["Image URL"]);return Vo=function(){return e},e}function zo(){var e=X()(["Add image URL"]);return zo=function(){return e},e}function Wo(){var e=X()(["Save"]);return Wo=function(){return e},e}function Yo(){var e=X()(["Image upload failed"]);return Yo=function(){return e},e}function Ho(){var e=X()(["Edit image"]);return Ho=function(){return e},e}var Jo=function(e){var t=e.url,n=e.onSubmit,r=e.onClose,a=Et()(e,["url","onSubmit","onClose"]),c=Object(o.useState)(t),u=_()(c,2),l=u[0],s=u[1],f=Object($.c)("Title").t(Ho()),d=Object(xt.a)().createNotification;return i.a.createElement(Nt.a,Ot()({title:f,onSubmit:function(){n(l),r()},submit:Object($.c)("Action").t(Wo()),onClose:r},a),i.a.createElement(Jc.a,null,i.a.createElement(_t.a,{htmlFor:"contactImageModal-input-url"},Object($.c)("Label").t(zo())),i.a.createElement(Fo.a,null,i.a.createElement(wo.a,{id:"contactImageModal-input-url",value:l,onChange:function(e){var t=e.target;return s(t.value)},placeholder:Object($.c)("Placeholder").t(Vo())}))),i.a.createElement(Jc.a,null,i.a.createElement(_t.a,{htmlFor:"contactImageModal-input-file"},Object($.c)("Label").t(Bo())),i.a.createElement(Fo.a,null,i.a.createElement(It.a,{id:"contactImageModal-input-file",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){var e;return Ne.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne.a.awrap(Object(Go.b)({original:a.result,maxWidth:180,maxHeight:180,finalMimeType:"image/jpeg",encoderOptions:1,bigResize:!0}));case 3:e=t.sent,n(e),r(),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(0),d({text:Object($.c)("Error").t(Yo()),type:"error"}),t.t0;case 12:case"end":return t.stop()}}),null,null,[[0,8]])},a.readAsDataURL(t)}},Object($.c)("Action").t(Uo())))))};Jo.defaultProps={url:""};var Xo=Jo,qo=function(e){var t=e.field,n=e.value,r=e.uid,a=e.onChange,c=Et()(e,["field","value","uid","onChange"]),o=Object(te.a)().createModal,u=Nr(),l=function(e){var t=e.target;return a({value:t.value,uid:r})};if("email"===t)return i.a.createElement(Oo.a,Ot()({value:n,placeholder:u.email,onChange:l},c));if("tel"===t)return i.a.createElement(jo.a,Ot()({value:n,placeholder:u.tel,onChange:l},c));if("adr"===t){return i.a.createElement(Ro,{value:n,onChange:function(e){return a({value:e,uid:r})}})}if("note"===t)return i.a.createElement(Eo.a,Ot()({value:n,placeholder:u.note,onChange:l},c));if("bday"===t||"anniversary"===t){var s=""===n?new Date:Object(Co.a)(n);if(Object(ko.a)(s)){return i.a.createElement(xo.a,Ot()({placeholder:u[t],value:s,onChange:function(e){return a({value:e.toISOString(),uid:r})}},c))}}if("photo"===t||"logo"===t){return i.a.createElement(No,Ot()({value:n,onChange:function(){o(i.a.createElement(Xo,{url:n,onSubmit:function(e){return a({uid:r,value:e})}}))}},c))}return i.a.createElement(wo.a,Ot()({value:n,placeholder:u[t],onChange:l},c))},Qo=function(e){var t=e.field,n=e.type,r=Et()(e,["field","type"]),a=Nr(),c=a[n]||n||a[t];return i.a.createElement("label",Ot()({className:"capitalize"},r),c)},Zo=function(e){var t=e.field,n=e.uid,r=e.type,a=void 0===r?"":r,c=e.onChange,o=Ea(),u=Pr();return u.map((function(e){return e.value})).includes(t)?i.a.createElement(_t.a,{className:"pt0 mr1"},i.a.createElement($t.a,{value:t,options:u,onChange:function(e){var t=e.target;return c({value:t.value,key:"field",uid:n})}})):"fn"!==t&&o[t].map((function(e){return e.value})).includes(a)?i.a.createElement(_t.a,{className:"pt0 mr1"},i.a.createElement($t.a,{value:a,options:o[t],onChange:function(e){var t=e.target;return c({value:t.value,key:"type",uid:n})}})):i.a.createElement(Qo,{field:t,type:a})};function _o(){var e=X()(["Delete"]);return _o=function(){return e},e}function $o(){var e=X()(["Clear"]);return $o=function(){return e},e}function ei(){var e=X()(["Edit"]);return ei=function(){return e},e}var ti=function(e){var t=e.property,n=e.onChange,r=e.onRemove,a=e.isOrderable,c=void 0!==a&&a,o=Object(te.a)().createModal,u=t.field,l=t.uid,s=t.value,f=We(Ye(t.type)),d=!["fn"].includes(u),m=["photo","logo"].includes(u)&&t.value,p=[["photo","logo"].includes(u)&&!!s&&{text:Object($.c)("Action").t(ei()),onClick:function(){o(i.a.createElement(Xo,{url:t.value,onSubmit:function(e){return n({uid:l,value:e})}}))}},m&&{text:Object($.c)("Action").t($o()),onClick:function(){n({uid:l,value:""})}},d&&{text:Object($.c)("Action").t(_o()),onClick:function(){r(t.uid)}}].filter(Boolean);return i.a.createElement("div",{className:"flex flex-nowrap flex-item-noshrink"},c?i.a.createElement(go.a,{key:"icon"},i.a.createElement("div",{className:"cursor-row-resize mr0-5 flex flex-item-noshrink mb1"},i.a.createElement(St.a,{name:"text-justify",className:"mtauto mbauto"}))):i.a.createElement("div",{className:"mr0-5 flex flex-items-center flex-item-noshrink"},i.a.createElement(St.a,{name:"text-justify nonvisible"})),i.a.createElement("div",{className:"flex flex-nowrap flex-items-center onmobile-flex-column w95"},i.a.createElement("span",{className:"w30 flex flex-nowrap mb1"},i.a.createElement(Zo,{field:u,type:f,uid:t.uid,onChange:n})),i.a.createElement("span",{className:"w50 mb1"},i.a.createElement("div",{className:"mr1"},i.a.createElement(qo,{field:u,value:t.value,uid:t.uid,onChange:n}))),i.a.createElement("span",{className:"w20 mb1"},p.length>0&&i.a.createElement("div",{className:"flex flex-item-noshrink flex-items-start"},i.a.createElement(yo.a,{list:p})))))},ni=n("iCC2");function ri(){var e=X()(["Encrypted data with verified digital signature"]);return ri=function(){return e},e}var ai=function(e){var t=Object.assign({},e);return i.a.createElement(ni.a,Ot()({},t,{title:Object($.c)("Tooltip").t(ri())}),i.a.createElement(St.a,{name:"lock",className:"flex flex-item-centered"}))};function ci(){var e=X()(["Add"]);return ci=function(){return e},e}function oi(){var e=X()(["Other information"]);return oi=function(){return e},e}function ii(){var e=X()(["Addresses"]);return ii=function(){return e},e}function ui(){var e=X()(["Phone numbers"]);return ui=function(){return e},e}function li(){var e=X()(["Email addresses"]);return li=function(){return e},e}function si(){var e=X()(["Display name"]);return si=function(){return e},e}var fi={fn:"contact",email:"email",tel:"phone",adr:"address",other:"info"},di=function(e){var t=e.properties,n=e.field,r=e.onChange,a=e.onOrderChange,c=e.onAdd,u=e.onRemove,l={fn:Object($.c)("Title").t(si()),email:Object($.c)("Title").t(li()),tel:Object($.c)("Title").t(ui()),adr:Object($.c)("Title").t(ii()),other:Object($.c)("Title").t(oi())},s=n?l[n]:l.other,f=n?fi[n]:fi.other,d=n?[n]:Me,m=t.filter((function(e){var t=e.field;return d.includes(t)})),p=!d.includes("fn"),b=Object(o.useMemo)((function(){return m.map((function(e){return i.a.createElement(ti,{key:e.uid,property:e,onChange:r,onRemove:u,onAdd:c,isOrderable:!!a})}))}),[m,r,u,c,!!a]),v=Object(o.useCallback)((function(e){var t=e.newIndex,r=e.oldIndex,c=Object(ke.c)(m,r,t);a(n,c)}),[m,n]);return i.a.createElement("div",{className:"border-bottom mb1"},i.a.createElement("h3",{className:"mb1 flex flex-nowrap flex-items-center flex-item-noshrink"},i.a.createElement(St.a,{className:"mr0-5 flex-item-noshrink",name:f}),i.a.createElement("span",{className:"mr0-5"},s),!["fn","email"].includes(n)&&i.a.createElement(ai,{scrollContainerClass:"pm-modalContentInner",className:"flex flex-item-centered-vert flex-item-noshrink"})),a?i.a.createElement(vo.a,{helperClass:"row--orderable",onSortEnd:v,useDragHandle:!0},i.a.createElement("div",null,b.map((function(e,t){return i.a.createElement(ho.a,{key:e.key,index:t},e)})))):i.a.createElement("div",null,b),p&&i.a.createElement("div",{className:"flex flex-nowrap flex-item-noshrink"},i.a.createElement("div",{className:"mr0-5 flex flex-items-center flex-item-noshrink"},i.a.createElement(St.a,{name:"text-justify nonvisible"})),i.a.createElement("div",{className:"flex flex-nowrap w95"},i.a.createElement(wt.a,{className:"mb1",onClick:c},Object($.c)("Action").t(ci())))))},mi=n("WjHO"),pi=n.n(mi);function bi(){var e=X()(["Upgrade ProtonMail"]);return bi=function(){return e},e}function vi(){var e=X()(["Unlock access to encrypted contact details such as phone numbers and addresses with ProtonMail Plus."]);return vi=function(){return e},e}function hi(){var e=X()(["Upgrade to a paid plan"]);return hi=function(){return e},e}var gi=function(){var e=Object($.c)("Title").t(hi());return i.a.createElement("div",{className:"rounded bg-global-altgrey color-white p1 mb1 flex"},i.a.createElement("div",{className:"flex-autogrid onmobile-flex-column w100"},i.a.createElement("div",{className:"flex-autogrid-item flex flex-column flex-spacebetween"},i.a.createElement("h4",null,e),i.a.createElement("div",{className:"mb2"},Object($.c)("Info").t(vi())),i.a.createElement("div",null,i.a.createElement(wt.a,{onClick:function(){return Object(f.h)("/settings/subscription")}},Object($.c)("Action").t(bi())))),i.a.createElement("div",{className:"flex-autogrid-item flex flex-column flex-items-end"},i.a.createElement("img",{className:"h100",src:pi.a,alt:e,style:{maxHeight:"200px"}}))))};function yi(){var e=X()(["Email address, phone number and address at the top of their respective list are automatically set as the default information and will be displayed in the contact information's summary section."]);return yi=function(){return e},e}function Oi(){var e=X()(["Save"]);return Oi=function(){return e},e}function ji(){var e=X()(["Contact saved"]);return ji=function(){return e},e}function Ei(){var e=X()(["Contact could not be saved"]);return Ei=function(){return e},e}function xi(){var e=X()(["Add new contact"]);return xi=function(){return e},e}function wi(){var e=X()(["Edit contact details"]);return wi=function(){return e},e}function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pi=[{field:"fn",value:""},{field:"email",value:""}],Ni=Ge,Di=Fe,Ii=Be,Si=Ue,Ai=z.b.SINGLE_SUCCESS,Ti=[{text:Object($.c)("Contact field label").t(nr()),value:"fn"},{text:Object($.c)("Contact field label").t(tr()),value:"email"},{text:Object($.c)("Contact field label").t(er()),value:"tel"},{text:Object($.c)("Contact field label").t($n()),value:"adr"},{text:Object($.c)("Contact field label").t(_n()),value:"photo"},{text:Object($.c)("Contact field label").t(Zn()),value:"org"},{text:Object($.c)("Contact field label").t(Qn()),value:"bday"},{text:Object($.c)("Contact field label").t(qn()),value:"anniversary"},{text:Object($.c)("Contact field label").t(Xn()),value:"title"},{text:Object($.c)("Contact field label").t(Jn()),value:"role"},{text:Object($.c)("Contact field label").t(Hn()),value:"member"},{text:Object($.c)("Contact field label").t(Yn()),value:"note"},{text:Object($.c)("Contact field label").t(Wn()),value:"url"},{text:Object($.c)("Contact field label").t(zn()),value:"gender"},{text:Object($.c)("Contact field label").t(Vn()),value:"lang"},{text:Object($.c)("Contact field label").t(Bn()),value:"tz"},{text:Object($.c)("Contact field label").t(Un()),value:"geo"},{text:Object($.c)("Contact field label").t(Gn()),value:"logo"}].map((function(e){return e.value})),Mi=Pr().map((function(e){return e.value})),Li="contact-property",Ki=function(e){var t=e.contactID,n=e.properties,r=void 0===n?[]:n,a=e.onAdd,c=e.history,u=Et()(e,["contactID","properties","onAdd","history"]),l=Object(rc.a)(),s=Object(xt.a)().createNotification,f=Object(Ut.a)(),d=_()(f,2),m=d[0],p=d[1],b=Object(ce.b)(),v=_()(b,1)[0],h=Object(G.a)().call,g=Object(oe.c)(v),y=_()(g,2),O=y[0],j=y[1],E=Object(o.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.filter((function(e){var t=e.field;return Ti.includes(t)})).map((function(e){return ki({},e,{uid:Object(Do.b)(Li)})})):Pi.map((function(e){return ki({},e,{uid:Object(Do.b)(Li)})}))}(r)),x=_()(E,2),w=x[0],C=x[1],k=t?Object($.c)("Title").t(wi()):Object($.c)("Title").t(xi()),P=function(e){C(w.filter((function(t){return t.uid!==e})))},N=function(e){return function(){if(!e){var t=Object(Ve.c)(0,Mi.length-1);return C([].concat(me()(w),[{field:Mi[t],value:"",uid:Object(Do.b)(Li)}]))}C([].concat(me()(w),[{field:e,value:"",uid:Object(Do.b)(Li)}]))}},D=function(e){var t=e.uid,n=e.value,r=e.key,a=void 0===r?"value":r,c=w.map((function(e){return e.uid===t?ki({},e,Q()({},a,n)):e}));C(c)},I=Object(o.useCallback)((function(e,t){var n=w.filter((function(t){return t.field!==e}));n.unshift.apply(n,me()(t)),C(n)}),[w]);return i.a.createElement(Nt.a,Ot()({loading:m||j,onSubmit:function(){return p(Ne.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return e=r.filter((function(e){var t=e.field;return!Ti.includes(t)})),p.next=3,Ne.a.awrap(wc([w.concat(e)],O[0]));case 3:return n=p.sent,o=kc(e)?Ii:Si,p.next=7,Ne.a.awrap(l(Object(dc.a)({Contacts:n,Overwrite:t?Ni:Di,Labels:o})));case 7:if(i=p.sent,f=_()(i.Responses,1),d=f[0].Response,m=(d=void 0===d?{}:d).Code,b=d.Contact,v=(b=void 0===b?{}:b).ID,m===Ai){p.next=17;break}return u.onClose(),p.abrupt("return",s({text:Object($.c)("Error").t(Ei()),type:"error"}));case 17:return p.next=19,Ne.a.awrap(h());case 19:t||(a(),c.push("/contacts/".concat(v))),u.onClose(),s({text:Object($.c)("Success").t(ji())});case 22:case"end":return p.stop()}})));var e,n,o,i,f,d,m,b,v},title:k,submit:Object($.c)("Action").t(Oi())},u),i.a.createElement(kt.a,null,Object($.c)("Info").t(yi())),i.a.createElement(di,{properties:w,field:"fn",onChange:D,onRemove:P}),i.a.createElement(di,{properties:w,field:"email",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("email")}),v.hasPaidMail?i.a.createElement(i.a.Fragment,null,i.a.createElement(di,{properties:w,field:"tel",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("tel")}),i.a.createElement(di,{properties:w,field:"adr",onChange:D,onRemove:P,onOrderChange:I,onAdd:N("adr")}),i.a.createElement(di,{properties:w,onChange:D,onRemove:P,onAdd:N()})):i.a.createElement(gi,null))},Ri=n("7tJ6"),Fi=n("qnyA"),Gi=n("/iWM"),Ui=n("YJ1i"),Bi=n("f6q+"),Vi=n("rhx2");function zi(){var e=X()(["Add"]);return zi=function(){return e},e}function Wi(){var e=X()(["No contacts added yet"]);return Wi=function(){return e},e}function Yi(){var e=X()(["Add email address"]);return Yi=function(){return e},e}function Hi(){var e=X()(["Color"]);return Hi=function(){return e},e}function Ji(){var e=X()(["Name"]);return Ji=function(){return e},e}function Xi(){var e=X()(["Name"]);return Xi=function(){return e},e}function qi(){var e=X()(["Save"]);return qi=function(){return e},e}function Qi(){var e=X()(["Contact group created"]);return Qi=function(){return e},e}function Zi(){var e=X()(["Contact group updated"]);return Zi=function(){return e},e}function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eu(){var e=X()(["Create new group"]);return eu=function(){return e},e}function tu(){var e=X()(["Edit contact group"]);return tu=function(){return e},e}function nu(){var e=X()(["Delete"]);return nu=function(){return e},e}function ru(){var e=X()(["Action"]);return ru=function(){return e},e}function au(){var e=X()(["Address"]);return au=function(){return e},e}function cu(){var e=X()(["Name"]);return cu=function(){return e},e}var ou=function(e){var t=e.contactEmails,n=e.onDelete,r=[Object($.c)("Table header").t(cu()),Object($.c)("Table header").t(au()),Object($.c)("Table header").t(ru())];return i.a.createElement(Bt.a,{className:"noborder"},i.a.createElement(Fi.a,{cells:r}),i.a.createElement(Gi.a,null,t.map((function(e){var t=e.ID,r=e.Name,a=e.Email,c=[i.a.createElement("div",{className:"ellipsis mw100",key:t,title:r},r),i.a.createElement("div",{className:"ellipsis mw100",key:t,title:a},a),i.a.createElement(Ui.a,{key:t,onClick:n(t)},Object($.c)("Action").t(nu()))];return i.a.createElement(Bi.a,{key:t,cells:c})}))))},iu=function(e){return e.map((function(e){return e.ID}))},uu=function(e){var t=e.contactGroupID,n=Et()(e,["contactGroupID"]),r=Object(o.useState)(!1),a=_()(r,2),c=a[0],u=a[1],l=Object(G.a)().call,s=Object(rc.a)(),f=Object(xt.a)().createNotification,d=Object(ae.a)(),m=_()(d,1)[0],p=Object(ne.a)(),b=_()(p,1)[0],v=t&&m.find((function(e){return e.ID===t})),h=t&&b.filter((function(e){var n=e.LabelIDs;return(void 0===n?[]:n).includes(t)})),g=t?Object($.c)("Title").t(tu()):Object($.c)("Title").t(eu()),y=Object(o.useState)({name:t?v.Name:"",color:t?v.Color:z.y[Object(Ve.c)(0,z.y.length-1)],contactEmails:t?h:[]}),O=_()(y,2),j=O[0],E=O[1],x=j.contactEmails.map((function(e){return e.ID})),w=Object(ke.d)(b,"Email").filter((function(e){var t=e.ID;return!x.includes(t)})).map((function(e){var t=e.ID,n=e.Email,r=e.Name;return{text:n===r?"<".concat(n,">"):"".concat(r," <").concat(n,">"),value:t}}));return Object(o.useEffect)((function(){w.length&&E($i({},j,{contactEmailID:w[0].value}))}),[j.contactEmails.length]),i.a.createElement(Nt.a,Ot()({onSubmit:function(){var e,r,a,c,o,i;return Ne.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,u(!0),e={Name:j.name,Color:j.color},d.next=5,Ne.a.awrap(s(t?Object(Ri.e)(t,e):Object(Ri.a)(e)));case 5:return r=d.sent,a=r.Label,c=(void 0===a?{}:a).ID,o=iu(j.contactEmails),i=t?Object(ke.b)(iu(h),o):[],d.next=13,Ne.a.awrap(Promise.all([o.length&&s(Object(dc.e)({LabelID:c,ContactEmailIDs:o})),i.length&&s(Object(dc.i)({LabelID:c,ContactEmailIDs:i}))].filter(Boolean)));case 13:return d.next=15,Ne.a.awrap(l());case 15:n.onClose(),f({text:t?Object($.c)("Notification").t(Zi()):Object($.c)("Notification").t(Qi())}),d.next=23;break;case 19:throw d.prev=19,d.t0=d.catch(0),u(!1),d.t0;case 23:case"end":return d.stop()}}),null,null,[[0,19]])},loading:c,submit:Object($.c)("Action").t(qi()),title:g},n),i.a.createElement(Jc.a,null,i.a.createElement(_t.a,{htmlFor:"contactGroupName"},Object($.c)("Label for contact group name").t(Xi())),i.a.createElement(Fo.a,null,i.a.createElement(wo.a,{id:"contactGroupName",placeholder:Object($.c)("Placeholder for contact group name").t(Ji()),value:j.name,onChange:function(e){var t=e.target;return E($i({},j,{name:t.value}))}}))),i.a.createElement(Jc.a,null,i.a.createElement(_t.a,{htmlFor:"contactGroupColor"},Object($.c)("Label for contact group color").t(Hi())),i.a.createElement(Fo.a,null,i.a.createElement(Vi.a,{selected:j.color,onChange:function(e){return function(){return E($i({},j,{color:e}))}}}))),w.length?i.a.createElement(Jc.a,null,i.a.createElement(_t.a,{htmlFor:"contactGroupEmail"},Object($.c)("Label").t(Yi())),i.a.createElement(Fo.a,null,i.a.createElement($t.a,{id:"contactGroupEmail",value:j.contactEmailID,options:w,onChange:function(e){var t=e.target;return E($i({},j,{contactEmailID:t.value}))}}),j.contactEmails.length?null:i.a.createElement("div",{className:"mt1"},Object($.c)("Info").t(Wi()))),i.a.createElement("div",{className:"ml1"},i.a.createElement(wt.a,{onClick:function(){var e=b.find((function(e){return e.ID===j.contactEmailID})),t=j.contactEmails.find((function(e){return e.ID===j.contactEmailID}));if(e&&!t){var n=me()(j.contactEmails);n.push(e),E($i({},j,{contactEmails:n}))}}},Object($.c)("Action").t(zi())))):null,j.contactEmails.length?i.a.createElement(ou,{contactEmails:j.contactEmails,onDelete:function(e){return function(){var t=j.contactEmails.findIndex((function(t){return t.ID===e}));if(t>-1){var n=me()(j.contactEmails);n.splice(t,1),E($i({},j,{contactEmails:n}))}}}}):null)},lu=function(e){var t=e.children,n=e.onClick,r=Et()(e,["children","onClick"]);return i.a.createElement("label",{onClick:n},i.a.createElement("input",Ot()({type:"checkbox",className:"item-checkbox sr-only"},r)),i.a.createElement("span",{className:"item-icon flex-item-noshrink rounded50 bg-white inline-flex"},i.a.createElement("span",{className:"mauto item-abbr"},t),i.a.createElement("span",{className:"item-icon-fakecheck mauto"},i.a.createElement(St.a,{name:"on",className:"item-icon-fakecheck-icon"}))))},su=function(e){var t=e.name,n=e.color,r=Et()(e,["name","color"]);return i.a.createElement(ni.a,Ot()({title:t},r),i.a.createElement(St.a,{name:"contacts-groups",color:n}))},fu=function(e){var t=e.style,n=e.contactID,r=e.hasPaidMail,a=e.contactGroupsMap,c=e.contact,o=e.onClick,u=e.onCheck,l=c.ID,s=c.Name,f=c.LabelIDs,d=void 0===f?[]:f,m=c.emails,p=void 0===m?[]:m,b=c.isChecked;return i.a.createElement("div",{style:t,key:l,onClick:function(){return o(l)},className:Object(Do.a)(["item-container item-contact cursor-pointer bg-global-white",n===l&&"item-is-selected"])},i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(lu,{checked:b,onChange:u,onClick:function(e){return e.stopPropagation()},"data-contact-id":l},Object(se.e)(s)),i.a.createElement("div",{className:"flex-item-fluid pl1 flex flex-column flex-spacebetween conversation-titlesender"},i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:Object(Do.a)(["flex flex-item-fluid w0",d.length&&"pr1"])},i.a.createElement("span",{className:"bold inbl mw100 ellipsis"},s)),r&&d.length?i.a.createElement("div",null,d.map((function(e){if(!a[e])return null;var t=a[e],n=t.Color,r=t.Name;return i.a.createElement(su,{scrollContainerClass:"contacts-list",key:e,name:r,color:n})}))):null),i.a.createElement("div",{className:"mw100 ellipsis",title:p.join(", ")},Object(se.a)(p)))))};function du(){var e=X()(["You can either update your search query or ","."]);return du=function(){return e},e}function mu(){var e=X()(["No results found"]);return mu=function(){return e},e}function pu(){var e=X()(["Clear it"]);return pu=function(){return e},e}function bu(){var e=X()(["You can "," to add a contact."]);return bu=function(){return e},e}function vu(){var e=X()(["Your contact group is empty"]);return vu=function(){return e},e}function hu(){var e=X()(["Edit your group"]);return hu=function(){return e},e}function gu(){var e=X()(["You can either "," or "," from a file."]);return gu=function(){return e},e}function yu(){var e=X()(["Your address book is empty"]);return yu=function(){return e},e}function Ou(){var e=X()(["Import contact"]);return Ou=function(){return e},e}function ju(){var e=X()(["Add a contact"]);return ju=function(){return e},e}function Eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var xu,wu=Object(st.a)((function(e){var t=e.totalContacts,n=e.totalContactsInGroup,r=e.contacts,a=e.contactGroupsMap,c=e.onCheck,u=e.onClearSearch,l=e.onClearSelection,s=e.user,f=e.userKeysList,d=e.loadingUserKeys,m=e.history,p=e.contactID,b=e.contactGroupID,v=e.location,h=e.isDesktop,g=void 0===h||h,y=Object(o.useRef)(null),O=Object(o.useRef)(null),j=Object(o.useState)(),E=_()(j,2),x=E[0],w=E[1],C=Object(te.a)().createModal,k=function(e){var t=e.target,n=e.nativeEvent.shiftKey,a=t.getAttribute("data-contact-id"),o=[a];if(x&&n){var i=r.findIndex((function(e){return e.ID===a})),u=r.findIndex((function(e){return e.ID===x}));o.push.apply(o,me()(r.slice(Math.min(i,u),Math.max(i,u)+1).map((function(e){return e.ID}))))}w(a),c(o,t.checked)},P=function(e){l(),m.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eu(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v,{pathname:"/contacts/".concat(e)}))};if(Object(o.useEffect)((function(){var e=setTimeout((function(){if(p&&t){var e=r.findIndex((function(e){var t=e.ID;return p===t}));y.current.scrollToRow(e)}}),200);return function(){clearTimeout(e)}}),[p]),!t){var N=i.a.createElement("button",{key:"add",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){C(i.a.createElement(Ki,{history:m,onAdd:u}))}},Object($.c)("Action").t(ju())),D=i.a.createElement("button",{key:"import",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){C(i.a.createElement(bo,{userKeysList:f}))},disabled:d},Object($.c)("Action").t(Ou()));return i.a.createElement("div",{className:"p2 flex w100"},i.a.createElement(ut.a,{title:Object($.c)("Info message").t(yu()),url:vt.a,className:"mtauto mbauto"},i.a.createElement("div",{className:"flex flex-items-center"},Object($.c)("Actions message").jt(gu(),N,D))))}if(!r.length){if(b&&!n){var I=i.a.createElement("button",{key:"add",type:"button",className:"color-primary ml0-5 mr0-5 underline",onClick:function(){return function(e){C(i.a.createElement(uu,{contactGroupID:e}))}(b)}},Object($.c)("Action").t(hu()));return i.a.createElement("div",{className:"p2 aligncenter w100"},i.a.createElement(ut.a,{title:Object($.c)("Info message").t(vu()),url:vt.a},i.a.createElement("div",{className:"flex flex-items-center"},Object($.c)("Actions message").jt(bu(),I))))}var S=i.a.createElement(lt.a,{key:"add",onClick:u,className:"ml0-25 bold"},Object($.c)("Action").t(pu()));return i.a.createElement("div",{className:"p2 aligncenter w100"},i.a.createElement(ut.a,{title:Object($.c)("Info message").t(mu()),url:gt.a},i.a.createElement("div",{className:"flex flex-items-center"},Object($.c)("Actions message").jt(du(),S))))}return i.a.createElement("div",{ref:O,className:"items-column-list".concat(g?"":"--mobile")},i.a.createElement(pt.a,null,(function(e){var t=e.height,n=e.width;return i.a.createElement(dt.a,{className:"contacts-list no-outline",ref:y,rowRenderer:function(e){var t=e.index,n=e.style,c=e.key;return i.a.createElement(fu,{style:n,key:c,contactID:p,hasPaidMail:!!s.hasPaidMail,contactGroupsMap:a,contact:r[t],onClick:P,onCheck:k})},rowCount:r.length,height:t,width:n-1,rowHeight:55})})))})),Cu=n("3rzI"),ku=n("F/2c"),Pu=function(e){var t=Object(o.useContext)(Y),n=Object(rc.a)(),r=Object(o.useCallback)((function(){return n(Object(dc.d)(e)).then((function(e){return e.Contact}))}),[]);return Object(ku.a)(t,e,r)},Nu=n("FaOd");function Du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Du(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Su=z.k.CLEAR_TEXT,Au=z.k.ENCRYPTED_AND_SIGNED,Tu=z.k.ENCRYPTED,Mu=z.k.SIGNED,Lu=(xu={},Q()(xu,Au,(function(e,t){var n,r,a,c,o,i,u,l,s,f;return Ne.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return n=e.Data,r=e.Signature,a=t.publicKeys,c=t.privateKeys,d.prev=2,d.next=5,Ne.a.awrap(Promise.all([Object(bc.d)(n),Object(bc.e)(r)]));case 5:return o=d.sent,i=_()(o,2),u=i[0],l=i[1],d.next=11,Ne.a.awrap(Object(Nu.a)({message:u,privateKeys:c,publicKeys:a,armor:!0,signature:l}));case 11:if(s=d.sent,f=s.data,1===s.verified){d.next=16;break}return d.abrupt("return",{data:f,error:1});case 16:return d.abrupt("return",{data:f});case 19:return d.prev=19,d.t0=d.catch(2),d.abrupt("return",{error:2});case 22:case"end":return d.stop()}}),null,null,[[2,19]])})),Q()(xu,Mu,(function(e,t){var n,r,a,c,o;return Ne.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.Data,r=e.Signature,a=t.publicKeys,i.prev=2,i.next=5,Ne.a.awrap(Object(bc.e)(r));case 5:return c=i.sent,i.next=8,Ne.a.awrap(Object(bc.i)({message:Object(bc.a)(n),publicKeys:a,signature:c}));case 8:if(o=i.sent,1===o.verified){i.next=12;break}return i.abrupt("return",{data:n,error:1});case 12:return i.abrupt("return",{data:n});case 15:return i.prev=15,i.t0=i.catch(2),i.abrupt("return",{error:2});case 18:case"end":return i.stop()}}),null,null,[[2,15]])})),Q()(xu,Tu,(function(e,t){var n,r,a,c;return Ne.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.Data,r=t.privateKeys,o.prev=2,o.next=5,Ne.a.awrap(Object(bc.d)(n));case 5:a=o.sent,o.next=11;break;case 8:return o.prev=8,o.t0=o.catch(2),o.abrupt("return",{error:2});case 11:return o.prev=11,o.next=14,Ne.a.awrap(Object(Nu.a)({message:a,privateKeys:r,armor:!0}));case 14:return c=o.sent,o.abrupt("return",{data:c});case 18:return o.prev=18,o.t1=o.catch(11),o.abrupt("return",{error:4});case 21:case"end":return o.stop()}}),null,null,[[2,8],[11,18]])})),Q()(xu,Su,(function(e){return{data:e.Data}})),xu),Ku=function(e,t){var n,r,a,c,o,i,u,l;return Ne.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.publicKeys,r=t.privateKeys,a=e.Cards,s.next=4,Ne.a.awrap(Promise.all(a.map((function(e){return Ne.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(Lu[e.Type]){t.next=2;break}return t.abrupt("return",{error:2});case 2:return t.abrupt("return",Lu[e.Type](e,{publicKeys:n,privateKeys:r}));case 3:case"end":return t.stop()}}))}))));case 4:return c=s.sent,o=c.map((function(e,t){return[Au,Tu].includes(a[t].Type)&&e.data?Iu({},e,{data:e.data.replace(/\nUID:.*\n/i,"\n")}):e})),i=o.reduce((function(e,t){var n=t.data,r=t.error;return r&&e.errors.push(r),n&&e.vcards.push(n),e}),{vcards:[],errors:[]}),u=i.vcards,l=i.errors,s.abrupt("return",{properties:ge(et(u.map(_e))),errors:l});case 8:case"end":return s.stop()}}))},Ru=n("fa3+");function Fu(){var e=X()(["Learn more"]);return Fu=function(){return e},e}function Gu(){var e=X()(["Error: the encrypted content failed decryption and cannot be read."]);return Gu=function(){return e},e}function Uu(){var e=X()(["Learn more"]);return Uu=function(){return e},e}function Bu(){var e=X()(["Error: the encrypted content failed decryption and cannot be read."]);return Bu=function(){return e},e}function Vu(){var e=X()(["Learn more"]);return Vu=function(){return e},e}function zu(){var e=X()(["Warning: the verification of this contact's signature failed."]);return zu=function(){return e},e}var Wu=function(e){var t=e.errors;return t.includes(1)?i.a.createElement("div",{className:"bg-global-attention p1"},i.a.createElement(St.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object($.c)("Warning").t(zu())),i.a.createElement(Ru.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object($.c)("Link").t(Vu()))):t.includes(2)?i.a.createElement("div",{className:"bg-global-warning p1"},i.a.createElement(St.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object($.c)("Warning").t(Bu())),i.a.createElement(Ru.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object($.c)("Link").t(Uu()))):t.includes(4)?i.a.createElement("div",{className:"bg-global-warning p1"},i.a.createElement(St.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},Object($.c)("Warning").t(Gu())),i.a.createElement(Ru.a,{url:"https://protonmail.com/support/knowledge-base/encrypted-contacts/"},Object($.c)("Link").t(Fu()))):null};Wu.defaultProps={errors:[]};var Yu=Wu,Hu=n("0Zqm"),Ju=n("D5Se"),Xu=n("1s5H");function qu(){var e=X()(["Load photo"]);return qu=function(){return e},e}var Qu=function(e){var t=e.photo,n=e.name,r=Object(o.useState)(!Object(Xu.d)(t)),a=_()(r,2),c=a[0],u=a[1],l=Object(o.useState)({src:t}),s=_()(l,2),f=s[0],d=s[1],m=Object(Ju.a)(),p=_()(m,2),b=p[0].ShowImages,v=p[1],h=Object(Ut.a)(!0),g=_()(h,2),y=g[0],O=g[1],j=v||y,E=b&z.V.REMOTE||c;if(Object(o.useEffect)((function(){if(t&&E){var e,n,r,a,c;O(Ne.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Ne.a.awrap(Object(Go.d)(t));case 2:if(e=o.sent,n=e.src,r=e.width,a=e.height,!(r<=180&&a<=180)){o.next=8;break}return o.abrupt("return",d({src:n,width:r,height:a,isSmall:!0}));case 8:return o.next=10,Ne.a.awrap(Object(Go.b)({original:t,maxWidth:180,maxHeight:180,bigResize:!0}));case 10:c=o.sent,d({src:c});case 12:case"end":return o.stop()}})).catch(Ve.b))}}),[t,E]),!t)return i.a.createElement("div",{className:"rounded50 bordered bg-white-dm ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("span",{className:"mauto color-global-border h1"},Object(se.e)(n))));if(E){if(j)return i.a.createElement(le.a,null);var x={backgroundImage:"url(".concat(f.src,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat"};return f.isSmall?i.a.createElement("div",{className:"rounded50 ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("div",{className:"mbauto mtauto center",style:{width:"".concat(f.width,"px")}},i.a.createElement("div",{className:"rounded50 ratio-container-square",style:x},i.a.createElement("span",{className:"inner-ratio-container"}))))):i.a.createElement("div",{className:"rounded50 ratio-container-square",style:x},i.a.createElement("span",{className:"inner-ratio-container"}))}return i.a.createElement("div",{className:"rounded50 bordered bg-white-dm ratio-container-square mb0"},i.a.createElement("span",{className:"inner-ratio-container flex"},i.a.createElement("span",{className:"mauto color-global-border"},i.a.createElement(At.a,{onClick:function(){return u(!0)}},Object($.c)("Action").t(qu())))))},Zu=(n("Cq9y"),function(e){var t=e.properties,n=e.leftBlockWidth,r=void 0===n?"w30":n,a=Object(ce.b)(),c=_()(a,1)[0].hasPaidMail,o=we(t,"photo"),u=we(t,"fn"),l=we(t,"email"),s=we(t,"tel"),f=we(t,"adr"),d=we(t,"org"),m=[l&&{icon:"email",component:i.a.createElement("a",{href:"mailto:".concat(l),title:l},l)},c&&s&&{icon:"phone",component:i.a.createElement("a",{href:"tel:".concat(s)},s)},c&&f&&{icon:"address",component:He(f)},c&&d&&{icon:"organization",component:d}].filter(Boolean);return i.a.createElement("div",{className:"contactsummary-container flex flex-nowrap p1 mb1 border-bottom"},i.a.createElement("div",{className:Object(Do.a)(["aligncenter contactsummary-photo-container",r])},i.a.createElement(Qu,{photo:o,name:u})),i.a.createElement("div",{className:"pl1"},i.a.createElement("h2",{className:"mb0-5 ellipsis"},u),i.a.createElement("ul",{className:"unstyled m0"},m.map((function(e){var t=e.icon,n=e.component;return i.a.createElement("li",{key:t,className:"flex flex-nowrap flex-items-center mb0-5"},i.a.createElement(St.a,{name:t,className:"mr0-5"}),i.a.createElement("span",{className:"ellipsis"},n))})))))}),_u=n("NTy5"),$u=n("SJRE"),el=n("o4nY"),tl=n("+QFM"),nl=n("sWYD"),rl=n("voWS"),al=n("Xksw"),cl=n("wJ4K"),ol=n("TQRW");function il(){var e=X()(["Please select which email address or addresses to add to this group."]);return il=function(){return e},e}function ul(){var e=X()(["Add to group"]);return ul=function(){return e},e}function ll(){var e=X()(["Apply"]);return ll=function(){return e},e}function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dl=function(e){var t=e.contacts,n=e.onSubmit,r=Et()(e,["contacts","onSubmit"]),a=Object(ne.a)(),c=_()(a,1)[0],u=Object(o.useState)(t.map((function(e){return fl({},e,{contactEmails:c.filter((function(t){return t.ContactID===e.ID})).map((function(e){return fl({},e,{isChecked:!0})}))})}))),l=_()(u,2),s=l[0],f=l[1],d=function(e,t){return function(n){var r=n.target,a=me()(s),c=s.findIndex((function(t){return t.ID===e})),o=s[c].contactEmails.findIndex((function(e){return e.ID===t}));a[c].contactEmails[o].isChecked=r.checked,f(a)}};return i.a.createElement(Nt.a,Ot()({submit:Object($.c)("Action").t(ll()),title:Object($.c)("Title").t(ul()),onSubmit:function(){var e=s.reduce((function(e,t){return t.contactEmails.forEach((function(t){var n=t.isChecked,r=Et()(t,["isChecked"]);n&&e.push(r)})),e}),[]);n(e),r.onClose()}},r),i.a.createElement(kt.a,null,Object($.c)("Info").t(il())),s.filter((function(e){var t=e.contactEmails;return(void 0===t?[]:t).length>1})).map((function(e){var t=e.ID,n=e.Name,r=e.contactEmails,a=void 0===r?[]:r;return i.a.createElement(Jc.a,{key:t,className:"border-bottom"},i.a.createElement(_t.a,{className:"bold pt0"},n),i.a.createElement(Fo.a,{className:"flex flex-column w100"},a.map((function(e){var n=e.ID,r=e.Email,a=e.isChecked;return i.a.createElement("label",{key:n,className:"mb1",htmlFor:n},i.a.createElement(Zt.a,{id:n,checked:a,className:"mr0-5",onChange:d(t,n)}),i.a.createElement("span",null,r))}))))})))},ml=n("CP+6"),pl=function(e){var t=e.buttonRef,n=e.caretClassName,r=void 0===n?"":n,a=e.children,c=e.isOpen,o=Et()(e,["buttonRef","caretClassName","children","isOpen"]);return i.a.createElement("button",Ot()({type:"button",role:"button",ref:t},o),a,i.a.createElement(ml.a,{isOpen:c,className:Object(Do.a)(["ml0-25 expand-caret mtauto mbauto",r])}))};function bl(){var e=X()(["Apply"]);return bl=function(){return e},e}function vl(){var e=X()(["Filter groups"]);return vl=function(){return e},e}function hl(){var e=X()(["Create a new contact group"]);return hl=function(){return e},e}function gl(){var e=X()(["Add to group"]);return gl=function(){return e},e}function yl(){var e=X()(["Contact group apply"]);return yl=function(){return e},e}function Ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var jl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.reduce((function(e,n){var r=n.ContactID;if(e.duplicate[r]=(e.duplicate[r]||0)+1,2===e.duplicate[r]){var a=t.find((function(e){return e.ID===r}));e.contacts.push(a)}return e}),{contacts:[],duplicate:Object.create(null)})},El=function(e){var t=e.children,n=e.className,r=e.contactEmails,a=e.disabled,c=e.forToolbar,u=void 0!==c&&c,l=Object(o.useState)(""),s=_()(l,2),f=s[0],d=s[1],m=Object(Ut.a)(),p=_()(m,2),b=p[0],v=p[1],h=Object(al.a)(),g=h.anchorRef,y=h.isOpen,O=h.toggle,j=h.close,E=Object(xt.a)().createNotification,x=Object(G.a)().call,w=Object(rc.a)(),C=Object(te.a)().createModal,k=Object(re.a)(),P=_()(k,1)[0],N=Object(ae.a)(),D=_()(N,1)[0],I=Object(o.useState)(Object.create(null)),S=_()(I,2),A=S[0],T=S[1],M=Object(o.useState)(Object(Do.b)("contactGroupDropdown")),L=_()(M,1)[0],K=function(e){return function(t){var n=t.target;return T(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},A,Q()({},e,+n.checked)))}};Object(o.useEffect)((function(){y&&T(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length&&e.length?e.reduce((function(e,n){var r=n.ID,a=t.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)}));return e[r]=a.length?t.length===a.length?1:2:0,e}),Object.create(null)):Object.create(null)}(D,r))}),[D,r,y]);var R=Object(o.useMemo)((function(){if(!Array.isArray(D))return[];var e=Object(se.g)(f);return e.length?D.filter((function(t){var n=t.Name;return Object(se.g)(n).includes(e)})):D}),[f,D]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(pl,{caretClassName:u?"toolbar-icon":"",className:n,disabled:a,buttonRef:g,isOpen:y,onClick:O},t),i.a.createElement(cl.a,{id:"contact-group-dropdown",isOpen:y,anchorRef:g,onClose:j,autoClose:!1},i.a.createElement("div",{className:"flex flex-spacebetween pt1 pl1 pr1 mb1"},i.a.createElement("strong",null,Object($.c)("Label").t(gl())),i.a.createElement(ni.a,{title:Object($.c)("Info").t(hl())},i.a.createElement(Ui.a,{className:"pm-button--primary pm-button--for-icon",onClick:function(){C(i.a.createElement(uu,null)),j()}},i.a.createElement(St.a,{name:"contacts-groups",fill:"light"}),"+"))),i.a.createElement("div",{className:"pl1 pr1 mb1"},i.a.createElement(ol.a,{value:f,onChange:d,autoFocus:!0,placeholder:Object($.c)("Placeholder").t(vl())})),i.a.createElement("div",{className:"mb1 dropDown-content dropDown-content--narrow"},i.a.createElement("ul",{className:"unstyled m0 pl1 pr1 dropDown-contentInner"},R.map((function(e){var t=e.ID,n=e.Name,r=e.Color,a="".concat(L).concat(t);return i.a.createElement("li",{key:t,className:"flex flex-nowrap border-bottom border-bottom--dashed pt0-5 pb0-5"},i.a.createElement("label",{htmlFor:a,className:"flex flex-item-fluid flex-nowrap"},i.a.createElement(St.a,{name:"contacts-groups",className:"mr0-5 mtauto mbauto flex-item-noshrink",color:r}),i.a.createElement("span",{className:"ellipsis flex-item-fluid",title:n},n)),i.a.createElement(Zt.a,{className:"flex flex-item-noshrink mtauto mbauto",id:a,checked:1===A[t],indeterminate:2===A[t],onChange:K(t)}))})))),i.a.createElement("div",{className:"aligncenter mb1"},i.a.createElement(Ui.a,{loading:b,className:"pm-button--primary",onClick:function(){return v(Ne.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=me()(r),t=jl(r,P),!(n=t.contacts).length){c.next=6;break}return c.next=5,Ne.a.awrap(new Promise((function(e,t){C(i.a.createElement(dl,{contacts:n,onSubmit:e,onClose:t}))})));case 5:e=c.sent;case 6:return a=Object.entries(A),c.next=9,Ne.a.awrap(Promise.all(a.map((function(t){var n=_()(t,2),r=n[0],a=n[1];if(2===a)return Promise.resolve();if(1===a){var c=e.filter((function(e){var t=e.LabelIDs;return!(void 0===t?[]:t).includes(r)})).map((function(e){return e.ID}));return c.length?w(Object(dc.e)({LabelID:r,ContactEmailIDs:c})):Promise.resolve()}var o=e.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)})).map((function(e){return e.ID}));return o.length?w(Object(dc.i)({LabelID:r,ContactEmailIDs:o})):Promise.resolve()}))));case 9:return c.next=11,Ne.a.awrap(x());case 11:E({text:Object($.c)("Info").ngettext(Object($.msgid)(yl()),"Contact groups apply",a.length)}),j();case 13:case"end":return c.stop()}})));var e,t,n,a}},Object($.c)("Action").t(bl())))))},xl=n("qbag"),wl=n("U9R1"),Cl=n("Hvmf"),kl=n("FilX"),Pl=n("jHUz"),Nl=n("qrfN"),Dl=z.R.TYPE_INTERNAL,Il=z.x.ENABLE_ENCRYPTION,Sl=function(e){return e.RecipientType===Dl},Al=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.reduce((function(e,r){var a=r.getFingerprint();return e[Object(fe.a)({isVerificationOnly:n.has(a),isNotTrusted:!t.has(a)})].push(r),e}),Array.from({length:4}).map((function(){return[]}))).flat()},Tl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.reduce((function(e,r){var a=r.getFingerprint();return e[Object(fe.a)({cannotSend:t.has(a)||n.has(a)})].push(r),e}),Array.from({length:2}).map((function(){return[]}))).flat()},Ml=function(e){var t,n,r,a,c;return Ne.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=+Object(Nl.a)(),n=e.getCreationTime(),o.next=4,Ne.a.awrap(e.getExpirationTime("encrypt"));case 4:return r=o.sent,a=!(n<=t&&t<=r),o.next=8,Ne.a.awrap(e.isRevoked());case 8:return c=o.sent,o.abrupt("return",{isExpired:a,isRevoked:c});case 10:case"end":return o.stop()}}))},Ll=n("0BWK");function Kl(){var e=X()(["Plain text"]);return Kl=function(){return e},e}function Rl(){var e=X()(["Automatic"]);return Rl=function(){return e},e}var Fl=function(e){var t=e.value,n=e.onChange,r=e.disabled,a=[{text:Object($.c)("MIME type").t(Rl()),value:""},{text:Object($.c)("MIME type").t(Kl()),value:z.D.PLAINTEXT}];return i.a.createElement($t.a,{value:t,options:a,disabled:r,onChange:function(e){var t=e.target;return n(t.value)}})},Gl=n("UPgO"),Ul=n("Y/Ll");function Bl(){var e=X()(["Use global default (",")"]);return Bl=function(){return e},e}var Vl=function(e){var t=e.value,n=e.onChange,r=Object(Ju.a)(),a=_()(r,2),c=a[0].PGPScheme,o=a[1],u=c===z.K.SEND_PGP_INLINE?"PGP/Inline":"PGP/MIME",l=[{value:"",text:Object($.c)("Default encryption scheme").t(Bl(),u)},{value:"pgp-mime",text:"PGP/MIME"},{value:"pgp-inline",text:"PGP/Inline"}];return i.a.createElement($t.a,{options:l,disabled:o,value:t,onChange:function(e){var t=e.target;return n(t.value)}})},zl=n("Cphr"),Wl=n("l+59");function Yl(){var e=X()(["This key is assigned to ",""]);return Yl=function(){return e},e}var Hl=function(e){var t,n,r,a=e.publicKey,c=e.email,o=Et()(e,["publicKey","email"]),u=i.a.createElement(St.a,Ot()({name:"attention",fill:"attention"},o)),l=(t=c,n=a.users,!(r=(void 0===n?[]:n).reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.userId,r=void 0===n?{}:n;if(!r||!r.userid)return e;var a=/<([^>]*)>/.exec(r.userid)||[],c=_()(a,2),o=c[1],i=void 0===o?r.userid:o;return e.push(i),e}),[])).includes(t)&&r);if(l){var s=l.join(", ");return i.a.createElement(ni.a,{title:Object($.c)("PGP key warning").t(Yl(),s)},u)}return null};function Jl(){var e=X()(["Expired"]);return Jl=function(){return e},e}function Xl(){var e=X()(["Revoked"]);return Xl=function(){return e},e}function ql(){var e=X()(["Trusted"]);return ql=function(){return e},e}function Ql(){var e=X()(["WKD"]);return Ql=function(){return e},e}function Zl(){var e=X()(["Verification only"]);return Zl=function(){return e},e}function _l(){var e=X()(["Active"]);return _l=function(){return e},e}function $l(){var e=X()(["Remove"]);return $l=function(){return e},e}function es(){var e=X()(["Untrust"]);return es=function(){return e},e}function ts(){var e=X()(["Trust"]);return ts=function(){return e},e}function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function as(){var e=X()(["Use for sending"]);return as=function(){return e},e}function cs(){var e=X()(["Download"]);return cs=function(){return e},e}function os(){var e=X()(["Actions"]);return os=function(){return e},e}function is(){var e=X()(["Status"]);return is=function(){return e},e}function us(){var e=X()(["Type"]);return us=function(){return e},e}function ls(){var e=X()(["Expires"]);return ls=function(){return e},e}function ss(){var e=X()(["Created"]);return ss=function(){return e},e}function fs(){var e=X()(["Fingerprint"]);return fs=function(){return e},e}var ds=function(e){var t=e.model,n=e.setModel,r=Object(o.useState)([]),a=_()(r,2),c=a[0],u=a[1],l=Object(ie.a)(),s=l.isNarrow,f=l.isTinyMobile,d=t.keys.api.length;return Object(o.useEffect)((function(){var e,n,r;Ne.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.isPGPInternal?me()(t.keys.api):[].concat(me()(t.keys.api),me()(t.keys.pinned)),n=Object(ke.f)(e,(function(e){return e.getFingerprint()})),a.next=4,Ne.a.awrap(Promise.all(n.map((function(e,n){var r,a,c,o,i,u,l,s,f,m,p,b,v,h,g;return Ne.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,r=e.getFingerprint(),a=e.getCreationTime(),y.next=5,Ne.a.awrap(e.getExpirationTime("encrypt"));case 5:return c=y.sent,o=e.getAlgorithmInfo(),i=Object(Wl.a)(o),u=t.trustedFingerprints.has(r),l=t.expiredFingerprints.has(r),s=t.revokedFingerprints.has(r),f=t.verifyOnlyFingerprints.has(r),m=!n&&!l&&!s&&!f&&(!!d||t.encrypt),p=t.isPGPExternal&&n<d,b=n>=d,v=!!n&&!l&&!s&&!f&&(n<d?u:!d&&t.encrypt),h=!u&&!b,g=u&&!b,y.abrupt("return",{publicKey:e,fingerprint:r,algo:i,creationTime:a,expirationTime:c,isActive:m,isWKD:p,isExpired:l,isRevoked:s,isTrusted:u,isVerificationOnly:f,isUploaded:b,canBeActive:v,canBeTrusted:h,canBeUntrusted:g});case 21:return y.prev=21,y.t0=y.catch(0),y.abrupt("return",!1);case 24:case"end":return y.stop()}}),null,null,[[0,21]])}))));case 4:r=a.sent,u(r.filter(Boolean));case 6:case"end":return a.stop()}}))}),[t.keys,t.trustedFingerprints,t.encrypt]),i.a.createElement(Bt.a,{className:"pm-simple-table--has-actions"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{scope:"col",className:"ellipsis"},Object($.c)("Table header").t(fs())),!s&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object($.c)("Table header").t(ss())),!f&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object($.c)("Table header").t(ls())),!s&&i.a.createElement("th",{scope:"col",className:"ellipsis"},Object($.c)("Table header").t(us())),i.a.createElement("th",{scope:"col",className:"ellipsis"},Object($.c)("Table header").t(is())),i.a.createElement("th",{scope:"col",className:Object(Do.a)(["ellipsis",s&&"w40"])},Object($.c)("Table header").t(os())))),i.a.createElement(Gi.a,null,c.map((function(e){var r=e.fingerprint,a=e.algo,c=e.creationTime,o=e.expirationTime,u=e.isActive,l=e.isWKD,d=e.publicKey,m=e.isExpired,p=e.isRevoked,b=e.isTrusted,v=e.isVerificationOnly,h=e.isUploaded,g=e.canBeActive,y=e.canBeTrusted,O=e.canBeUntrusted,j=new Date(c),E=new Date(o),x=[{text:Object($.c)("Action").t(cs()),onClick:function(){var e,n;return Ne.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e=new Blob([d.armor()],{type:"data:text/plain;charset=utf-8;"}),n="publickey - ".concat(t.email," - 0x").concat(r.slice(0,8).toUpperCase(),".asc"),Object(Hu.a)(e,n);case 3:case"end":return a.stop()}}))}},g&&{text:Object($.c)("Action").t(as()),onClick:function(){var e=t.keys.api.findIndex((function(e){return e.getFingerprint()===r})),a=t.keys.pinned.findIndex((function(e){return e.getFingerprint()===r})),c=-1!==e?Object(ke.c)(t.keys.api,e,0):t.keys.api,o=-1!==a?Object(ke.c)(t.keys.pinned,a,0):t.keys.pinned;n(rs({},t,{keys:{api:c,pinned:o}}))}},y&&{text:Object($.c)("Action").t(ts()),onClick:function(){var e=new Set(t.trustedFingerprints);e.add(r),n(rs({},t,{trustedFingerprints:e}))}},O&&{text:Object($.c)("Action").t(es()),onClick:function(){var e=new Set(t.trustedFingerprints);e.delete(r),n(rs({},t,{trustedFingerprints:e}))}},h&&{text:Object($.c)("Action").t($l()),onClick:function(){var e=new Set(t.trustedFingerprints),a=new Set(t.expiredFingerprints),c=new Set(t.revokedFingerprints);e.delete(r),a.delete(r),c.delete(r),n(rs({},t,{trustedFingerprints:e,expiredFingerprints:a,revokedFingerprints:c,keys:rs({},t.keys,{pinned:t.keys.pinned.filter((function(e){return e.getFingerprint()!==r}))})}))}}].filter(Boolean),w=[i.a.createElement("div",{key:r,title:r,className:"flex flex-nowrap"},i.a.createElement(Hl,{className:"mr0-5 flex-item-noshrink",publicKey:d,email:t.email}),i.a.createElement("span",{className:"flex-item-fluid ellipsis"},r)),!s&&(Object(ko.a)(j)?Object(nl.a)(j,"PP",{locale:rl.a}):"-"),!f&&(Object(ko.a)(E)?Object(nl.a)(E,"PP",{locale:rl.a}):"-"),!s&&a,i.a.createElement(i.a.Fragment,{key:r},u?i.a.createElement(zl.a,null,Object($.c)("Key badge").t(_l())):null,v?i.a.createElement(zl.a,{type:"warning"},Object($.c)("Key badge").t(Zl())):null,l?i.a.createElement(zl.a,null,Object($.c)("Key badge").t(Ql())):null,b?i.a.createElement(zl.a,null,Object($.c)("Key badge").t(ql())):null,p?i.a.createElement(zl.a,{type:"error"},Object($.c)("Key badge").t(Xl())):null,m?i.a.createElement(zl.a,{type:"error"},Object($.c)("Key badge").t(Jl())):null),i.a.createElement(yo.a,{key:r,className:"pm-button--small",list:x})].filter(Boolean);return i.a.createElement(Bi.a,{key:r,cells:w})}))))};function ms(){var e=X()(["Select the PGP scheme to be used when signing or encrypting to a user. Note that PGP/Inline forces plain text messages"]);return ms=function(){return e},e}function ps(){var e=X()(["Cryptographic scheme"]);return ps=function(){return e},e}function bs(){var e=X()(["Upload a public key to enable sending end-to-end encrypted emails to this email"]);return bs=function(){return e},e}function vs(){var e=X()(["Public keys"]);return vs=function(){return e},e}function hs(){var e=X()(["Digitally signing emails helps authenticating that messages are sent by you"]);return hs=function(){return e},e}function gs(){var e=X()(["Sign emails"]);return gs=function(){return e},e}function ys(){var e=X()(["Email encryption forces email signature to help authenticate your sent messages"]);return ys=function(){return e},e}function Os(){var e=X()(["Encrypt emails"]);return Os=function(){return e},e}function js(){var e=X()(["All uploaded keys are expired or revoked! Encryption is automatically disabled."]);return js=function(){return e},e}function Es(){var e=X()(["Only change these settings if you are using PGP with non-ProtonMail recipients."]);return Es=function(){return e},e}function xs(){var e=X()(["To use Address Verification, you must trust one or more available public keys, including the one you want to use for sending. This prevents the encrypted keys from being faked."]);return xs=function(){return e},e}function ws(){var e=X()(["This address is disabled. To be able to send to this address, the owner must first enable the address."]);return ws=function(){return e},e}function Cs(){var e=X()(["Address Verification with Trusted Keys is enabled for this address. To be able to send to this address, first trust public keys that can be used for sending."]);return Cs=function(){return e},e}function ks(){var e=X()(["Setting up PGP allows you to send end-to-end encrypted emails with a non-Protonmail user that uses a PGP compatible service."]);return ks=function(){return e},e}function Ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ps(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ds(){var e=X()(["Invalid public key file"]);return Ds=function(){return e},e}var Is,Ss=function(e){var t=e.model,n=e.setModel,r=Object(xt.a)().createNotification,a=t.keys.api.filter((function(e){return t.trustedFingerprints.has(e.getFingerprint())})),c=!!t.keys.api.length,o=!!t.keys.pinned.length,u=!!a.length,l=o&&!t.keys.pinned.some((function(e){var n=e.getFingerprint();return!t.expiredFingerprints.has(n)&&!t.revokedFingerprints.has(n)})),s=u&&!a.some((function(e){return!t.verifyOnlyFingerprints.has(e.getFingerprint())}));return i.a.createElement(i.a.Fragment,null,!c&&i.a.createElement(kt.a,{learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object($.c)("Info").t(ks())),!!t.keys.pinned.length&&s&&i.a.createElement(kt.a,{type:"warning"},Object($.c)("Info").t(Cs())),t.pgpAddressDisabled&&i.a.createElement(kt.a,{type:"warning"},Object($.c)("Info").t(ws())),c&&i.a.createElement(kt.a,{learnMore:"https://protonmail.com/support/knowledge-base/address-verification/"},Object($.c)("Info").t(xs())),!c&&!t.sign&&i.a.createElement(kt.a,{learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object($.c)("Info").t(Es())),t.isPGPExternalWithoutWKDKeys&&l&&i.a.createElement(kt.a,{type:"error",learnMore:"https://protonmail.com/support/knowledge-base/how-to-use-pgp/"},Object($.c)("Info").t(js())),!c&&i.a.createElement(Jc.a,null,i.a.createElement(_t.a,{htmlFor:"encrypt-toggle"},Object($.c)("Label").t(Os()),i.a.createElement(kl.a,{className:"ml0-5",title:Object($.c)("Tooltip").t(ys())})),i.a.createElement(Fo.a,null,i.a.createElement(Gl.a,{id:"encrypt-toggle",checked:t.encrypt,disabled:!t.keys.pinned.length||l,onChange:function(e){var r=e.target;return n(Ns({},t,{encrypt:r.checked,sign:!!r.checked||t.sign}))}}))),!c&&i.a.createElement(Jc.a,null,i.a.createElement(_t.a,{htmlFor:"sign-toggle"},Object($.c)("Label").t(gs()),i.a.createElement(kl.a,{className:"ml0-5",title:Object($.c)("Tooltip").t(hs())})),i.a.createElement(Fo.a,null,i.a.createElement(Gl.a,{id:"sign-toggle",checked:t.sign,disabled:t.encrypt,onChange:function(e){var r=e.target;return n(Ns({},t,{sign:r.checked,mimeType:""}))}}))),i.a.createElement(Jc.a,null,i.a.createElement(_t.a,null,Object($.c)("Label").t(vs()),i.a.createElement(kl.a,{className:"ml0-5",title:Object($.c)("Tooltip").t(bs())})),i.a.createElement(Fo.a,{className:"onmobile-mt0-5"},t.isPGPExternalWithoutWKDKeys&&i.a.createElement(Ul.a,{onFiles:function(e){var a,c,o,i;return Ne.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e.length){u.next=2;break}return u.abrupt("return",r({type:"error",text:Object($.c)("Error").t(Ds())}));case 2:return a=me()(t.keys.pinned),c=new Set(t.trustedFingerprints),o=new Set(t.revokedFingerprints),i=new Set(t.expiredFingerprints),u.next=8,Ne.a.awrap(Promise.all(e.map((function(e){var t,n,r,u,l;return Ne.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.getFingerprint(),s.next=3,Ne.a.awrap(Ml(e));case 3:if(n=s.sent,r=n.isExpired,u=n.isRevoked,r&&i.add(t),u&&o.add(t),c.has(t)){s.next=11;break}return c.add(t),s.abrupt("return",a.push(e));case 11:return l=a.findIndex((function(e){return e.getFingerprint()===t})),s.abrupt("return",a.splice(l,1,e));case 13:case"end":return s.stop()}}))}))));case 8:n(Ns({},t,{keys:Ns({},t.keys,{pinned:a}),trustedFingerprints:c,expiredFingerprints:i,revokedFingerprints:o}));case 9:case"end":return u.stop()}}))},multiple:!0}))),(c||o)&&i.a.createElement(ds,{model:t,setModel:n}),!c&&i.a.createElement(Jc.a,null,i.a.createElement(_t.a,null,Object($.c)("Label").t(ps()),i.a.createElement(kl.a,{className:"ml0-5",title:Object($.c)("Tooltip").t(ms())})),i.a.createElement(Fo.a,null,i.a.createElement(Vl,{value:t.scheme,onChange:function(e){return n(Ns({},t,{scheme:e}))}}))))};function As(){var e=X()(["Save"]);return As=function(){return e},e}function Ts(){var e=X()(["Cancel"]);return Ts=function(){return e},e}function Ms(){var e=X()(["Show advanced PGP settings"]);return Ms=function(){return e},e}function Ls(){var e=X()(["Hide advanced PGP settings"]);return Ls=function(){return e},e}function Ks(){var e=X()(["Automatic indicates that the format in the composer is used to send to this user. Plain text indicates that the message will always be converted to plain text on send."]);return Ks=function(){return e},e}function Rs(){var e=X()(["Email format"]);return Rs=function(){return e},e}function Fs(){var e=X()(["PGP/MIME automatically sends the message using the current composer mode. Please note that ProtonMail always signs PGP/MIME messages."]);return Fs=function(){return e},e}function Gs(){var e=X()(["PGP/Inline is only compatible with Plain Text format. Please note that ProtonMail always signs PGP/Inline messages."]);return Gs=function(){return e},e}function Us(){var e=X()(["Select the email format you want to be used by default when sending an email to this email address."]);return Us=function(){return e},e}function Bs(){var e=X()(["Email settings (",")"]);return Bs=function(){return e},e}function Vs(){var e=X()(["Close modal"]);return Vs=function(){return e},e}function zs(){var e=X()(["Close modal"]);return zs=function(){return e},e}function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(){var e=X()(["Preferences saved"]);return Hs=function(){return e},e}var Js=z.K.SEND_PGP_INLINE,Xs=z.K.SEND_PGP_MIME,qs=Be,Qs=Ue,Zs=(Is={},Q()(Is,Js,"pgp-inline"),Q()(Is,Xs,"pgp-mime"),Is),_s=function(e){var t=e.userKeysList,n=e.contactID,r=e.properties,a=e.emailProperty,c=Et()(e,["userKeysList","contactID","properties","emailProperty"]),u=Object(rc.a)(),l=Object(G.a)().call,s=Object(o.useState)({keys:{api:[],pinned:[]}}),f=_()(s,2),d=f[0],m=f[1],p=Object(o.useState)(!1),b=_()(p,2),v=b[0],h=b[1],g=Object(Ut.a)(),y=_()(g,2),O=y[0],j=y[1],E=Object(xt.a)().createNotification,x=Object(Ju.a)(),w=_()(x,2),C=w[0],k=C.PGPScheme,P=C.Sign,N=w[1],D=O||N,I=a.value,S=a.group,A=d.isPGPExternal&&d.sign,T="pgp-inline"===(d.scheme||Zs[k]),M=function(e){var t=(d.isPGPInternal?me()(d.keys.api):[].concat(me()(d.keys.api),me()(d.keys.pinned))).filter((function(e){return d.trustedFingerprints.has(e.getFingerprint())}));return Object(ke.f)(t,(function(e){return e.getFingerprint()})).map((function(t,n){return function(e){var t=e.publicKey,n=e.group,r=e.index;return{field:"key",value:"data:application/pgp-keys;base64,".concat(Object(Ae.j)(Object(Ae.b)(t.toPacketlist().write()))),group:n,pref:"".concat(r+1)}}({publicKey:t,group:e,index:n})}))};return Object(o.useEffect)((function(){var e=new AbortController;return N||j(function(e){var t,n,a,c,o,i,u,l,s,f,d,p,b,v,h,g;return Ne.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Ne.a.awrap(Je(r,S,P));case 2:return t=y.sent,n=t.pinnedKeys,a=t.mimeType,c=t.encrypt,o=t.scheme,i=t.sign,u=new Set,l=new Set,s=new Set,y.next=13,Ne.a.awrap(Promise.all(n.map((function(e){var t,n,r,a;return Ne.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.getFingerprint(),c.next=3,Ne.a.awrap(Ml(e));case 3:n=c.sent,r=n.isExpired,a=n.isRevoked,u.add(t),r&&l.add(t),a&&s.add(t);case 9:case"end":return c.stop()}}))}))));case 13:return y.next=15,Ne.a.awrap(Object(Ll.a)(e,I));case 15:f=y.sent,d=Sl(f),p=!d,b=new Set,v=f.Keys.reduce((function(e,t,n){var r=t.Flags,a=f.publicKeys[n];a&&(e.apiKeys.push(a),!(r&z.x.ENABLE_ENCRYPTION)&&b.add(a.getFingerprint()));return e}),{apiKeys:[]}),h=v.apiKeys,g=Al(h,u,b),m({mimeType:a,encrypt:c,scheme:o,sign:i,email:I,keys:{api:g,pinned:n},trustedFingerprints:u,expiredFingerprints:l,revokedFingerprints:s,verifyOnlyFingerprints:b,isPGPExternal:p,isPGPInternal:d,isPGPExternalWithWKDKeys:p&&!!h.length,isPGPExternalWithoutWKDKeys:p&&!h.length,pgpAddressDisabled:(O=f,Sl(O)&&!O.Keys.some((function(e){return e.Flags&Il})))});case 22:case"end":return y.stop()}var O}))}((function(t){return u(Ys({},t,{signal:e.signal}))}))),function(){e.abort()}}),[N]),Object(o.useEffect)((function(){var e=!!d.keys.pinned.length&&!d.keys.pinned.some((function(e){var t=e.getFingerprint();return!d.expiredFingerprints.has(t)&&!d.revokedFingerprints.has(t)}));m((function(t){return Ys({},t,{encrypt:!e&&!!t.keys.pinned.length&&t.encrypt,keys:{api:Al(t.keys.api,t.trustedFingerprints,t.verifyOnlyFingerprints),pinned:Tl(t.keys.pinned,t.expiredFingerprints,t.revokedFingerprints)}})}))}),[d.trustedFingerprints,d.expiredFingerprints,d.revokedFingerprints,d.verifyOnlyFingerprints]),Object(o.useEffect)((function(){if(A)return T?m((function(e){return Ys({},e,{mimeType:z.D.PLAINTEXT})})):void m((function(e){return Ys({},e,{mimeType:""})}))}),[A,T]),i.a.createElement(xl.a,Ot()({modalTitleID:"modalTitle"},c),i.a.createElement("header",{className:"pm-modalHeader"},i.a.createElement("button",{type:"button",className:"pm-modalClose",title:Object($.c)("Action").t(zs()),onClick:c.onClose},i.a.createElement(St.a,{className:"pm-modalClose-icon",name:"close"}),i.a.createElement("span",{className:"sr-only"},Object($.c)("Action").t(Vs()))),i.a.createElement("h1",{id:"modalTitle",className:"pm-modalTitle ellipsis"},Object($.c)("Title").t(Bs(),I))),i.a.createElement(wl.a,{onSubmit:function(){return j(Ne.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return e=r.filter((function(e){var t=e.field,n=e.group;return!["email"].concat(me()(Le)).includes(t)||n&&n!==S})),o=[a,d.mimeType&&{field:"x-pm-mimetype",value:d.mimeType,group:S},d.isPGPExternalWithoutWKDKeys&&void 0!==d.encrypt&&{field:"x-pm-encrypt",value:""+d.encrypt,group:S},d.isPGPExternalWithoutWKDKeys&&void 0!==d.sign&&{field:"x-pm-sign",value:""+d.sign,group:S},d.isPGPExternalWithoutWKDKeys&&d.scheme&&{field:"x-pm-scheme",value:d.scheme,group:S}].concat(me()(M(S))).filter(Boolean),i=je(e.concat(o)),m.next=5,Ne.a.awrap(wc([i],t[0]));case 5:return s=m.sent,f=kc(i)?qs:Qs,m.next=9,Ne.a.awrap(u(Object(dc.a)({Contacts:s,Overwrite:+!!n,Labels:f})));case 9:return m.next=11,Ne.a.awrap(l());case 11:c.onClose(),E({text:Object($.c)("Success").t(Hs())});case 13:case"end":return m.stop()}})));var e,o,i,s,f},onReset:c.onClose,noValidate:!1},i.a.createElement(Cl.a,null,A?T?i.a.createElement(kt.a,null,Object($.c)("Info").t(Gs())):i.a.createElement(kt.a,null,Object($.c)("Info").t(Fs())):i.a.createElement(kt.a,null,Object($.c)("Info").t(Us())),i.a.createElement(Jc.a,null,i.a.createElement(_t.a,null,Object($.c)("Label").t(Rs()),i.a.createElement(kl.a,{className:"ml0-5",title:Object($.c)("Tooltip").t(Ks())})),i.a.createElement(Fo.a,null,i.a.createElement(Fl,{disabled:A,value:d.mimeType,onChange:function(e){return m(Ys({},d,{mimeType:e}))}}))),i.a.createElement("div",{className:"mb1"},i.a.createElement(lt.a,{onClick:function(){return h(!v)},disabled:O||N},v?Object($.c)("Action").t(Ls()):Object($.c)("Action").t(Ms()))),v?i.a.createElement(Ss,{model:d,setModel:m}):null),i.a.createElement(Pl.a,null,i.a.createElement(Pt.a,null,Object($.c)("Action").t(Ts())),i.a.createElement(wt.a,{loading:D,disabled:!v,type:"submit"},Object($.c)("Action").t(As())))))};function $s(){var e=X()(["Email settings"]);return $s=function(){return e},e}function ef(){var e=X()(["Contact group"]);return ef=function(){return e},e}var tf=function(e){var t=e.property,n=e.properties,r=e.contactID,a=e.contactEmail,c=e.contactGroups,o=void 0===c?[]:c,u=e.userKeysList,l=e.leftBlockWidth,s=void 0===l?"w30":l,f=e.rightBlockWidth,d=void 0===f?"w70":f,m=Object(ce.b)(),p=_()(m,1)[0].hasPaidMail,b=Object(te.a)().createModal,v={work:Object($.c)("Contact type label").t(ja()),home:Object($.c)("Contact type label").t(Oa()),cell:Object($.c)("Contact type label").t(ya()),main:Object($.c)("Contact type label").t(ga()),yomi:Object($.c)("Contact type label").t(ha()),other:Object($.c)("Contact type label").t(va()),fax:Object($.c)("Contact type label").t(ba()),pager:Object($.c)("Contact type label").t(pa())},h=t.field,g=t.first,y=We(Ye(t.type)),O=v[y]||y,j=t.value;return i.a.createElement(Jc.a,null,i.a.createElement("div",{className:Object(Do.a)(["flex flex-items-center",s])},i.a.createElement(Qo,{field:h,type:O,first:g})),i.a.createElement("div",{className:Object(Do.a)(["flex flex-nowrap flex-items-center pl1",d])},i.a.createElement("span",{className:Object(Do.a)(["mr0-5 flex-item-fluid",!["note"].includes(h)&&"ellipsis"])},function(){if("email"===h)return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"mr0-5",href:"mailto:".concat(j),title:j},j),o.map((function(e){var t=e.ID,n=e.Name,r=e.Color;return i.a.createElement(su,{key:t,name:n,color:r})})));if("url"===h)return i.a.createElement("a",{href:j,target:"_blank",rel:"noopener noreferrer"},j);if("tel"===h)return i.a.createElement("a",{href:"tel:".concat(j)},j);if(["bday","anniversary"].includes(h)){var e=[Object(Co.a)(j),new Date(j)].filter(ko.a),t=_()(e,1)[0];return t?Object(nl.a)(t,"PP",{locale:rl.a}):j}return"logo"===h?i.a.createElement(_u.a,{src:j}):"adr"===h?He(j):j}()),i.a.createElement("span",{className:"flex-item-noshrink"},function(){switch(h){case"email":if(!a)return null;return i.a.createElement($u.a,null,p?i.a.createElement(El,{className:"pm-button pm-button--for-icon pm-group-button",contactEmails:[a]},i.a.createElement(ni.a,{title:Object($.c)("Title").t(ef())},i.a.createElement(St.a,{name:"contacts-groups"}))):null,i.a.createElement(el.a,{onClick:function(){b(i.a.createElement(_s,{userKeysList:u,contactID:r,emailProperty:t,properties:n}))},className:"pm-button--for-icon"},i.a.createElement(ni.a,{title:Object($.c)("Title").t($s())},i.a.createElement(St.a,{name:"settings-singular"}))),i.a.createElement(tl.a,{className:"pm-button--for-icon pm-group-button",value:j}));case"tel":return i.a.createElement(tl.a,{className:"pm-button--for-icon",value:j});case"adr":return i.a.createElement(tl.a,{className:"pm-button--for-icon",value:He(j)});default:return null}}())))};function nf(){var e=X()(["Other information"]);return nf=function(){return e},e}function rf(){var e=X()(["Addresses"]);return rf=function(){return e},e}function af(){var e=X()(["Phone numbers"]);return af=function(){return e},e}function cf(){var e=X()(["Email addresses"]);return cf=function(){return e},e}var of={email:"email",tel:"phone",adr:"address",other:"info"},uf=function(e){var t=e.properties,n=e.contactID,r=e.contactEmails,a=e.contactGroupsMap,c=void 0===a?{}:a,o=e.field,u=e.userKeysList,l=e.leftBlockWidth,s=void 0===l?"w30":l,f=e.rightBlockWidth,d=void 0===f?"w70":f,m={email:Object($.c)("Title").t(cf()),tel:Object($.c)("Title").t(af()),adr:Object($.c)("Title").t(rf()),other:Object($.c)("Title").t(nf())},p=o?m[o]:m.other,b=o?of[o]:of.other,v=["photo","org"],h=o?[o]:Me.filter((function(e){return!v.includes(e)})),g=t.filter((function(e){var t=e.field;return h.includes(t)}));return g.length?i.a.createElement("div",{className:"border-bottom mb1"},i.a.createElement("h3",{className:"mb1 flex flex-nowrap flex-items-center"},i.a.createElement(St.a,{name:b,className:"mr0-5"}),i.a.createElement("span",{className:"mr0-5"},p),"email"===o?null:i.a.createElement(ai,{className:"flex"})),g.map((function(e,a){var o=r&&r[a],l=o&&o.LabelIDs.map((function(e){return c[e]})).filter(Boolean);return i.a.createElement(tf,{key:a.toString(),contactID:n,contactEmail:o,contactGroups:l,property:e,properties:t,userKeysList:u,leftBlockWidth:s,rightBlockWidth:d})}))):null};function lf(){var e=X()(["Export"]);return lf=function(){return e},e}function sf(){var e=X()(["Edit"]);return sf=function(){return e},e}function ff(){var e=X()(["Contact details"]);return ff=function(){return e},e}var df=function(e){var t=e.properties,n=void 0===t?[]:t,r=e.contactID,a=e.contactEmails,c=e.contactGroupsMap,o=e.userKeysList,u=e.errors,l=Object(te.a)().createModal,s=Object(ce.b)(),f=_()(s,1)[0];return i.a.createElement("div",{className:"view-column-detail flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"flex flex-spacebetween flex-items-center border-bottom"},i.a.createElement("div",{className:"p1"},i.a.createElement("h2",{className:"m0"},Object($.c)("Title").t(ff()))),i.a.createElement("div",{className:"p1"},i.a.createElement(wt.a,{onClick:function(){l(i.a.createElement(Ki,{properties:n,contactID:r}))},className:"mr1"},Object($.c)("Action").t(sf())),i.a.createElement(At.a,{onClick:function(){return function(e){var t=e.filter((function(e){var t=e.field;return["fn","email"].includes(t)})).map((function(e){var t=e.value;return Array.isArray(t)?t[0]:t}))[0],n=$e(e),r=new Blob([n.toString()],{type:"data:text/plain;charset=utf-8;"});Object(Hu.a)(r,"".concat(t,".vcf"))}(n)}},Object($.c)("Action").t(lf())))),i.a.createElement(Yu,{errors:u}),i.a.createElement(Zu,{properties:n}),i.a.createElement("div",{className:"pl1 pr1"},i.a.createElement(uf,{userKeysList:o,contactID:r,contactEmails:a,contactGroupsMap:c,properties:n,field:"email"}),f.hasPaidMail?i.a.createElement(i.a.Fragment,null,i.a.createElement(uf,{contactID:r,properties:n,field:"tel"}),i.a.createElement(uf,{contactID:r,properties:n,field:"adr"}),i.a.createElement(uf,{contactID:r,properties:n})):i.a.createElement(gi,null)))},mf=function(e){var t=e.contactID,n=e.contactEmails,r=e.contactGroupsMap,a=e.userKeysList,c=void 0===a?[]:a,u=Object(o.useState)({ID:t}),l=_()(u,2),s=l[0],f=l[1],d=Object(o.useRef)(t),m=Pu(t),p=_()(m,2),b=p[0],v=p[1];Object(o.useEffect)((function(){if(b&&c.length){d.current=b.ID;var e=Object(Cu.f)(c),t=e.publicKeys,n=e.privateKeys;Ku(b,{publicKeys:t,privateKeys:n}).then((function(e){var t=e.properties,n=e.error;d.current===b.ID&&f({ID:b.ID,properties:t,error:n})}))}}),[b,c]);var h=s.properties,g=s.errors,y=s.ID;return v||!h||y!==t?i.a.createElement(le.a,null):i.a.createElement(df,{properties:h,contactID:t,contactEmails:n,contactGroupsMap:r,userKeysList:c,errors:g})},pf=n("2iEm"),bf=n("pc7d"),vf=n.n(bf),hf=n("X8Oj"),gf=n.n(hf),yf=n("uLbS"),Of=n.n(yf),jf=n("6C09"),Ef=n.n(jf),xf=n("hGKC"),wf=n.n(xf);function Cf(){var e=X()(["No contacts exported."]);return Cf=function(){return e},e}function kf(){var e=X()([""," out of "," contacts successfully exported."]);return kf=function(){return e},e}function Pf(){var e=X()(["Decrypting contacts... This may take a few minutes. When the process is completed, you will be able to download the file with all your contacts exported."]);return Pf=function(){return e},e}function Nf(){var e=X()(["Exporting contacts"]);return Nf=function(){return e},e}function Df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function If(){var e=X()(["Save"]);return If=function(){return e},e}function Sf(){var e=X()(["Cancel"]);return Sf=function(){return e},e}var Af=function(e){var t,n,r=e.contactGroupID,a=e.userKeysList,c=e.onSave,u=void 0===c?Ve.b:c,l=Et()(e,["contactGroupID","userKeysList","onSave"]),s=Object(rc.a)(),f=Object(re.a)(),d=_()(f,2),m=d[0],p=d[1],b=Object(o.useState)([]),v=_()(b,2),h=v[0],g=v[1],y=Object(o.useState)([]),O=_()(y,2),j=O[0],E=O[1],x=r?m.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)})).length:m.length,w=Math.ceil(x/50);return Object(o.useEffect)((function(){var e=new AbortController,t=function(t){return s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Df(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{signal:e.signal}))},n=Object(Cu.f)(a),c=n.publicKeys,o=n.privateKeys,i=function(e,n){var a,i,u,l,s,f,d,m,p,b;return Ne.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return a=n.signal,v.next=3,Ne.a.awrap(t(Object(dc.g)({LabelID:r,Page:e,PageSize:50})));case 3:i=v.sent,u=i.Contacts,l=!0,s=!1,f=void 0,v.prev=8,d=function(){var e,t,n,r,i,u,l,s;return Ne.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(e=p.value,t=e.Cards,n=e.ID,!a.aborted){f.next=3;break}return f.abrupt("return",{v:void 0});case 3:return f.prev=3,f.next=6,Ne.a.awrap(Ku({Cards:t},{publicKeys:c,privateKeys:o}));case 6:if(r=f.sent,i=r.properties,u=void 0===i?[]:i,l=r.errors,!(void 0===l?[]:l).length){f.next=13;break}throw new Error("Error decrypting contact");case 13:s=$e(u).toString(),!a.aborted&&g((function(e){return[].concat(me()(e),[s])})),f.next=20;break;case 17:f.prev=17,f.t0=f.catch(3),!a.aborted&&E((function(e){return[].concat(me()(e),[n])}));case 20:case"end":return f.stop()}}),null,null,[[3,17]])},m=u[Symbol.iterator]();case 11:if(l=(p=m.next()).done){v.next=20;break}return v.next=14,Ne.a.awrap(d());case 14:if("object"!=typeof(b=v.sent)){v.next=17;break}return v.abrupt("return",b.v);case 17:l=!0,v.next=11;break;case 20:v.next=26;break;case 22:v.prev=22,v.t0=v.catch(8),s=!0,f=v.t0;case 26:v.prev=26,v.prev=27,l||null==m.return||m.return();case 29:if(v.prev=29,!s){v.next=32;break}throw f;case 32:return v.finish(29);case 33:return v.finish(26);case 34:case"end":return v.stop()}}),null,null,[[8,22,26,34],[27,,29,33]])};return function(e){var t;return Ne.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t=0;case 1:if(!(t<w)){n.next=7;break}return n.next=4,Ne.a.awrap(Promise.all([i(t,e),Object(mc.b)(100)]));case 4:t++,n.next=1;break;case 7:case"end":return n.stop()}}))}(e).catch((function(e){if("AbortError"!==e.name)throw l.onClose(),e})),function(){e.abort()}}),[]),i.a.createElement(Nt.a,Ot()({title:Object($.c)("Title").t(Nf()),onSubmit:function(){return e=h.join("\n"),t=new Blob([e],{type:"data:text/plain;charset=utf-8;"}),Object(Hu.a)(t,"".concat("protonContacts","-").concat(Object(nl.a)(Date.now(),"yyyy-MM-dd"),".vcf")),u(),void l.onClose();var e,t},footer:(t={loading:h.length+j.length!==x},n=t.loading,i.a.createElement(i.a.Fragment,null,i.a.createElement(Pt.a,null,Object($.c)("Action").t(Sf())),i.a.createElement(wt.a,{loading:n,type:"submit"},Object($.c)("Action").t(If())))),loading:p},l),i.a.createElement(kt.a,null,Object($.c)("Description").t(Pf())),i.a.createElement(ic,{id:"progress-export-contacts",alt:"contact-loader",value:Nc(h.length,j.length,x),failed:!h.length,displaySuccess:Object($.c)("Progress bar description").t(kf(),h.length,x),displayFailed:Object($.c)("Progress bar description").t(Cf())}))};function Tf(){var e=X()(["Merge"]);return Tf=function(){return e},e}function Mf(){var e=X()([""," Do you want to merge these contacts now?"]);return Mf=function(){return e},e}function Lf(){var e=X()(["Two or more contacts appear to be identical."]);return Lf=function(){return e},e}var Kf=function(e){var t=e.loadingUserKeys,n=e.style,r=e.onMerge,a=Et()(e,["loadingUserKeys","style","onMerge"]),c=i.a.createElement("b",{key:"boldface"},Object($.c)("Info").t(Lf()));return i.a.createElement("div",Ot()({style:n,className:"p1 flex flex-nowrap flex-items-center bg-primary color-white"},a),i.a.createElement("div",{className:"mr1 flex-item-noshrink"},i.a.createElement(St.a,{name:"merge",color:"white"})),i.a.createElement("div",{className:"alignleft"},i.a.createElement("span",{className:"mr0-5"},Object($.c)("Info").jt(Mf(),c)),i.a.createElement(At.a,{className:"pm-button--small pm-button--primary pm-button--whiteborder alignbaseline",disabled:t,onClick:r},Object($.c)("Action").t(Tf()))))};function Rf(){var e=X()(["Settings"]);return Rf=function(){return e},e}function Ff(){var e=X()(["You can decide whether or not contacts are automatically added to your address book by navigating to ",""]);return Ff=function(){return e},e}function Gf(){var e=X()(["You have "," in your address book"]);return Gf=function(){return e},e}function Uf(){var e=X()(["Contacts"]);return Uf=function(){return e},e}function Bf(){var e=X()(["Settings > General > Contacts"]);return Bf=function(){return e},e}function Vf(){var e=X()([""," contacts"]);return Vf=function(){return e},e}function zf(){var e=X()(["one contact"]);return zf=function(){return e},e}function Wf(){var e=X()(["Export"]);return Wf=function(){return e},e}function Yf(){var e=X()(["Edit"]);return Yf=function(){return e},e}function Hf(){var e=X()(["You have "," in this group."]);return Hf=function(){return e},e}function Jf(){var e=X()([""," contacts"]);return Jf=function(){return e},e}function Xf(){var e=X()(["1 contact"]);return Xf=function(){return e},e}function qf(){var e=X()(["Deselect"]);return qf=function(){return e},e}function Qf(){var e=X()(["You selected "," from your address book."]);return Qf=function(){return e},e}function Zf(){var e=X()(["1 contact"]);return Zf=function(){return e},e}function _f(){var e=X()(["Upgrade"]);return _f=function(){return e},e}function $f(){var e=X()(["Upgrade to a paid plan to enable encrypted contact details and manage contact groups."]);return $f=function(){return e},e}function ed(){var e=X()(["Unlock features"]);return ed=function(){return e},e}function td(){var e=X()(["Export"]);return td=function(){return e},e}function nd(){var e=X()(["Create a backup of your ProtonMail contacts by exporting them to a vCard file."]);return nd=function(){return e},e}function rd(){var e=X()(["Export contacts"]);return rd=function(){return e},e}function ad(){var e=X()(["Import"]);return ad=function(){return e},e}function cd(){var e=X()(["Add contacts to your ProtonMail account by importing them from a CSV or vCard file."]);return cd=function(){return e},e}function od(){var e=X()(["Import contacts"]);return od=function(){return e},e}function id(){var e=X()(["Groups"]);return id=function(){return e},e}function ud(){var e=X()(["Use groups to send email to a list of addresses you regularly communicate with."]);return ud=function(){return e},e}function ld(){var e=X()(["Manage groups"]);return ld=function(){return e},e}function sd(){var e=X()(["Export"]);return sd=function(){return e},e}function fd(){var e=X()(["Create a backup of your ProtonMail contacts by exporting them to a vCard file."]);return fd=function(){return e},e}function dd(){var e=X()(["Export contacts"]);return dd=function(){return e},e}function md(){var e=X()(["Import"]);return md=function(){return e},e}function pd(){var e=X()(["Add contacts to your ProtonMail account by importing them from a CSV or vCard file."]);return pd=function(){return e},e}function bd(){var e=X()(["Import contacts"]);return bd=function(){return e},e}var vd=function(e){var t=e.loadingUserKeys,n=e.onImport,r=e.onExport,a=e.onGroups;return i.a.createElement("div",{className:"flex flex-nowrap onmobile-flex-column"},i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:vf.a,alt:"contact-import",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t(bd())),i.a.createElement("p",null,Object($.c)("Info").t(pd()))),i.a.createElement("div",{className:"flex-item-noshrink mt2"},i.a.createElement(wt.a,{className:"bold",onClick:n,disabled:t},Object($.c)("Action").t(md())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:gf.a,alt:"contact-export",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t(dd())),i.a.createElement("p",null,Object($.c)("Info").t(fd()))),i.a.createElement("div",{className:"flex-item-noshrink mt2"},i.a.createElement(wt.a,{className:"bold",onClick:r,disabled:t},Object($.c)("Action").t(sd())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid onmobile-mr0 onmobile-mb1 p1 aligncenter"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:Of.a,alt:"contact-groups",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t(ld())),i.a.createElement("p",null,Object($.c)("Info").t(ud()))),i.a.createElement("div",{className:"flex-item-noshrink mt2"},i.a.createElement(wt.a,{className:"bold",onClick:a},Object($.c)("Action").t(id())))))},hd=function(e){var t=e.loadingUserKeys,n=e.onImport,r=e.onExport;return i.a.createElement("div",{className:"flex flex-nowrap onmobile-flex-column"},i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:vf.a,alt:"contact-import",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t(od())),i.a.createElement("p",null,Object($.c)("Info").t(cd()))),i.a.createElement("div",{className:"flex-item-noshrink mt2"},i.a.createElement(wt.a,{className:"bold",onClick:n,disabled:t},Object($.c)("Action").t(ad())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid mr1 onmobile-mr0 onmobile-mb1 p1 aligncenter flex flex-column"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:gf.a,alt:"contact-export",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t(rd())),i.a.createElement("p",null,Object($.c)("Info").t(nd()))),i.a.createElement("div",{className:"flex-item-noshrink mt2"},i.a.createElement(wt.a,{className:"bold",onClick:r,disabled:t},Object($.c)("Action").t(td())))),i.a.createElement("div",{className:"bordered-container flex-item-fluid onmobile-mr0 onmobile-mb1 p1 aligncenter"},i.a.createElement("div",{className:"flex-item-fluid"},i.a.createElement("img",{src:Ef.a,alt:"contact-unlock-features",className:"mb1"}),i.a.createElement("div",{className:"bold"},Object($.c)("Title").t(ed())),i.a.createElement("p",null,Object($.c)("Info").t($f()))),i.a.createElement("div",{className:"flex-item-noshrink mt2"},i.a.createElement(wt.a,{className:"bold",onClick:function(){return Object(f.h)("/settings/subscription")}},Object($.c)("Action").t(_f())))))},gd=function(e){var t=e.totalContacts,n=void 0===t?0:t,r=e.selectedContacts,a=void 0===r?0:r,c=e.totalContactsInGroup,o=void 0===c?0:c,u=e.contactGroupID,l=e.contactGroupName,s=e.user,f=e.userKeysList,d=e.loadingUserKeys,m=e.onUncheck,p=e.canMerge,b=e.onMerge,v=e.onImport,h=e.onExport,g=e.onGroups,y=s.hasPaidMail,O=Object(te.a)().createModal;if(a){var j=i.a.createElement("b",{key:"total-contacts"},Object($.c)("Info").ngettext(Object($.msgid)(Zf()),"".concat(a," contacts"),a));return i.a.createElement("div",{className:"p2 view-column-detail flex flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter center mbauto mtauto"},i.a.createElement("div",{className:"mb2"},Object($.c)("Info").jt(Qf(),j)),i.a.createElement("div",{className:"aligncenter mb2"},i.a.createElement("img",{src:wf.a,alt:"contact-group-card"})),i.a.createElement("div",{className:"mb2"},i.a.createElement(At.a,{className:"mr1",onClick:m},Object($.c)("Action").ngettext(Object($.msgid)(qf()),"Deselect all",a)))))}if(u){var E=i.a.createElement("b",{key:"total-contacts"},1===o?Object($.c)("Info").t(Xf()):Object($.c)("Info").t(Jf(),o));return i.a.createElement("div",{className:"p2 view-column-detail flex flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter center mbauto mtauto"},i.a.createElement("h1",{className:"ellipsis lh-standard"},l),i.a.createElement("div",{className:"mb2"},Object($.c)("Info").jt(Hf(),E)),i.a.createElement("div",{className:"aligncenter mb2"},i.a.createElement("img",{src:wf.a,alt:"contact-group-card"})),i.a.createElement("div",{className:"mb2"},i.a.createElement(At.a,{className:"mr1",onClick:function(){return O(i.a.createElement(uu,{contactGroupID:u}))}},Object($.c)("Action").t(Yf())),!!o&&i.a.createElement(At.a,{onClick:function(){return O(i.a.createElement(Af,{contactGroupID:u,userKeysList:f}))},disabled:d},Object($.c)("Action").t(Wf())))))}var x=1===n?i.a.createElement("b",{key:"boldface"},Object($.c)("Info").t(zf())):i.a.createElement("b",{key:"boldface"},Object($.c)("Info").t(Vf(),n)),w=i.a.createElement("b",{key:"boldface-2"},Object($.c)("Info").t(Bf()));return i.a.createElement("div",{className:"p2 view-column-detail flex-item-fluid scroll-if-needed"},i.a.createElement("div",{className:"aligncenter mt2"},i.a.createElement("h1",null,Object($.c)("Title").t(Uf())),i.a.createElement("div",{className:"mb2"},Object($.c)("Info").jt(Gf(),x)),i.a.createElement("div",{className:"mb1"},Object($.c)("Info").jt(Ff(),w)),i.a.createElement("div",{className:"mb1"},i.a.createElement(pf.a,{to:"/contacts/settings",className:"inline-flex flex-nowrap nodecoration"},i.a.createElement(St.a,{className:"mr0-5 flex-item-centered-vert fill-primary",name:"settings-master"}),i.a.createElement("span",null,Object($.c)("Title").t(Rf())))),p&&i.a.createElement("div",{className:"mb2"},i.a.createElement(Kf,{loadingUserKeys:d,onMerge:b}))),y?i.a.createElement(vd,{userKeysList:f,loadingUserKeys:d,onImport:v,onExport:function(){return h()},onGroups:g}):i.a.createElement(hd,{loadingUserKeys:d,onImport:v,onExport:function(){return h()}}))},yd=n("a5Ah");function Od(){var e=X()(["Delete"]);return Od=function(){return e},e}var jd=function(e){var t=e.user,n=e.onCheck,r=e.onDelete,a=e.checked,c=void 0!==a&&a,u=e.activeIDs,l=void 0===u?[]:u,s=e.contactEmailsMap,f=void 0===s?{}:s,d=e.simplified,m=void 0!==d&&d,p=Object(o.useMemo)((function(){return l.reduce((function(e,t){return f[t]?e.concat(f[t]):e}),[])}),[l,f]);return m?i.a.createElement("div",{className:"toolbar flex noprint"},i.a.createElement(pf.a,{to:"/contacts",className:"toolbar-button"},i.a.createElement(St.a,{name:"arrow-left",className:"toolbar-icon mauto"}))):i.a.createElement("div",{className:"toolbar flex noprint"},i.a.createElement(Zt.a,{className:"flex pm-select-all ml0-75 pl1 pr1",checked:c,onChange:function(e){var t=e.target;return n(t.checked)}}),i.a.createElement(yd.a,null),i.a.createElement("button",{type:"button",title:Object($.c)("Tooltip").t(Od()),className:"toolbar-button",onClick:r,disabled:!l.length},i.a.createElement(St.a,{name:"delete",className:"toolbar-icon mauto"})),t.hasPaidMail?i.a.createElement(El,{className:"toolbar-button toolbar-button--dropdown",disabled:!p.length,contactEmails:p,forToolbar:!0},i.a.createElement(St.a,{name:"contacts-groups",className:"toolbar-icon mauto"})):null)},Ed=n("llAM"),xd=n("VjF5"),wd=n("+4In"),Cd=n("c47Q"),kd=n("domY"),Pd=n("SOA7"),Nd=n("K/no"),Dd=n("JjEE");function Id(){var e=X()(["Settings"]);return Id=function(){return e},e}function Sd(){var e=X()(["Search contacts"]);return Sd=function(){return e},e}function Ad(){var e=X()(["Contacts"]);return Ad=function(){return e},e}function Td(){var e=X()(["Search"]);return Td=function(){return e},e}var Md=function(e){var t=e.title,n=e.search,r=e.onSearch,a=e.onClearSearch,c=e.expanded,o=e.onToggleExpand,u=e.inSettings,l=void 0!==u&&u,s=e.isNarrow,f=void 0!==s&&s,d=e.history,m=Object(ce.b)(),p=_()(m,1)[0].hasPaidMail,b=Object(te.a)().createModal;return i.a.createElement("header",{className:"header flex flex-items-center flex-nowrap reset4print"},i.a.createElement(Ed.a,{url:"/contacts",className:"nomobile"}),i.a.createElement(xd.a,{expanded:c,onToggle:o}),t&&f?i.a.createElement("span",{className:"h3 mb0 ellipsis lh-standard"},t):null,l||f?null:i.a.createElement(wd.a,{placeholder:Object($.c)("Placeholder").t(Td()),value:n,onChange:r}),i.a.createElement(Cd.a,null,p||f?null:i.a.createElement(kd.a,{external:!0}),f&&!l?null:i.a.createElement(Pd.a,{className:"nomobile",to:"/contacts",icon:"contacts",text:Object($.c)("Title").t(Ad()),"aria-current":!l}),!l&&f?i.a.createElement(Nd.a,{content:i.a.createElement(St.a,{name:"search",size:25,className:"topnav-icon mr0-5 flex-item-centered-vert fill-white"}),placeholder:Object($.c)("Placeholder").t(Sd()),search:n,onSearch:r,hasCaret:!1}):null,f&&l?null:i.a.createElement(Pd.a,{to:"/contacts/settings/general",icon:"settings-master",text:Object($.c)("Title").t(Id()),"aria-current":l})),f&&!l?i.a.createElement(Dd.a,{onClick:function(){return b(i.a.createElement(Ki,{history:d,onAdd:a}))},icon:"plus"}):null)},Ld=n("BMtv");function Kd(){var e=X()(["This feature requires a paid Proton account"]);return Kd=function(){return e},e}function Rd(){var e=X()(["Upgrade"]);return Rd=function(){return e},e}function Fd(){var e=X()(["Upgrade required"]);return Fd=function(){return e},e}var Gd=function(e){var t=e.onConfirm,n=e.onClose,r=Et()(e,["onConfirm","onClose"]);return i.a.createElement(Ct.a,Ot()({title:Object($.c)("Title").t(Fd()),onConfirm:function(){Object(f.h)("/settings/subscription"),t&&t()},onClose:n,confirm:Object($.c)("Action").t(Rd())},r),i.a.createElement(kt.a,{type:"warning"},Object($.c)("Warning").t(Kd())))};function Ud(){var e=X()(["Add contact"]);return Ud=function(){return e},e}function Bd(){var e=X()(["Groups"]);return Bd=function(){return e},e}function Vd(){var e=X()(["Export all"]);return Vd=function(){return e},e}function zd(){var e=X()(["Import"]);return zd=function(){return e},e}function Wd(){var e=X()(["Contacts"]);return Wd=function(){return e},e}var Yd=function(e){var t=e.url,n=e.user,r=e.userKeysList,a=void 0===r?[]:r,c=e.loadingUserKeys,o=e.totalContacts,u=e.contactGroups,l=void 0===u?[]:u,s=e.expanded,f=e.onToggleExpand,d=e.onClearSearch,m=e.history,p=n.hasPaidMail,b=Object(te.a)().createModal,v=[{icon:"contacts",isActive:function(e,t){return!!e&&!new URLSearchParams(t.search).get("contactGroupID")},text:Object($.c)("Link").t(Wd()),link:"/contacts"},!c&&{type:"button",className:"alignleft",icon:"import",text:Object($.c)("Link").t(zd()),onClick:function(){b(i.a.createElement(bo,{userKeysList:a}))}},o&&!c&&{type:"button",className:"alignleft",icon:"export",text:Object($.c)("Link").t(Vd()),onClick:function(){b(i.a.createElement(Af,{userKeysList:a}))}},{type:"button",className:"alignleft",icon:"settings-singular",text:Object($.c)("Link").t(Bd()),onClick:function(){if(!p)return b(i.a.createElement(Gd,null));m.push("/contacts/settings/groups")}}];p&&v.push.apply(v,me()(l.map((function(e){var t=e.Name,n=e.Color,r=e.ID;return{icon:"contacts-groups",isActive:function(e,t){return new URLSearchParams(t.search).get("contactGroupID")===r},color:n,text:t,link:"/contacts?contactGroupID=".concat(r)}}))));var h=[{to:"/inbox",icon:"protonmail",external:!0,current:!1},{to:"/contacts",icon:"protoncontacts",external:!1,current:!0},{to:"/calendar",icon:"protoncalendar",external:!0,current:!1}].filter(Boolean);return i.a.createElement(Ld.a,{expanded:s,onToggleExpand:f,url:t,list:v.filter(Boolean),mobileLinks:h},i.a.createElement("div",{className:"pl1 pr1 nomobile"},i.a.createElement(wt.a,{className:"pm-button--large bold mt0-25 w100",onClick:function(){return b(i.a.createElement(Ki,{history:m,onAdd:d}))}},Object($.c)("Action").t(Ud()))))},Hd=function(e,t,n){var r=n.oldIndex,a=n.newIndex;return e.map((function(e,n){return n===t?Object(ke.c)(e,r,a):e}))},Jd=function(e){var t=e.properties,n=void 0===t?[]:t,r=e.hasPaidMail,a=we(n,"fn"),c=Ce(n,"email"),o=Ce(n,"tel"),u=Ce(n,"adr"),l=Ce(n,"org"),s=Ce(n,"note"),f=[[{prop:"Name",icon:"contact",component:a}],c.length&&c.map((function(e){return{prop:"Email",icon:"email",component:i.a.createElement("a",{href:"mailto:".concat(e)},e)}})),r&&o.length&&o.map((function(e){return{prop:"Phone",icon:"phone",component:i.a.createElement("a",{href:"tel:".concat(e)},e)}})),r&&u.length&&u.map((function(e){return{prop:"Address",icon:"address",component:He(e)}})),r&&l.length&&l.map((function(e){return{prop:"Organization",icon:"organization",component:e}})),r&&s.length&&s.map((function(e){return{prop:"Note",icon:"note",component:e}}))].filter(Boolean);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Vt.a,{className:"flex flex-nowrap"},i.a.createElement("div",{className:"flex flex-column flex-nowrap mr2"},f.map((function(e){return i.a.createElement("div",{key:e[0].prop,className:"mb1"},e.map((function(e,t){var n=e.prop,r=e.icon;return i.a.createElement("div",{key:"icon-".concat(t),className:"flex flex-items-center flex-nowrap"},i.a.createElement(St.a,{name:r,className:Object(Do.a)(["mr0-5 flex-item-noshrink",t&&"nonvisible"])}),i.a.createElement("span",null,n))})))}))),i.a.createElement("div",{className:"flex flex-column"},f.map((function(e){return i.a.createElement("div",{key:e[0].prop,className:"mb1"},e.map((function(e,t){var n=e.component;return i.a.createElement("div",{key:"icon-".concat(t),className:"flex flex-items-center mw100 ellipsis"},n)})))})))),!r&&!![].concat(me()(o),me()(u),me()(l),me()(s)).length&&i.a.createElement(Vt.a,null,i.a.createElement(gi,null)))};function Xd(){var e=X()(["Close"]);return Xd=function(){return e},e}function qd(){var e=X()(["Contact Details"]);return qd=function(){return e},e}function Qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Zd=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=Et()(e,["contactID","userKeysList","hasPaidMail"]),c=Object(rc.a)(),u=Object(Ut.a)(!0),l=_()(u,2),s=l[0],f=l[1],d=Object(o.useState)({properties:[],errors:[]}),m=_()(d,2),p=m[0],b=m[1];return Object(o.useEffect)((function(){var e,r,a,o,i;try{f(Ne.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Ne.a.awrap(c(Object(dc.d)(t)));case 2:return e=u.sent,r=e.Contact,u.next=6,Ne.a.awrap(Ku(r,Object(Cu.f)(n)));case 6:a=u.sent,o=a.properties,i=a.errors,b({properties:o,errors:i});case 10:case"end":return u.stop()}})))}catch(u){b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qd(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p,{errors:[3]}))}}),[]),i.a.createElement(Nt.a,Ot()({small:!0,title:Object($.c)("Title").t(qd()),onSubmit:a.onClose,footer:i.a.createElement(wt.a,{type:"submit"},Object($.c)("Action").t(Xd()))},a),s?i.a.createElement(le.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(Yu,{errors:p.errors}),i.a.createElement(Jd,{properties:p.properties,hasPaidMail:r})))},_d=function(e){var t=e.error;return i.a.createElement("div",{className:"bg-global-attention p1"},i.a.createElement(St.a,{name:"attention",className:"mr1"}),i.a.createElement("span",{className:"mr1"},t))},$d=n("wIs1");function em(){var e=X()(["No contacts merged."]);return em=function(){return e},e}function tm(){var e=X()([""," out of "," contacts successfully merged."]);return tm=function(){return e},e}function nm(){var e=X()(["Merging contacts... This may take a few minutes. When the process is completed, you can close this modal."]);return nm=function(){return e},e}function rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rm(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cm=Ge,om=Be,im=Ue,um=z.b.SINGLE_SUCCESS,lm=Object($d.a)((function(e){var t=e.contactID,n=e.userKeysList,r=e.alreadyMerged,a=e.beMergedModel,c=void 0===a?{}:a,u=e.beDeletedModel,l=void 0===u?{}:u,s=e.totalBeMerged,f=void 0===s?0:s,d=e.onFinish,m=e.history,p=e.location,b=Object(rc.a)(),v=Object(o.useMemo)((function(){return Object(Cu.f)(n)}),[]),h=v.privateKeys,g=v.publicKeys,y=Object(Ut.a)(!0),O=_()(y,2),j=O[0],E=O[1],x=Object(o.useState)({mergedAndEncrypted:[],failedOnMergeAndEncrypt:[],submitted:[],failedOnSubmit:[]}),w=_()(x,2),C=w[0],k=w[1];Object(o.useEffect)((function(){var e,n,a,o,i,u,s=new AbortController,f=function(e){return b(am({},e,{signal:s.signal}))},v=function(e,t){var n,r,a,c;return Ne.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.signal.aborted){o.next=3;break}return o.abrupt("return",[]);case 3:return o.next=5,Ne.a.awrap(f(Object(dc.d)(e)));case 5:return n=o.sent,r=n.Contact,o.next=9,Ne.a.awrap(Ku(r,{privateKeys:h,publicKeys:g}));case 9:if(a=o.sent,c=a.properties,!a.errors.length){o.next=14;break}throw new Error("Error decrypting contact ".concat(e));case 14:return o.abrupt("return",c);case 15:case"end":return o.stop()}}))},y=function(){var e,t,n,r,a,c,o,i,u,l,s,f,d,m=arguments;return Ne.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:e=m.length>0&&void 0!==m[0]?m[0]:[],t=m.length>1?m[1]:void 0,n=t.signal,r=[],a=!0,c=!1,o=void 0,p.prev=6,i=e[Symbol.iterator]();case 8:if(a=(u=i.next()).done){p.next=19;break}return l=u.value,p.next=12,Ne.a.awrap(Promise.all([v(l,{signal:n}),Object(mc.b)(100)]));case 12:s=p.sent,f=_()(s,1),d=f[0],r.push(d);case 16:a=!0,p.next=8;break;case 19:p.next=25;break;case 21:p.prev=21,p.t0=p.catch(6),c=!0,o=p.t0;case 25:p.prev=25,p.prev=26,a||null==i.return||i.return();case 28:if(p.prev=28,!c){p.next=31;break}throw o;case 31:return p.finish(28);case 32:return p.finish(25);case 33:return p.abrupt("return",r);case 34:case"end":return p.stop()}}),null,null,[[6,21,25,33],[26,,28,32]])},O=function(e){var t,n,a,o,i,u;return Ne.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(t=e.signal).aborted){l.next=3;break}return l.abrupt("return",{});case 3:return n=Object.values(c),a=_()(n,1),o=a[0],i=[],l.prev=5,l.next=8,Ne.a.awrap(xc(r,{privateKey:h[0],publicKey:g[0]}));case 8:u=l.sent,i.push({contact:u}),!t.aborted&&k((function(e){return am({},e,{mergedAndEncrypted:[].concat(me()(e.mergedAndEncrypted),me()(o))})})),l.next=16;break;case 13:l.prev=13,l.t0=l.catch(5),!t.aborted&&k((function(e){return am({},e,{failedOnMergeAndEncrypt:[].concat(me()(e.failedOnMergeAndEncrypt),me()(o))})}));case 16:return l.abrupt("return",i);case 17:case"end":return l.stop()}}),null,null,[[5,13]])},j=function(e){var t,n,r,a,o,i;return Ne.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:t=e.signal,n=[],r=function(){var e,r,c;return Ne.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=o[a],!t.aborted){i.next=3;break}return i.abrupt("return",{v:{}});case 3:return i.prev=3,i.next=6,Ne.a.awrap(y(e,{signal:t}));case 6:return r=i.sent,i.next=9,Ne.a.awrap(xc(it(r),{privateKey:h[0],publicKey:g[0]}));case 9:c=i.sent,n.push({contact:c}),!t.aborted&&k((function(t){return am({},t,{mergedAndEncrypted:[].concat(me()(t.mergedAndEncrypted),me()(e))})})),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(3),!t.aborted&&k((function(t){return am({},t,{failedOnMergeAndEncrypt:[].concat(me()(t.failedOnMergeAndEncrypt),me()(e))})}));case 17:case"end":return i.stop()}}),null,null,[[3,14]])},a=0,o=Object.values(c);case 4:if(!(a<o.length)){u.next=13;break}return u.next=7,Ne.a.awrap(r());case 7:if("object"!=typeof(i=u.sent)){u.next=10;break}return u.abrupt("return",i.v);case 10:a++,u.next=4;break;case 13:return u.abrupt("return",n);case 14:case"end":return u.stop()}}))},x=function(e,n){var r,a,o,i,u,l,s,d,b,v,h,g;return Ne.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(r=e.contacts,a=void 0===r?[]:r,o=e.labels,!(i=n.signal).aborted&&a.length){y.next=4;break}return y.abrupt("return");case 4:return u=[],y.next=7,Ne.a.awrap(f(Object(dc.a)({Contacts:a.map((function(e){return e.contact})),Overwrite:cm,Labels:o})));case 7:if(y.t0=function(e){return e.Response},l=y.sent.Responses.map(y.t0),!i.aborted){y.next=11;break}return y.abrupt("return");case 11:for(s=!0,d=!1,b=void 0,y.prev=14,v=function(){var e=g.value,n=e.Code,r=e.Contact.ID,a=c[r],o=a.slice(1);n===um?(!i.aborted&&k((function(e){return am({},e,{submitted:[].concat(me()(e.submitted),me()(a))})})),u.push.apply(u,me()(o)),!i.aborted&&o.includes(t)&&m.replace(am({},p,{state:{ignoreClose:!0},pathname:"/contacts/".concat(r)}))):!i.aborted&&k((function(e){return am({},e,{failedOnSubmit:[].concat(me()(e.failedOnSubmit),me()(a))})}))},h=l[Symbol.iterator]();!(s=(g=h.next()).done);s=!0)v();y.next=23;break;case 19:y.prev=19,y.t1=y.catch(14),d=!0,b=y.t1;case 23:y.prev=23,y.prev=24,s||null==h.return||h.return();case 26:if(y.prev=26,!d){y.next=29;break}throw b;case 29:return y.finish(26);case 30:return y.finish(23);case 31:if(y.t2=!i.aborted&&!!u.length,!y.t2){y.next=35;break}return y.next=35,Ne.a.awrap(f(Object(dc.c)(u)));case 35:case"end":return y.stop()}}),null,null,[[14,19,23,31],[24,,26,30]])},w=function(e,t){var n,r,a,c,o,i,u;return Ne.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=e.contacts,r=void 0===n?[]:n,a=e.labels,!(c=t.signal).aborted){l.next=4;break}return l.abrupt("return");case 4:o=Object(ke.a)(r,100),i=o.length,u=0;case 7:if(!(u<i)){l.next=13;break}return l.next=10,Ne.a.awrap(Promise.all([x({contacts:o[u],labels:a},{signal:c}),Object(mc.b)(100)]));case 10:u++,l.next=7;break;case 13:case"end":return l.stop()}}))},C=function(e){var n,r;return Ne.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.signal,r=Object.keys(l),n.aborted||!r.length){a.next=5;break}return a.next=5,Ne.a.awrap(f(Object(dc.c)(r)));case 5:!n.aborted&&r.includes(t)&&m.replace(am({},p,{state:{ignoreClose:!0},pathname:"/contacts/".concat(l[t])}));case 6:case"end":return a.stop()}}))};return E((e=s,Ne.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.signal,r){t.next=7;break}return t.next=4,Ne.a.awrap(j({signal:n}));case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,Ne.a.awrap(O({signal:n}));case 9:t.t0=t.sent;case 10:return a=t.t0,o=Pc(a),i=o.withCategories,u=o.withoutCategories,t.next=14,Ne.a.awrap(w({contacts:i,labels:om},{signal:n}));case 14:return t.next=16,Ne.a.awrap(w({contacts:u,labels:im},{signal:n}));case 16:return t.next=18,Ne.a.awrap(C({signal:n}));case 18:if(t.t1=!n.aborted,!t.t1){t.next=22;break}return t.next=22,Ne.a.awrap(d());case 22:case"end":return t.stop()}})))),function(){s.abort()}}),[]);var P=Dc([{allocated:.9,successful:C.mergedAndEncrypted.length,failed:C.failedOnMergeAndEncrypt.length,total:f},{allocated:.1,successful:C.submitted.length,failed:C.failedOnSubmit.length,total:f-C.failedOnMergeAndEncrypt.length}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(kt.a,null,Object($.c)("Description").t(nm())),i.a.createElement(ic,{id:"progress-merge-contacts",alt:"contact-loader",value:P,failed:!C.submitted.length,displaySuccess:Object($.c)("Progress bar description").t(tm(),C.submitted.length,f),displayFailed:Object($.c)("Progress bar description").t(em()),endPostponed:j}))}));function sm(){var e=X()(["Merging contacts"]);return sm=function(){return e},e}function fm(){var e=X()(["Close"]);return fm=function(){return e},e}function dm(){var e=X()(["Cancel"]);return dm=function(){return e},e}function mm(){var e=X()(["Contact Details"]);return mm=function(){return e},e}function pm(){var e=X()(["Contacts could not be merged"]);return pm=function(){return e},e}function bm(){var e=X()(["Some of the contacts to be merged display errors. Please review them individually"]);return bm=function(){return e},e}function vm(){var e=X()(["Merge"]);return vm=function(){return e},e}function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hm(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ym=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=e.beMergedModel,c=e.beDeletedModel,u=e.updateModel,l=Et()(e,["contactID","userKeysList","hasPaidMail","beMergedModel","beDeletedModel","updateModel"]),s=Object(G.a)().call,f=Object(rc.a)(),d=Object(o.useMemo)((function(){return Object(Cu.f)(n)}),[]),m=d.privateKeys,p=d.publicKeys,b=Object(Ut.a)(!0),v=_()(b,2),h=v[0],g=v[1],y=Object(o.useState)(!1),O=_()(y,2),j=O[0],E=O[1],x=Object(o.useState)(!1),w=_()(x,2),C=w[0],k=w[1],P=Object(o.useState)({}),N=_()(P,2),D=N[0],I=N[1],S=Object.values(a),A=_()(S,1)[0],T=Object.keys(c),M=function(){var e=A.slice(1).concat(T);u((function(t){return gm({},t,{orderedContacts:t.orderedContacts.map((function(t){return t.filter((function(t){var n=t.ID;return!e.includes(n)}))})).filter((function(e){return e.length>1}))})}))};Object(o.useEffect)((function(){var e,t,n,r,a,c,o,i,u,l,s;g(Ne.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:d.prev=0,e=[],t=!0,n=!1,r=void 0,d.prev=5,a=A[Symbol.iterator]();case 7:if(t=(c=a.next()).done){d.next=25;break}return o=c.value,d.next=11,Ne.a.awrap(f(Object(dc.d)(o)));case 11:return i=d.sent,u=i.Contact,d.next=15,Ne.a.awrap(Ku(u,{privateKeys:m,publicKeys:p}));case 15:if(l=d.sent,s=l.properties,!l.errors.length){d.next=21;break}throw I(gm({},D,{errorOnLoad:!0})),new Error("Error decrypting contact");case 21:e.push(s);case 22:t=!0,d.next=7;break;case 25:d.next=31;break;case 27:d.prev=27,d.t0=d.catch(5),n=!0,r=d.t0;case 31:d.prev=31,d.prev=32,t||null==a.return||a.return();case 34:if(d.prev=34,!n){d.next=37;break}throw r;case 37:return d.finish(34);case 38:return d.finish(31);case 39:I(gm({},D,{mergedContact:it(e)})),d.next=45;break;case 42:d.prev=42,d.t1=d.catch(0),I(gm({},D,{errorOnMerge:!0}));case 45:case"end":return d.stop()}}),null,null,[[0,42],[5,27,31,39],[32,,34,38]]))}),[]);var L=function(){if(!j){var e=i.a.createElement(wt.a,{type:"submit",disabled:!D.mergedContact},Object($.c)("Action").t(vm()));return gm({content:function(){if(h)return i.a.createElement(le.a,null);if(D.errorOnLoad||D.errorOnMerge){var e=D.errorOnLoad?Object($.c)("Warning").t(bm()):Object($.c)("Warning").t(pm());return i.a.createElement(_d,{error:e})}return i.a.createElement(Jd,{properties:D.mergedContact,hasPaidMail:r})}(),title:Object($.c)("Title").t(mm()),submit:e,onSubmit:function(){return E(!0)}},l)}var o=!C&&i.a.createElement(Pt.a,null,Object($.c)("Action").t(dm())),u=i.a.createElement(wt.a,{type:"submit",loading:!C},Object($.c)("Action").t(fm()));return gm({title:Object($.c)("Title").t(sm()),hasClose:!1,content:i.a.createElement(lm,{contactID:t,userKeysList:n,alreadyMerged:D.mergedContact,beMergedModel:a,beDeletedModel:c,totalBeMerged:A.length,onFinish:function(){return Ne.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return M(),e.next=3,Ne.a.awrap(s());case 3:k(!0);case 4:case"end":return e.stop()}}))}}),close:o,submit:u,onSubmit:l.onClose},l)}(),K=L.content,R=Et()(L,["content"]);return i.a.createElement(Nt.a,R,K)},Om=n("YjUZ"),jm=n("adk/"),Em=n("8QwH"),xm=function(e){return e?"opacity-50":""},wm=function(e){var t=e.name,n=e.contactID,r=e.highlightedID,a=e.checked,c=e.deleted,o=e.greyedOut,u=e.onToggle;return i.a.createElement("div",{className:"flex flex-nowrap flex-items-center"},i.a.createElement(Zt.a,{checked:a,onChange:function(){return u(n)},className:"flex flex-items-center flex-item-noshrink mr0-5 ".concat(c?"nonvisible":"")}),i.a.createElement("span",{className:Object(Do.a)(["mw100","inbl","ellipsis",xm(o),n===r&&"bold"])},t))},Cm=function(e){var t=e.contactID,n=e.emails,r=void 0===n?[]:n,a=e.highlightedID,c=e.greyedOut;return i.a.createElement("div",{className:Object(Do.a)(["flex","flex-items-center","mw100",xm(c),t===a&&"bold"])},i.a.createElement("span",{className:"inbl ellipsis"},r.map((function(e){return"<".concat(e,">")})).join(", ")))};function km(){var e=X()(["Mark for deletion"]);return km=function(){return e},e}function Pm(){var e=X()(["Unmark for deletion"]);return Pm=function(){return e},e}function Nm(){var e=X()(["Contact details"]);return Nm=function(){return e},e}var Dm=function(e){var t=e.contacts,n=e.highlightedID,r=e.isChecked,a=e.beDeleted,c=e.onClickCheckbox,o=e.onClickDetails,u=e.onToggleDelete,l=Et()(e,["contacts","highlightedID","isChecked","beDeleted","onClickCheckbox","onClickDetails","onToggleDelete"]);return i.a.createElement(jm.a,Ot()({colSpan:4},l),t.map((function(e,t){var l=e.ID,s=e.Name,f=e.emails,d=a[l],m=[!d&&{text:Object($.c)("Action").t(Nm()),onClick:function(){o(l)}},{text:d?Object($.c)("Action").t(Pm()):Object($.c)("Action").t(km()),onClick:function(){u(l)}}].filter(Boolean),p=[i.a.createElement(wm,{key:"name",name:s,contactID:l,highlightedID:n,checked:r[l],deleted:d,greyedOut:d,onToggle:c}),i.a.createElement(Cm,{key:"email",contactID:l,highlightedID:n,emails:f,greyedOut:d}),i.a.createElement(yo.a,{key:"options",className:"pm-button--small",list:m})];return d?i.a.createElement(Bi.a,{key:"".concat(l),index:t,cells:[null].concat(p)}):i.a.createElement(Em.a,{key:"".concat(l),index:t,cells:p})})))};function Im(){var e=X()(["Preview contact"]);return Im=function(){return e},e}function Sm(){var e=X()(["ACTIONS"]);return Sm=function(){return e},e}function Am(){var e=X()(["ADDRESS"]);return Am=function(){return e},e}function Tm(){var e=X()(["NAME"]);return Tm=function(){return e},e}var Mm=function(){return i.a.createElement("thead",{className:"orderableTableHeader"},i.a.createElement("tr",null,i.a.createElement(zt.a,{type:"header"}),i.a.createElement(zt.a,{type:"header"},Object($.c)("TableHeader").t(Tm())),i.a.createElement(zt.a,{type:"header"},Object($.c)("TableHeader").t(Am())),i.a.createElement(zt.a,{type:"header"},Object($.c)("TableHeader").t(Sm()))))},Lm=function(e){var t=e.contacts,n=void 0===t?[]:t,r=e.isChecked,a=void 0===r?{}:r,c=e.beDeleted,o=void 0===c?{}:c,u=e.onClickCheckbox,l=e.onClickDetails,s=e.onToggleDelete,f=e.onClickPreview,d=e.onSortEnd;return i.a.createElement(i.a.Fragment,null,n.map((function(e,t){var n=e.map((function(e){var t=e.ID;return a[t]&&!o[t]&&t})).filter(Boolean),r=e.map((function(e){var t=e.ID;return o[t]&&t})).filter(Boolean),c=n.length>1?n:[];return i.a.createElement(Vt.a,{key:"".concat(e&&e[0].Name),className:"mb2 flex flex-column flex-items-center"},i.a.createElement(Om.a,{onSortEnd:d(t),className:"mb1"},i.a.createElement(Mm,null),i.a.createElement(Dm,{contacts:e,highlightedID:c[0],isChecked:a,beDeleted:o,onClickCheckbox:u,onClickDetails:l,onToggleDelete:s})),i.a.createElement(At.a,{className:"aligcenter",disabled:!c.length,type:"button",onClick:function(){return f(c[0],r)}},Object($.c)("Action").t(Im())))})))};function Km(){var e=X()(["You can mark for deletion the contacts that you do not want neither to merge nor to keep.\n                    Deletion will only take place after the merge button is clicked"]);return Km=function(){return e},e}function Rm(){var e=X()(["Use Drag and Drop to rank merging priority between contacts. Uncheck the contacts you do not want to merge."]);return Rm=function(){return e},e}function Fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fm(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Um=function(e){var t=e.contactID,n=e.userKeysList,r=e.hasPaidMail,a=e.model,c=e.updateModel,o=e.beMergedModel,u=e.beDeletedModel,l=Object(te.a)().createModal,s=a.orderedContacts,f=a.isChecked,d=a.beDeleted;return i.a.createElement(i.a.Fragment,null,i.a.createElement(kt.a,null,Object($.c)("Description").t(Rm())),i.a.createElement(kt.a,{type:"warning"},Object($.c)("Description").t(Km())),i.a.createElement(Lm,{onSortEnd:function(e){return function(t){var n=t.oldIndex,r=t.newIndex;c((function(t){return Gm({},t,{orderedContacts:Hd(s,e,{oldIndex:n,newIndex:r})})}))}},contacts:s,isChecked:f,beDeleted:d,onClickCheckbox:function(e){c((function(t){return Gm({},t,{isChecked:Gm({},f,Q()({},e,!f[e]))})}))},onClickDetails:function(e){l(i.a.createElement(Zd,{contactID:e,userKeysList:n,hasPaidMail:r}))},onToggleDelete:function(e){c((function(t){return Gm({},t,{beDeleted:Gm({},d,Q()({},e,!d[e]))})}))},onClickPreview:function(e,a){var s=Q()({},e,o[e]),f=a.reduce((function(e,t){return e[t]=u[t],e}),{});l(i.a.createElement(ym,{contactID:t,userKeysList:n,hasPaidMail:r,beMergedModel:s,beDeletedModel:f,updateModel:c}))}}))};function Bm(){var e=X()(["Merging contacts"]);return Bm=function(){return e},e}function Vm(){var e=X()(["Close"]);return Vm=function(){return e},e}function zm(){var e=X()(["Cancel"]);return zm=function(){return e},e}function Wm(){var e=X()(["Merge contacts"]);return Wm=function(){return e},e}function Ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ym(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ym(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jm(){var e=X()(["Merge"]);return Jm=function(){return e},e}var Xm=function(e){var t=e.contacts,n=e.contactID,r=e.userKeysList,a=e.hasPaidMail,c=Et()(e,["contacts","contactID","userKeysList","hasPaidMail"]),u=Object(G.a)().call,l=Object(o.useState)(!1),s=_()(l,2),f=s[0],d=s[1],m=Object(o.useState)(!1),p=_()(m,2),b=p[0],v=p[1],h=Object(o.useState)((function(){return{orderedContacts:t,isChecked:t.flat().reduce((function(e,t){return e[t.ID]=!0,e}),{}),beDeleted:t.flat().reduce((function(e,t){return e[t.ID]=!1,e}),{})}})),g=_()(h,2),y=g[0],O=g[1],j=y.orderedContacts,E=y.isChecked,x=y.beDeleted;Object(o.useEffect)((function(){j.flat().length||c.onClose()}),[j]);var w=Object(o.useMemo)((function(){return j.reduce((function(e,t){var n=t.map((function(e){return e.ID})),r=n.map((function(e){return E[e]&&!x[e]&&e})).filter(Boolean),a=n.map((function(e){return x[e]&&e})).filter(Boolean),c=r.length>1;c&&(e.beMergedModel[r[0]]=r,e.totalBeMerged+=r.length);var o=!0,i=!1,u=void 0;try{for(var l,s=a[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=l.value;e.beDeletedModel[f]=c?r[0]:""}}catch(d){i=!0,u=d}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}return e}),{beMergedModel:{},beDeletedModel:{},totalBeMerged:0})}),[j,E,x]),C=w.beMergedModel,k=w.beDeletedModel,P=w.totalBeMerged,N=function(){if(!f){var e=i.a.createElement(wt.a,{type:"submit",disabled:!P},Object($.c)("Action").t(Jm()));return Hm({title:Object($.c)("Title").t(Wm()),content:i.a.createElement(Um,{contactID:n,userKeysList:r,hasPaidMail:!!a,model:y,updateModel:O,beMergedModel:C,beDeletedModel:k}),submit:e,onSubmit:function(){return d(!0)}},c)}var t=!b&&i.a.createElement(Pt.a,null,Object($.c)("Action").t(zm())),o=i.a.createElement(wt.a,{type:"submit",loading:!b},Object($.c)("Action").t(Vm()));return Hm({title:Object($.c)("Title").t(Bm()),hasClose:!1,content:i.a.createElement(lm,{contactID:n,userKeysList:r,beMergedModel:C,beDeletedModel:k,totalBeMerged:P,onFinish:function(){return Ne.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.a.awrap(u());case 2:v(!0);case 3:case"end":return e.stop()}}))}}),close:t,submit:o,onSubmit:c.onClose},c)}(),D=N.content,I=Et()(N,["content"]);return i.a.createElement(Nt.a,I,D)},qm=n("5Bhs"),Qm=n("DInE");function Zm(){var e=X()(["This action will permanently delete the selected contact. Are you sure you want to delete this contact?"]);return Zm=function(){return e},e}function _m(){var e=X()(["Delete"]);return _m=function(){return e},e}function $m(){var e=X()(["Contact deleted"]);return $m=function(){return e},e}function ep(){var e=X()(["Some contacts could not be deleted"]);return ep=function(){return e},e}function tp(){var e=X()(["Contacts deleted"]);return tp=function(){return e},e}function np(){var e=X()(["Delete"]);return np=function(){return e},e}var rp=function(e){var t=e.contactIDs,n=void 0===t?[]:t,r=e.deleteAll,a=e.onDelete,c=Et()(e,["contactIDs","deleteAll","onDelete"]),o=Object(rc.a)(),u=Object(xt.a)().createNotification,l=Object(G.a)().call,s=Object(Ut.a)(),f=_()(s,2),d=f[0],m=f[1],p=i.a.createElement(qm.a,{type:"submit",loading:d},Object($.c)("Action").t(np()));return i.a.createElement(Nt.a,Ot()({title:Object($.c)("Title").t(_m()),onSubmit:function(){return m(Ne.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return t.next=3,Ne.a.awrap(o(Object(dc.b)()));case 3:return a&&a(),t.next=6,Ne.a.awrap(l());case 6:return c.onClose(),t.abrupt("return",u({text:Object($.c)("Success").t(tp())}));case 8:return t.t0=Qm.a,t.next=11,Ne.a.awrap(o(Object(dc.c)(n)));case 11:return t.t1=t.sent,e=(0,t.t0)(t.t1),a&&a(),t.next=16,Ne.a.awrap(l());case 16:if(c.onClose(),e){t.next=19;break}return t.abrupt("return",u({text:Object($.c)("Error").t(ep()),type:"warning"}));case 19:u({text:Object($.c)("Success").ngettext(Object($.msgid)($m()),"Contacts deleted",n.length)});case 20:case"end":return t.stop()}})));var e},submit:p,loading:d},c),i.a.createElement(kt.a,{type:"error"},Object($.c)("Warning").ngettext(Object($.msgid)(Zm()),"This action will permanently delete selected contacts. Are you sure you want to delete these contacts?",n.length)))},ap=n("kJz7"),cp=n("6UvI");function op(){var e=X()(["Upgrade"]);return op=function(){return e},e}var ip=function(e){var t=e.children,n=e.title;return Object(o.useEffect)((function(){document.title="".concat(n," - ProtonContacts")}),[n]),i.a.createElement("div",{className:"flex flex-nowrap no-scroll"},i.a.createElement(ap.a,{items:[i.a.createElement(cp.a,{key:"storage",upgradeButton:i.a.createElement(Ru.a,{url:"/settings/subscription",target:"_self",className:"pm-button pm-button--primary"},Object($.c)("Action").t(op()))})]}),i.a.createElement("div",{className:"content flex-item-fluid h100v reset4print"},t))};function up(){var e=X()(["Contacts"]);return up=function(){return e},e}function lp(){var e=X()(["Search"]);return lp=function(){return e},e}function sp(){var e=X()(["Contacts"]);return sp=function(){return e},e}function fp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fp(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mp=function(e){var t=e.location,n=e.history,r=Object(ee.a)(),a=r.state,c=r.toggle,u=r.set,l=Object(te.a)().createModal,s=Object(o.useState)(""),f=_()(s,2),d=f[0],m=f[1],p=Object(se.g)(d),b=Object(ne.a)(),v=_()(b,2),h=v[0],g=v[1],y=Object(re.a)(),O=_()(y,2),j=O[0],E=O[1],x=Object(ae.a)(),w=_()(x,2),C=w[0],k=w[1],P=Object(o.useState)(Object.create(null)),D=_()(P,2),I=D[0],S=D[1],A=Object(ce.b)(),T=_()(A,1)[0],M=Object(oe.c)(T),L=_()(M,2),K=L[0],R=L[1],F=Object(ie.a)(),G=F.isDesktop,U=F.isNarrow,B=Object(o.useMemo)((function(){var e=t.pathname.split("/contacts/");return _()(e,2)[1]}),[t]),V=Object(o.useMemo)((function(){return new URLSearchParams(t.search).get("contactGroupID")}),[t.search]),z=Object(o.useMemo)((function(){return C&&V?{contactGroupName:C.find((function(e){return e.ID===V})).Name,totalContactsInGroup:j.filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(V)})).length}:Object.create(null)}),[j,V]),W=z.contactGroupName,Y=z.totalContactsInGroup,H=Object(o.useMemo)((function(){return Object.keys(I).some((function(e){return I[e]}))}),[I]);Object(o.useEffect)((function(){S(Object.create(null)),u(!1),m("")}),[V]);var J=Object(o.useMemo)((function(){return Array.isArray(h)?h.reduce((function(e,t){var n=t.ContactID;return e[n]||(e[n]=[]),e[n].push(t),e}),Object.create(null)):{}}),[h]),X=Object(o.useMemo)((function(){return Object(fe.b)(C)}),[C]),q=Object(o.useMemo)((function(){return Array.isArray(j)?j.filter((function(e){var t=e.Name,n=e.ID,r=e.LabelIDs,a=J[n]?J[n].map((function(e){return e.Email})).join(" "):"",c=!p.length||Object(se.g)("".concat(t," ").concat(a)).includes(p),o=!V||r.includes(V);return c&&o})):[]}),[j,V,p,J]),Q=Object(o.useMemo)((function(){return q.map((function(e){var t=e.ID;return dp({},e,{emails:(J[t]||[]).map((function(e){return e.Email})),isChecked:!!I[t]})}))}),[q,I,J]),Z=Object(o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object.values(e.reduce((function(e,t,n){var r=t.Name,a=Object(se.g)(r);return e[a]?e[a].push(n):e[a]=[n],e}),Object.create(null))).map(ke.e).filter((function(e){return e.length>1})),n=Object.values(e.reduce((function(e,t,n){return t.emails.map(se.g).forEach((function(t){e[t]?e[t].push(n):e[t]=[n]})),e}),Object.create(null))).map(ke.e).filter((function(e){return e.length>1})),r=ct([].concat(me()(t),me()(n)));return r.map((function(t){return t.map((function(t){return e[t]}))}))}(Q)}),[Q]),de=Z.length>0,pe=T.hasPaidMail,be=Object(o.useMemo)((function(){return Q.filter((function(e){return e.isChecked})).map((function(e){return e.ID}))}),[Q,B]),ve=Object(o.useMemo)((function(){var e=q.length;return!!e&&be.length===e}),[q,be]),he=Object(o.useMemo)((function(){return!be.length&&B?[B]:be}),[be,B]),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.reduce((function(e,n){return e[n]=t,e}),Object.create(null));S(dp({},I,{},n))},ye=function(){m("")},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ge(q.map((function(e){return e.ID})),e)},je=function(){Oe(!1)},Ee=g||E||k||R,xe=j?j.length:0,we=U&&B?"--noHeader":"",Ce=B&&!!xe&&!H&&i.a.createElement(N.a,{key:B,component:i.a.createElement(ue.a,{className:"pt2 view-column-detail flex-item-fluid"})},i.a.createElement(mf,{contactID:B,contactEmails:J[B],contactGroupsMap:X,userKeysList:K})),Pe=(G||!Ce)&&i.a.createElement(wu,{emptyAddressBook:!xe,contactID:B,contactGroupID:V,totalContacts:xe,totalContactsInGroup:Y,contacts:Q,contactGroupsMap:X,user:T,userKeysList:K,loadingUserKeys:R,onCheck:ge,onClearSearch:ye,onClearSelection:je,isDesktop:G}),Ne=G&&!Ce&&!!Q.length&&i.a.createElement(gd,{history:n,user:T,userKeysList:K,loadingUserKeys:R,totalContacts:xe,totalContactsInGroup:Y,selectedContacts:be.length,contactGroupID:V,contactGroupName:W,onUncheck:je,canMerge:de,onMerge:function(){l(i.a.createElement(Xm,{contacts:Z,contactID:B,userKeysList:K,hasPaidMail:!!pe}))},onImport:function(){return l(i.a.createElement(bo,{userKeysList:K}))},onExport:function(e){return l(i.a.createElement(Af,{contactGroupID:e,userKeysList:K}))},onGroups:function(){return n.replace("/contacts/settings/groups")}}),De=""===d?Object($.c)("Title").t(sp()):Object($.c)("Title").t(lp());return i.a.createElement(ip,{title:W||Object($.c)("Title").t(up())},(!U||!B)&&i.a.createElement(Md,{title:De,expanded:a,onToggleExpand:c,search:d,onSearch:m,onClearSearch:ye,isNarrow:U,history:n}),i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(Yd,{url:"/contacts",history:n,user:T,expanded:a,onToggleExpand:c,onClearSearch:ye,totalContacts:xe,contactGroups:C,userKeysList:K}),i.a.createElement("div",{className:"main flex-item-fluid"},i.a.createElement(jd,{user:T,contactEmailsMap:J,activeIDs:he,checked:ve,onCheck:Oe,onDelete:function(){var e=he.length===j.length;l(i.a.createElement(rp,{contactIDs:he,deleteAll:e,onDelete:function(){if(e)return n.replace(dp({},t,{state:{ignoreClose:!0},pathname:"/contacts"})),S(Object.create(null));he.length===q.length&&ye(),B&&he.includes(B)&&n.replace(dp({},t,{state:{ignoreClose:!0},pathname:"/contacts"})),ge(be,!1)}}))},simplified:!!B&&!G}),i.a.createElement("div",{className:"main-area--withToolbar".concat(we," no-scroll flex flex-nowrap")},Ee?i.a.createElement(le.a,null):i.a.createElement(i.a.Fragment,null,Pe,Ce,Ne)))))},pp=n("P2jq"),bp=n("2cEl"),vp=function(e){var t=e.title,n=e.children;return i.a.createElement("main",{className:"main-area-content relative flex-item-fluid"},i.a.createElement(bp.a,null,t),i.a.createElement("div",{className:"container-section-sticky"},n))},hp=n("9E8O"),gp=n("hsnk");function yp(){var e=X()(["Automatically save contacts"]);return yp=function(){return e},e}function Op(){var e=X()(["Contacts"]);return Op=function(){return e},e}var jp=function(){var e=Object(Ju.a)(),t=_()(e,1)[0],n=(t=void 0===t?{}:t).AutoSaveContacts;return i.a.createElement(i.a.Fragment,null,i.a.createElement(hp.a,null,Object($.c)("Title").t(Op())),i.a.createElement(Jc.a,null,i.a.createElement(_t.a,{htmlFor:"saveContactToggle"},i.a.createElement("span",{className:"mr0-5"},Object($.c)("Label").t(yp())),i.a.createElement(kl.a,{url:"https://protonmail.com/support/knowledge-base/autosave-contact-list/"})),i.a.createElement(Fo.a,null,i.a.createElement(gp.a,{autoSaveContacts:!!n,id:"saveContactToggle"}))))};function Ep(){var e=X()(["General"]);return Ep=function(){return e},e}var xp=function(){return i.a.createElement(vp,{title:Object($.c)("Title").t(Ep())},i.a.createElement(jp,null))},wp=n("0HG9");function Cp(){var e=X()([""," email address"]);return Cp=function(){return e},e}function kp(){var e=X()(["Contacts in the group aren't deleted if the contact group is deleted."]);return kp=function(){return e},e}function Pp(){var e=X()(["Are you sure you want to delete this contact group?"]);return Pp=function(){return e},e}function Np(){var e=X()(["Delete contact group"]);return Np=function(){return e},e}function Dp(){var e=X()(["Delete"]);return Dp=function(){return e},e}function Ip(){var e=X()(["Edit"]);return Ip=function(){return e},e}function Sp(){var e=X()(["Actions"]);return Sp=function(){return e},e}function Ap(){var e=X()(["Group size"]);return Ap=function(){return e},e}function Tp(){var e=X()(["Name"]);return Tp=function(){return e},e}function Mp(){var e=X()(["Contact group removed"]);return Mp=function(){return e},e}var Lp=function(){var e=Object(ae.a)(),t=_()(e,1)[0],n=Object(ne.a)(),r=_()(n,1)[0],a=Object(xt.a)().createNotification,c=Object(te.a)().createModal,u=Object(rc.a)(),l=Object(G.a)().call,s=Object(o.useState)(t),f=_()(s,2),d=f[0],m=void 0===d?[]:d,p=f[1];Object(o.useEffect)((function(){p(t)}),[t]);var b=function(e){return function(){return Ne.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne.a.awrap(u(Object(Ri.b)(e)));case 2:return t.next=4,Ne.a.awrap(l());case 4:a({text:Object($.c)("Contact group notification").t(Mp())});case 5:case"end":return t.stop()}}))}},v=Object(o.useCallback)((function(e){var n,r,a;return Ne.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.oldIndex,r=e.newIndex,c.prev=1,a=Object(ke.c)(m,n,r),p(a),c.next=6,Ne.a.awrap(u(Object(Ri.d)({LabelIDs:a.map((function(e){return e.ID}))})));case 6:l(),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),p(t);case 12:case"end":return c.stop()}}),null,null,[[1,9]])}),[m,t]),h=[Object($.c)("Table header").t(Tp()),Object($.c)("Table header").t(Ap()),Object($.c)("Table header").t(Sp())];return i.a.createElement(Om.a,{className:"noborder",onSortEnd:v},i.a.createElement(wp.a,{cells:h}),i.a.createElement(jm.a,null,m.map((function(e,t){var n=e.ID,a=e.Name,o=e.Color,u=(r||[]).filter((function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(n)})).length,l=[{text:Object($.c)("Action").t(Ip()),onClick:function(){c(i.a.createElement(uu,{contactGroupID:n}))}},{text:Object($.c)("Action").t(Dp()),onClick:function(){c(i.a.createElement(Ct.a,{onConfirm:b(n),title:Object($.c)("Title").t(Np())},i.a.createElement(kt.a,{type:"error"},i.a.createElement("p",null,Object($.c)("Info").t(Pp())),i.a.createElement("p",null,Object($.c)("Info").t(kp())))))}}],s=[i.a.createElement("div",{key:n,className:"flex"},i.a.createElement("span",{className:"ellipsis"},i.a.createElement(su,{name:a,color:o})," ",a)),Object($.c)("Info").ngettext(Object($.msgid)(Cp(),u),"".concat(u," email addresses"),u),i.a.createElement(yo.a,{key:n,className:"pm-button--small",list:l})];return i.a.createElement(Em.a,{key:n,index:t,cells:s})}))))};function Kp(){var e=X()(["Add group"]);return Kp=function(){return e},e}function Rp(){var e=X()(["A group can contain multiple email addresses from the same contact. Please note that a sending limit may apply and prevent you from sending emails to excessively large groups."]);return Rp=function(){return e},e}function Fp(){var e=X()(["Contact groups"]);return Fp=function(){return e},e}var Gp=function(){var e=Object(te.a)().createModal;return i.a.createElement(i.a.Fragment,null,i.a.createElement(hp.a,null,Object($.c)("Title").t(Fp())),i.a.createElement(kt.a,null,Object($.c)("Info").t(Rp())),i.a.createElement("div",{className:"mb1"},i.a.createElement(wt.a,{onClick:function(){return e(i.a.createElement(uu,null))}},Object($.c)("Action").t(Kp()))),i.a.createElement(Lp,null))};function Up(){var e=X()(["Contact groups"]);return Up=function(){return e},e}var Bp=function(){return i.a.createElement(vp,{title:Object($.c)("Title").t(Up())},i.a.createElement(Gp,null))};function Vp(){var e=X()(["Settings"]);return Vp=function(){return e},e}function zp(){var e=X()(["Contact settings"]);return zp=function(){return e},e}function Wp(){var e=X()(["Contact groups"]);return Wp=function(){return e},e}function Yp(){var e=X()(["General"]);return Yp=function(){return e},e}var Hp=function(e){var t=e.location,n=Object(o.useRef)(),r=Object(ce.b)(),a=_()(r,1)[0].hasPaidMail,c=Object(ee.a)(),u=c.state,l=c.toggle,s=c.set,f=Object(ie.a)().isNarrow;Object(o.useEffect)((function(){s(!1),n.current.scrollTop=0}),[t.pathname]);var d=[{link:"/contacts/settings/general",icon:"settings-singular",text:Object($.c)("Link").t(Yp())},a&&{link:"/contacts/settings/groups",icon:"contacts-groups",text:Object($.c)("Link").t(Wp())}].filter(Boolean),m=[{to:"/inbox",icon:"protonmail",external:!0,current:!1},{to:"/contacts",icon:"protoncontacts",external:!1,current:!0},{to:"/calendar",icon:"protoncalendar",external:!0,current:!1}].filter(Boolean);return i.a.createElement(ip,{title:Object($.c)("Title").t(zp())},i.a.createElement(Md,{inSettings:!0,title:Object($.c)("Title").t(Vp()),expanded:u,onToggleExpand:l,isNarrow:f}),i.a.createElement("div",{className:"flex flex-nowrap"},i.a.createElement(Ld.a,{url:"/contacts",list:d,expanded:u,onToggleExpand:l,mobileLinks:m}),i.a.createElement("div",{className:"main flex-item-fluid main-area",ref:n},i.a.createElement("div",{className:"flex flex-reverse"},i.a.createElement(pp.a.Provider,{value:n},i.a.createElement(D.a,null,i.a.createElement(I.a,{path:"/contacts/settings/general",component:xp}),i.a.createElement(I.a,{path:"/contacts/settings/groups",component:Bp}),i.a.createElement(S.a,{to:"/contacts/settings/general"})))))))},Jp=[A.a,T.a,M.a,L.a,K.a,R.a,F.a],Xp=[T.a,A.a],qp=function(e){var t=e.onLogout;return i.a.createElement(P.a,{onLogout:t,locales:{},preloadModels:Xp,eventModels:Jp},i.a.createElement(H,null,i.a.createElement(N.a,null,i.a.createElement(D.a,null,i.a.createElement(I.a,{path:"/contacts/settings",render:function(e){var t=e.location;return i.a.createElement(Hp,{location:t})}}),i.a.createElement(I.a,{path:"/contacts",render:function(e){var t=e.location,n=e.history;return i.a.createElement(mp,{location:t,history:n})}}),i.a.createElement(S.a,{to:"/contacts"})))))},Qp=n("jKe7"),Zp=n("2INN"),_p=n("RRB+"),$p=n("plUg"),eb=n("xpwl"),tb=function(e){var t=e.onLogin;return i.a.createElement(_p.a,null,i.a.createElement($p.a,null),i.a.createElement(Qp.a,null,i.a.createElement(Zp.a,{render:function(){return i.a.createElement(eb.a,{onLogin:t})}})))};n("wdeV");Object(d.a)(r);var nb=function(){var e=Object(l.a)(),t=e.UID,n=e.login,r=e.logout;return t?i.a.createElement(qp,{onLogout:r}):i.a.createElement(tb,{onLogin:n})},rb=Object(u.hot)((function(){return i.a.createElement(s.a,{config:r},i.a.createElement(nb,null))}));c.a.render(i.a.createElement(rb,null),document.querySelector(".app-root"))},0:function(e,t,n){n("+wUL"),e.exports=n("1UW9")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"5FMj":function(e,t,n){var r={"./3-d-secure.svg":"0gKn","./american-express-safekey.svg":"Jui7","./cc-american-express.svg":"/qD2","./cc-dankort.svg":"0T0d","./cc-diners-club.svg":"vuvo","./cc-discover.svg":"AZZk","./cc-forbrugs.svg":"k2eZ","./cc-jcb.svg":"7Amw","./cc-maestro.svg":"lXKh","./cc-mastercard.svg":"ZUPP","./cc-paypal.svg":"egYP","./cc-unionpay.svg":"ma7A","./cc-visa.svg":"vO2o","./cc-visaelectron.svg":"RMFI","./discover-protectbuy.svg":"qsy5","./mastercard-securecode.svg":"6Bn0","./verified-by-visa.svg":"Q7qE"};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id="5FMj"},Cq9y:function(e,t,n){},YO3j:function(e,t,n){var r={"./af/index.js":["IqAn",11],"./ar-DZ/index.js":["JVC1",12],"./ar-SA/index.js":["xMju",13],"./be/index.js":["YEhR",3],"./bg/index.js":["isx8",4],"./bn/index.js":["+b7I",14],"./ca/index.js":["Vwa+",15],"./cs/index.js":["dvhP",16],"./cy/index.js":["HQUR",17],"./da/index.js":["7ur/",18],"./de/index.js":["bgw5",19],"./el/index.js":["dH0v",20],"./en-AU/index.js":["VHew",21],"./en-CA/index.js":["wXhn",22],"./en-GB/index.js":["nwJ3",23],"./en-US/index.js":["IogR",24],"./eo/index.js":["UB7v",25],"./es/index.js":["/S0t",26],"./et/index.js":["Br0m",27],"./fa-IR/index.js":["gEFy",28],"./fi/index.js":["ndVD",29],"./fr-CA/index.js":["KTij",30],"./fr/index.js":["LKA2",31],"./gl/index.js":["4bge",32],"./gu/index.js":["3t4y",33],"./he/index.js":["75M+",34],"./hi/index.js":["CUe2",35],"./hr/index.js":["L9Jq",36],"./hu/index.js":["Nm+E",37],"./hy/index.js":["netp",38],"./id/index.js":["A6C3",39],"./is/index.js":["N4bE",40],"./it/index.js":["hmb4",41],"./ja/index.js":["uAXs",42],"./ka/index.js":["pwL5",43],"./kk/index.js":["zGPi",5],"./ko/index.js":["iW8+",44],"./lt/index.js":["xj+b",45],"./lv/index.js":["x5pY",6],"./ms/index.js":["gUWk",46],"./nb/index.js":["73vv",47],"./nl/index.js":["hCQt",48],"./nn/index.js":["vORL",49],"./pl/index.js":["B6yL",7],"./pt-BR/index.js":["2dYp",50],"./pt/index.js":["gdks",51],"./ro/index.js":["r2yp",52],"./ru/index.js":["nz/o",8],"./sk/index.js":["Wqan",9],"./sl/index.js":["KYSo",53],"./sr/index.js":["7mU3",54],"./sv/index.js":["hxgj",55],"./ta/index.js":["1ssA",56],"./te/index.js":["SGoj",57],"./th/index.js":["Pk+z",58],"./tr/index.js":["3ZWG",59],"./ug/index.js":["yT3n",60],"./uk/index.js":["LCGg",10],"./vi/index.js":["dGQT",61],"./zh-CN/index.js":["UJqf",62],"./zh-TW/index.js":["zn9v",63]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="YO3j",e.exports=a},wdeV:function(e,t,n){}});
//# sourceMappingURL=index.ccb5385d.js.map