(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{JAma:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),c=n("oFFJ"),l=n("2INN"),i=n("jKe7"),o=n("wSuE"),u=n("QYg5"),s=n("VkAN"),m=n.n(s),f=n("J4zp"),d=n.n(f),p=n("4p7I"),v=n("whF5");function b(){var e=m()(["Search"]);return b=function(){return e},e}function E(){var e=m()(["Search"]);return E=function(){return e},e}var h=function(){var e=Object(u.qc)().createModal;return a.a.createElement("header",{className:"header flex flex-nowrap reset4print"},a.a.createElement("a",{href:"/",className:"logo-container nodecoration flex-item-centered-vert"},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"logo","aria-labelledby":"logo__title plan",width:"148",height:"36"},a.a.createElement("g",null,a.a.createElement("path",{d:"M28.51 15.9h-2.26v6.456h-2.466V4.776h4.673c4.337 0 6.985 1.735 6.985 5.435 0 4.107-2.882 5.69-6.933 5.69zm.207-9.236H26.25v7.323h2.467c2.363 0 4.103-.74 4.103-3.75 0-2.629-1.714-3.573-4.103-3.573zm9.633 15.692V8.909h2.077l.286 2.577c.779-1.888 1.973-2.883 3.583-2.883.441 0 .935.051 1.35.153l-.441 2.297a4.363 4.363 0 0 0-1.195-.154c-1.713 0-2.804 1.71-3.271 3.573v7.884zm14.307-14.06c3.894 0 6.075 2.757 6.075 7.018 0 4.158-2.233 7.042-6.101 7.042-3.895 0-6.102-2.756-6.102-7.017 0-4.159 2.233-7.042 6.128-7.042zm0 1.889c-2.285 0-3.558 1.633-3.558 5.154 0 3.496 1.247 5.129 3.532 5.129s3.53-1.633 3.53-5.154c0-3.496-1.245-5.129-3.504-5.129zm16.565 11.252c-.83.612-1.921.919-3.064.919-2.544 0-3.687-1.582-3.687-3.904v-8.063h-2.18V8.603h2.18V5.567l2.39-.28v3.316h3.452l-.285 1.786H64.86v8.037c0 1.353.442 1.99 1.636 1.99.597 0 1.142-.178 1.817-.586zm7.167-13.14c3.894 0 6.075 2.756 6.075 7.017 0 4.158-2.233 7.042-6.101 7.042-3.895 0-6.102-2.756-6.102-7.017 0-4.159 2.233-7.042 6.128-7.042zm0 1.888c-2.285 0-3.558 1.633-3.558 5.154 0 3.496 1.247 5.129 3.532 5.129 2.284 0 3.53-1.633 3.53-5.154 0-3.496-1.246-5.129-3.504-5.129zm12.021 12.17h-2.388V8.91h2.05l.183 1.837c1.116-1.377 2.752-2.143 4.362-2.143 2.648 0 3.713 1.48 3.713 3.98v9.773h-2.39v-9.62c0-1.607-.57-2.296-2.128-2.296-1.48 0-2.675 1.123-3.402 2.169zm26.562 0l-.779-9.006a93.98 93.98 0 0 1-.285-5.843h-.104l-3.999 12.987h-2.363l-4.154-12.987h-.104c0 .587-.052 3.572-.234 5.843l-.7 9.007h-2.337l1.48-17.58h3.323l3.92 12.834h.105l3.79-12.834h3.35l1.48 17.58zm15.293-3.342c0 1.072.312 1.455 1.013 1.71l-.571 1.633c-1.22-.153-2.103-.69-2.519-1.888-.96 1.275-2.415 1.888-4.076 1.888-2.753 0-4.44-1.659-4.44-4.16 0-2.78 2.285-4.337 6.439-4.337h1.766v-1.046c0-1.888-.961-2.602-2.96-2.602-.91 0-2.181.204-3.584.688l-.623-1.735c1.688-.612 3.22-.867 4.57-.867 3.48 0 4.985 1.658 4.985 4.388zm-2.388-.28v-3.317h-1.636c-2.934 0-3.947 1.046-3.947 2.679 0 1.658.753 2.5 2.467 2.5 1.298 0 2.337-.689 3.116-1.862zm7.945-12.886c-.987 0-1.662-.688-1.662-1.607 0-.893.675-1.582 1.662-1.582.986 0 1.687.689 1.687 1.582 0 .919-.7 1.607-1.687 1.607zm-1.195 16.509V8.909h2.389v13.447zm11.399-.46c-.598.281-1.247.46-1.948.46-1.636 0-2.804-.919-2.804-3.215V3.194l2.389-.28v16.43c0 .766.26 1.073.857 1.073.337 0 .623-.051.882-.154z"}),a.a.createElement("path",{d:"M8.263-.121S1.413-.343 0 7.125v5.086s.058.545 1.616 1.65c1.558 1.106 5.59 4.219 6.647 4.219 1.056 0 5.089-3.113 6.646-4.22 1.558-1.104 1.617-1.65 1.617-1.65V7.126C15.113-.343 8.263-.121 8.263-.121zm4.69 10.019h-9.38V7.125c.951-3.708 4.69-3.76 4.69-3.76s3.738.052 4.69 3.76z"}),a.a.createElement("path",{d:"M8.263 19.225s-1.062-.102-1.893-.67C5.54 17.99 0 14.1 0 14.1v7.7s.047.896 1.05.896h14.425c1.004 0 1.05-.895 1.05-.895v-7.7s-5.539 3.89-6.37 4.456c-.83.567-1.892.67-1.892.67z"})),a.a.createElement("title",{id:"logo__title"},"ProtonMail"),a.a.createElement("text",{textAnchor:"end",className:"plan uppercase bold",x:"147",y:"36",id:"plan",focusable:"false"},"Plus"))),a.a.createElement("div",{className:"searchbox-container relative flex-item-centered-vert"},a.a.createElement("label",{htmlFor:"global_search"},a.a.createElement("span",{className:"sr-only"},Object(v.c)("Placeholder").t(E())),a.a.createElement("input",{type:"search",id:"global_search",placeholder:Object(v.c)("Placeholder").t(b()),className:"pm-field w100 searchbox-field "}))),a.a.createElement("div",{className:"topnav-container flex-item-centered-vert flex-item-fluid"},a.a.createElement("ul",{className:"topnav-list unstyled mt0 mb0 ml1 flex flex-nowrap"},a.a.createElement("li",{className:"mr1"},a.a.createElement("a",{href:"https://mail.protonmail.com/",className:"topnav-link inline-flex flex-nowrap nodecoration rounded","aria-current":"true"},a.a.createElement("svg",{viewBox:"0 0 16 16",className:"icon-16p topnav-icon mr0-5 flex-item-centered-vert fill-white",role:"img",focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:"#shape-email"})),"Mailbox")),a.a.createElement("li",{className:"mr1"},a.a.createElement("a",{href:"/settings/",className:"topnav-link inline-flex flex-nowrap nodecoration rounded"},a.a.createElement("svg",{viewBox:"0 0 16 16",className:"icon-16p topnav-icon mr0-5 flex-item-centered-vert fill-white",role:"img",focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:"#shape-settings-master"})),"Settings")),a.a.createElement("li",{className:"mr1"},a.a.createElement("button",{onClick:function(){return e(a.a.createElement(u.e,null))},className:"topnav-link inline-flex flex-nowrap nodecoration rounded"},a.a.createElement("svg",{viewBox:"0 0 16 16",className:"icon-16p topnav-icon mr0-5 flex-item-centered-vert fill-white",role:"img",focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:"#shape-support1"})),"Support")))))};function g(){var e=m()(["Group"]);return g=function(){return e},e}function y(){var e=m()(["Delete all"]);return y=function(){return e},e}function j(){var e=m()(["Merge"]);return j=function(){return e},e}function O(){var e=m()(["Export"]);return O=function(){return e},e}function x(){var e=m()(["Import"]);return x=function(){return e},e}function N(){var e=m()(["Contacts"]);return N=function(){return e},e}var C=function(e){var t=e.children,n=Object(u.gc)(),r=d()(n,2),c=r[0];if(r[1])return a.a.createElement(u.Y,null);var l=[{icon:"contacts",text:Object(v.c)("Link").t(N()),link:"/contacts"},{icon:"import",text:Object(v.c)("Action").t(x()),type:"button",onClick:function(){}},{icon:"export",text:Object(v.c)("Action").t(O()),type:"button",onClick:function(){}},{icon:"merge",text:Object(v.c)("Action").t(j()),type:"button",onClick:function(){}},{icon:"delete",text:Object(v.c)("Action").t(y()),type:"button",onClick:function(){}},{icon:"contacts-group",text:Object(v.c)("Link").t(g()),type:"button",onClick:function(){}}].concat(c.map(function(e){var t=e.Name,n=e.Color,r=e.ID;return{icon:"contacts-groups",color:n,text:t,link:"/contacts/group/".concat(r)}}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(h,null),a.a.createElement("div",{className:"flex flex-nowrap"},a.a.createElement(p.a,{path:"/:path",render:function(){return a.a.createElement(u.zb,{list:l})}}),a.a.createElement("div",{className:"main flex-item-fluid main-area"},a.a.createElement("div",{className:"toolbar noprint"}),a.a.createElement("div",{className:"flex flex-nowrap"},t))))},w=n("MVZn"),k=n.n(w),A=n("RIqP"),L=n.n(A),P=n("9C/b"),I=n("LKB7"),D=n("b9ZJ"),S=n.n(D),T=function(e){var t=e.name,n=e.color;return a.a.createElement(u.N,{title:t,name:"contacts-groups",color:n})},z=Object(P.a)(function(e){var t=e.contacts,n=e.onCheck,c=e.history,l=e.contactID,i=Object(r.useRef)(null),o=Object(r.useRef)(null),s=Object(r.useState)(),m=d()(s,2),f=m[0],p=m[1],v=Object(u.gc)(),b=d()(v,1)[0],E=Object(r.useState)(0),h=d()(E,2),g=h[0],y=h[1],j=Object(r.useState)(0),O=d()(j,2),x=O[0],N=O[1],C=b.reduce(function(e,t){return e[t.ID]=t,e},Object.create(null)),w=function(e){var r=e.target,a=e.shiftKey,c=r.getAttribute("data-contact-id"),l=[c];if(f&&a){var i=t.findIndex(function(e){return e.ID===c}),o=c.findIndex(function(e){return e.ID===f}),u=t.slice(Math.min(i,o),Math.max(i,o)+1);u.push.apply(u,L()(t.slice(Math.min(i,o),Math.max(i,o)+1).map(function(e){return e.ID})))}p(c),n(l,r.checked)},k=function(e){return function(){return c.push("/contacts/".concat(e))}},A=function(){y(o.current.clientHeight),N(o.current.offsetWidth)};return Object(r.useEffect)(function(){var e=setTimeout(function(){if(A(),l){var e=t.findIndex(function(e){var t=e.ID;return l===t});i.current.scrollToRow(e)}},200);return document.addEventListener("resize",A),function(){clearTimeout(e),document.removeEventListener("resize",A)}},[]),a.a.createElement("div",{ref:o,className:"items-column-list"},a.a.createElement(S.a,{ref:i,rowRenderer:function(e){var n=e.index,r=e.style,c=t[n],i=c.ID,o=c.Name,s=c.LabelIDs,m=void 0===s?[]:s,f=c.emails,d=c.isChecked,p=Object(I.b)(o);return a.a.createElement("div",{style:r,key:i,className:"item-container  bg-global-white  ".concat(l===i?"item-is-selected":"")},a.a.createElement("div",{className:"flex flex-nowrap"},a.a.createElement("label",{className:"item-icon flex-item-noshrink rounded50 bg-white inline-flex"},a.a.createElement("span",{className:"mauto item-abbr"},p),a.a.createElement(u.o,{checked:d,className:"item-checkbox sr-only",onChange:w,"data-contact-id":i})),a.a.createElement("div",{className:"flex-item-fluid flex flex-column flex-spacebetween conversation-titlesender",onClick:k(i)},a.a.createElement("div",{className:"flex"},a.a.createElement("div",{className:"flex-item-fluid w0 ".concat(m.length?"pr1":"")},a.a.createElement("span",{className:"bold inbl mw100 ellipsis"},o)),m.length?a.a.createElement("div",null,m.map(function(e){var t=C[e],n=t.Color,r=t.Name;return a.a.createElement(T,{key:e,name:r,color:n})})):null),a.a.createElement("div",{className:"mw100 ellipsis",title:f.join(", ")},Object(I.a)(f)))))},rowCount:t.length,rowHeight:76,height:g,width:x}))}),M=n("lSNA"),F=n.n(M),R=n("o0o1"),q=n.n(R),V=n("yXPU"),K=n.n(V),B=n("3fNN"),U=n("IYjA"),G=n("p1RS"),H=n("UeCU"),_=n.n(H),J=n("EC4O"),Y="1*",W="*",X={fn:{cardinality:Y},n:{cardinality:"*1"},nickname:{cardinality:W},photo:{cardinality:W},bday:{cardinality:"*1"},anniversary:{cardinality:"*1"},gender:{cardinality:"*1"},adr:{cardinality:W},tel:{cardinality:W},email:{cardinality:W},impp:{cardinality:W},lang:{cardinality:W},tz:{cardinality:W},geo:{cardinality:W},title:{cardinality:W},role:{cardinality:W},logo:{cardinality:W},org:{cardinality:W},member:{cardinality:W},related:{cardinality:W},categories:{cardinality:W},note:{cardinality:W},prodid:{cardinality:"*1"},rev:{cardinality:"*1"},sound:{cardinality:W},uid:{cardinality:"*1"},clientpidmap:{cardinality:W},url:{cardinality:W},version:{cardinality:"1"},key:{cardinality:W},fburl:{cardinality:W},caladruri:{cardinality:W},caluri:{cardinality:W}},Z=function(e){var t=e.getValues().map(function(e){return"string"==typeof e?e:e.toString()});return e.isMultiValue?t:t[0]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new _.a.Component(_.a.parse(e)).getAllProperties().reduce(function(e,t){var n=t.getParameter("type"),r=t.getParameter("pref"),a=t.name.split("."),c=a[1]?a[1]:a[0];if(!c)return e;if(!function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").startsWith("x-")}(c)&&!X[c])return e;var l={pref:r,field:c,group:a[1]?a[0]:void 0,type:n,value:Z(t)};return e.push(l),e},[])},$=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){return t.forEach(function(t){var n=t.field,r=(X[n]||{}).cardinality;[Y,W].includes(void 0===r?W:r)?e.push(t):e.find(function(e){return e.field===n})||e.push(t)}),e},[])},ee=n("0Zqm"),te=n("pVnL"),ne=n.n(te),re=n("QILm"),ae=n.n(re),ce=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().replace("x-","")},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e.length?e[0]:"":e},ie=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(",").filter(Boolean).map(function(e){return e.trim()}).join(", ")},oe=n("wd/R"),ue=n.n(oe),se=function(e){var t=e.value;return a.a.createElement("div",{className:"mb1"},t?a.a.createElement("img",{src:t}):a.a.createElement(u.N,{name:"contact",size:40}))},me=["bday","anniversary","gender","lang","tz","geo","title","role","photo","logo","org","member","note","url"];function fe(){var e=m()(["Extended address"]);return fe=function(){return e},e}function de(){var e=m()(["Post office box"]);return de=function(){return e},e}function pe(){var e=m()(["Country"]);return pe=function(){return e},e}function ve(){var e=m()(["Postal code"]);return ve=function(){return e},e}function be(){var e=m()(["Region"]);return be=function(){return e},e}function Ee(){var e=m()(["City"]);return Ee=function(){return e},e}function he(){var e=m()(["Street address"]);return he=function(){return e},e}var ge=function(e){var t=e.value,n=e.onChange,c=Object(r.useState)(t.split(",")),l=d()(c,2),i=l[0],o=l[1],s=function(e){return function(t){var r=t.target,a=L()(i);a[e]=r.value,o(a),n(a.join(","))}};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("label",{className:"small opacity-50",htmlFor:"street"},Object(v.c)("Label").t(he())),a.a.createElement(u.T,{id:"street",value:i[2],onChange:s(2)})),a.a.createElement("div",null,a.a.createElement("label",{className:"small opacity-50",htmlFor:"locality"},Object(v.c)("Label").t(Ee())),a.a.createElement(u.T,{id:"locality",value:i[3],onChange:s(3)})),a.a.createElement("div",null,a.a.createElement("label",{className:"small opacity-50",htmlFor:"region"},Object(v.c)("Label").t(be())),a.a.createElement(u.T,{id:"region",value:i[4],onChange:s(4)})),a.a.createElement("div",null,a.a.createElement("label",{className:"small opacity-50",htmlFor:"postalCode"},Object(v.c)("Label").t(ve())),a.a.createElement(u.T,{id:"postalCode",value:i[5],onChange:s(5)})),a.a.createElement("div",null,a.a.createElement("label",{className:"small opacity-50",htmlFor:"country"},Object(v.c)("Label").t(pe())),a.a.createElement(u.T,{id:"country",value:i[6],onChange:s(6)})),i[0]?a.a.createElement("div",null,a.a.createElement("label",{className:"small opacity-50",htmlFor:"postBox"},Object(v.c)("Label").t(de())),a.a.createElement(u.T,{id:"postBox",value:i[0],onChange:s(0)})):null,i[1]?a.a.createElement("div",null,a.a.createElement("label",{className:"small opacity-50",htmlFor:"extended"},Object(v.c)("Label").t(fe())),a.a.createElement(u.T,{id:"extended",value:i[1],onChange:s(1)})):null)},ye=function(e){var t=e.field,n=e.value,r=e.uid,c=e.onChange,l=ae()(e,["field","value","uid","onChange"]),i=function(e){var t=e.target;return c({value:t.value,uid:r})},o=Array.isArray(n)?n[0]:n;if("email"===t&&a.a.createElement(u.A,ne()({value:o,onChange:i},l)),"adr"===t)return a.a.createElement(ge,{value:o,onChange:function(e){return c({value:e,uid:r})}});if("note"===t)return a.a.createElement(u.Ib,ne()({value:o,onChange:i},l));if("bday"===t||"anniversary"===t){var s=ue()(o);if(s.isValid())return a.a.createElement(u.t,ne()({setDefaultDate:!0,defaultDate:s.toDate(),onSelect:function(e){return c({value:e,uid:r})},format:ue.a.localeData().longDateFormat("L")},l))}if("photo"===t||"logo"===t)return a.a.createElement(se,ne()({value:o,onChange:function(e){return c({value:e,uid:r})}},l));return a.a.createElement(u.T,ne()({value:o,onChange:i},l))};function je(){var e=m()(["Sound"]);return je=function(){return e},e}function Oe(){var e=m()(["Categories"]);return Oe=function(){return e},e}function xe(){var e=m()(["Related"]);return xe=function(){return e},e}function Ne(){var e=m()(["IMPP"]);return Ne=function(){return e},e}function Ce(){var e=m()(["Member"]);return Ce=function(){return e},e}function we(){var e=m()(["Logo"]);return we=function(){return e},e}function ke(){var e=m()(["Geo"]);return ke=function(){return e},e}function Ae(){var e=m()(["Timezone"]);return Ae=function(){return e},e}function Le(){var e=m()(["Language"]);return Le=function(){return e},e}function Pe(){var e=m()(["Gender"]);return Pe=function(){return e},e}function Ie(){var e=m()(["URL"]);return Ie=function(){return e},e}function De(){var e=m()(["Name"]);return De=function(){return e},e}function Se(){var e=m()(["Note"]);return Se=function(){return e},e}function Te(){var e=m()(["Role"]);return Te=function(){return e},e}function ze(){var e=m()(["Title"]);return ze=function(){return e},e}function Me(){var e=m()(["Anniversary"]);return Me=function(){return e},e}function Fe(){var e=m()(["Birthday"]);return Fe=function(){return e},e}function Re(){var e=m()(["Address"]);return Re=function(){return e},e}function qe(){var e=m()(["Phone"]);return qe=function(){return e},e}function Ve(){var e=m()(["Organization"]);return Ve=function(){return e},e}function Ke(){var e=m()(["Photo"]);return Ke=function(){return e},e}function Be(){var e=m()(["Email"]);return Be=function(){return e},e}function Ue(){var e=m()(["Mobile"]);return Ue=function(){return e},e}function Ge(){var e=m()(["Personal"]);return Ge=function(){return e},e}function He(){var e=m()(["Work"]);return He=function(){return e},e}var _e=function(e){var t=e.field,n=e.type,r=ae()(e,["field","type"]),c={work:Object(v.c)("Label").t(He()),home:Object(v.c)("Label").t(Ge()),cell:Object(v.c)("Label").t(Ue()),email:Object(v.c)("Label").t(Be()),photo:Object(v.c)("Label").t(Ke()),org:Object(v.c)("Label").t(Ve()),tel:Object(v.c)("Label").t(qe()),adr:Object(v.c)("Label").t(Re()),bday:Object(v.c)("Label").t(Fe()),anniversary:Object(v.c)("Label").t(Me()),title:Object(v.c)("Label").t(ze()),role:Object(v.c)("Label").t(Te()),note:Object(v.c)("Label").t(Se()),fn:Object(v.c)("Label").t(De()),url:Object(v.c)("Label").t(Ie()),gender:Object(v.c)("Label").t(Pe()),lang:Object(v.c)("Label").t(Le()),tz:Object(v.c)("Label").t(Ae()),geo:Object(v.c)("Label").t(ke()),logo:Object(v.c)("Label").t(we()),member:Object(v.c)("Label").t(Ce()),impp:Object(v.c)("Label").t(Ne()),related:Object(v.c)("Label").t(xe()),categories:Object(v.c)("Label").t(Oe()),sound:Object(v.c)("Label").t(je())},l=c[n]||n||c[t];return a.a.createElement(u.V,ne()({className:"capitalize"},r),l)};function Je(){var e=m()(["URL"]);return Je=function(){return e},e}function Ye(){var e=m()(["Note"]);return Ye=function(){return e},e}function We(){var e=m()(["Member"]);return We=function(){return e},e}function Xe(){var e=m()(["Org"]);return Xe=function(){return e},e}function Ze(){var e=m()(["Logo"]);return Ze=function(){return e},e}function Qe(){var e=m()(["Role"]);return Qe=function(){return e},e}function $e(){var e=m()(["Title"]);return $e=function(){return e},e}function et(){var e=m()(["Geo"]);return et=function(){return e},e}function tt(){var e=m()(["Timezone"]);return tt=function(){return e},e}function nt(){var e=m()(["Language"]);return nt=function(){return e},e}function rt(){var e=m()(["Gender"]);return rt=function(){return e},e}function at(){var e=m()(["Anniversary"]);return at=function(){return e},e}function ct(){var e=m()(["Birthday"]);return ct=function(){return e},e}function lt(){var e=m()(["Other"]);return lt=function(){return e},e}function it(){var e=m()(["Work"]);return it=function(){return e},e}function ot(){var e=m()(["Home"]);return ot=function(){return e},e}function ut(){var e=m()(["Address"]);return ut=function(){return e},e}function st(){var e=m()(["Fax"]);return st=function(){return e},e}function mt(){var e=m()(["Main"]);return mt=function(){return e},e}function ft(){var e=m()(["Mobile"]);return ft=function(){return e},e}function dt(){var e=m()(["Other"]);return dt=function(){return e},e}function pt(){var e=m()(["Professional"]);return pt=function(){return e},e}function vt(){var e=m()(["Home"]);return vt=function(){return e},e}function bt(){var e=m()(["Phone"]);return bt=function(){return e},e}function Et(){var e=m()(["Other"]);return Et=function(){return e},e}function ht(){var e=m()(["Work"]);return ht=function(){return e},e}function gt(){var e=m()(["Home"]);return gt=function(){return e},e}function yt(){var e=m()(["Email"]);return yt=function(){return e},e}var jt=["email","tel","adr"],Ot=function(e){var t=e.field,n=e.uid,r=e.type,c=e.onChange,l={email:[{text:Object(v.c)("Property type").t(yt()),value:""},{text:Object(v.c)("Property type").t(gt()),value:"home"},{text:Object(v.c)("Property type").t(ht()),value:"work"},{text:Object(v.c)("Property type").t(Et()),value:"other"}],tel:[{text:Object(v.c)("Property type").t(bt()),value:""},{text:Object(v.c)("Property type").t(vt()),value:"home"},{text:Object(v.c)("Property type").t(pt()),value:"professional"},{text:Object(v.c)("Property type").t(dt()),value:"other"},{text:Object(v.c)("Property type").t(ft()),value:"cell"},{text:Object(v.c)("Property type").t(mt()),value:"main"},{text:Object(v.c)("Property type").t(st()),value:"fax"}],adr:[{text:Object(v.c)("Property type").t(ut()),value:""},{text:Object(v.c)("Property type").t(ot()),value:"home"},{text:Object(v.c)("Property type").t(it()),value:"work"},{text:Object(v.c)("Property type").t(lt()),value:"other"}],fields:[{text:Object(v.c)("Property field").t(ct()),value:"bday"},{text:Object(v.c)("Property field").t(at()),value:"anniversary"},{text:Object(v.c)("Property field").t(rt()),value:"gender"},{text:Object(v.c)("Property field").t(nt()),value:"lang"},{text:Object(v.c)("Property field").t(tt()),value:"tz"},{text:Object(v.c)("Property field").t(et()),value:"geo"},{text:Object(v.c)("Property field").t($e()),value:"title"},{text:Object(v.c)("Property field").t(Qe()),value:"role"},{text:Object(v.c)("Property field").t(Ze()),value:"logo"},{text:Object(v.c)("Property field").t(Xe()),value:"org"},{text:Object(v.c)("Property field").t(We()),value:"member"},{text:Object(v.c)("Property field").t(Ye()),value:"note"},{text:Object(v.c)("Property field").t(Je()),value:"url"}]};return l[t]&&!l[t].map(function(e){return e.value}).includes(r)?a.a.createElement(_e,{field:t,type:r}):jt.includes(t)?a.a.createElement(u.V,{className:"pt0"},a.a.createElement(u.yb,{value:r,options:l[t],onChange:function(e){var t=e.target;return c({value:t.value,key:"type",uid:n})}})):a.a.createElement(u.V,{className:"pt0"},a.a.createElement(u.yb,{value:t,options:l.fields,onChange:function(e){var t=e.target;return c({value:t.value,key:"field",uid:n})}}))};Ot.defaultProps={type:""};var xt=Ot,Nt=n("LJWS");function Ct(){var e=m()(["Upload picture"]);return Ct=function(){return e},e}function wt(){var e=m()(["Upload picture"]);return wt=function(){return e},e}function kt(){var e=m()(["Image URL"]);return kt=function(){return e},e}function At(){var e=m()(["Add image URL"]);return At=function(){return e},e}function Lt(){var e=m()(["Save"]);return Lt=function(){return e},e}function Pt(){var e=m()(["Image upload failed"]);return Pt=function(){return e},e}function It(){var e=m()(["Edit image"]);return It=function(){return e},e}var Dt=function(e){var t=e.url,n=e.onSubmit,c=e.onClose,l=ae()(e,["url","onSubmit","onClose"]),i=Object(r.useState)(t),o=d()(i,2),s=o[0],m=o[1],f=Object(v.c)("Title").t(It()),p=Object(u.rc)().createNotification;return a.a.createElement(u.I,ne()({title:f,onSubmit:function(){n(s),c()},submit:Object(v.c)("Action").t(Lt()),onClose:c},l),a.a.createElement(u.wb,null,a.a.createElement(u.V,{htmlFor:"contactImageModal-input-url"},Object(v.c)("Label").t(At())),a.a.createElement(u.F,null,a.a.createElement(u.T,{id:"contactImageModal-input-url",value:s,onChange:function(e){var t=e.target;return m(t.value)},placeholder:Object(v.c)("Placeholder").t(kt())}))),a.a.createElement(u.wb,null,a.a.createElement(u.V,{htmlFor:"contactImageModal-input-file"},Object(v.c)("Label").t(wt())),a.a.createElement(u.F,null,a.a.createElement(u.G,{id:"contactImageModal-input-file",accept:"image/*",onChange:function(e){var t=e.target.files[0],r=new FileReader;r.onloadend=K()(q.a.mark(function e(){var t;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Nt.b)(r.result,128,"image/jpeg",.7);case 3:t=e.sent,n(t),c(),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),p({text:Object(v.c)("Error").t(Pt()),type:"error"}),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,8]])})),r.readAsDataURL(t)}},Object(v.c)("Action").t(Ct())))))};Dt.defaultProps={url:""};var St=Dt;function Tt(){var e=m()(["Edit"]);return Tt=function(){return e},e}function zt(){var e=m()(["Clear"]);return zt=function(){return e},e}function Mt(){var e=m()(["Move down"]);return Mt=function(){return e},e}function Ft(){var e=m()(["Move up"]);return Ft=function(){return e},e}function Rt(){var e=m()(["Delete"]);return Rt=function(){return e},e}function qt(){var e=m()(["Add"]);return qt=function(){return e},e}var Vt=function(e){var t=e.property,n=e.onChange,r=e.onAdd,c=e.onRemove,l=e.onMoveUp,i=e.onMoveDown,o=e.first,s=e.last,m=Object(u.qc)().createModal,f=t.field,d=t.uid,p=ce(le(t.type)),b=!["fn"].includes(f)&&s,E=!["fn"].includes(f),h=["email"].includes(f)&&!o,g=["email"].includes(f)&&!s,y=["photo","logo"].includes(f)&&t.value,j=["photo","logo"].includes(f),O=[b&&{text:Object(v.c)("Action").t(qt()),onClick:r},E&&{text:Object(v.c)("Action").t(Rt()),onClick:function(){c(t.uid)}},h&&{text:Object(v.c)("Action").t(Ft()),onClick:l},g&&{text:Object(v.c)("Action").t(Mt()),onClick:i},y&&{text:Object(v.c)("Action").t(zt()),onClick:function(){n({uid:d,value:""})}},j&&{text:Object(v.c)("Action").t(Tt()),onClick:function(){m(a.a.createElement(St,{url:t.value,onSubmit:function(e){return n({uid:d,value:e})}}))}}].filter(Boolean);return a.a.createElement(u.wb,null,a.a.createElement(xt,{field:f,type:p,uid:t.uid,onChange:n}),a.a.createElement(u.F,null,a.a.createElement(ye,{field:f,value:t.value,uid:t.uid,onChange:n})),O.length?a.a.createElement("div",{className:"ml1 flex flex-items-end"},a.a.createElement(u.x,{list:O})):null)};Vt.defaultProps={first:!1,last:!1};var Kt=Vt;function Bt(){var e=m()(["Other information"]);return Bt=function(){return e},e}function Ut(){var e=m()(["Addresses"]);return Ut=function(){return e},e}function Gt(){var e=m()(["Phone numbers"]);return Gt=function(){return e},e}function Ht(){var e=m()(["Email addresses"]);return Ht=function(){return e},e}function _t(){var e=m()(["Display name"]);return _t=function(){return e},e}var Jt={fn:"contact",email:"email",tel:"phone",adr:"address",other:"info"},Yt=function(e){var t=e.properties,n=e.field,r=e.onChange,c=e.onAdd,l=e.onRemove,i={fn:Object(v.c)("Title").t(_t()),email:Object(v.c)("Title").t(Ht()),tel:Object(v.c)("Title").t(Gt()),adr:Object(v.c)("Title").t(Ut()),other:Object(v.c)("Title").t(Bt())},o=n?i[n]:i.other,s=n?Jt[n]:Jt.other,m=n?[n]:me,f=t.filter(function(e){var t=e.field;return m.includes(t)});return a.a.createElement("div",{className:"border-bottom mb1"},a.a.createElement("h3",{className:"mb1"},a.a.createElement(u.N,{name:s})," ",o),f.map(function(e,t){return a.a.createElement(Kt,{first:!t,last:f.length-1===t,key:e.uid,property:e,onChange:r,onRemove:l,onAdd:c})}))};function Wt(){var e=m()(["Upgrade"]);return Wt=function(){return e},e}function Xt(){var e=m()(["Upgrade your plan to unlock encrypted details such as phone numbers and home addresses."]);return Xt=function(){return e},e}function Zt(){var e=m()(["Encrypted details"]);return Zt=function(){return e},e}var Qt=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",{className:"mb1"},a.a.createElement(u.N,{name:"lock"})," ",Object(v.c)("Title").t(Zt())),a.a.createElement(u.b,{learnMore:"TODO"},Object(v.c)("Info").t(Xt())),a.a.createElement("a",{href:"/settings/dashboard",className:"pm-button pm-button pm-button--primary"},Object(v.c)("Action").t(Wt())))},$t=n("iylp");function en(){var e=m()(["Save"]);return en=function(){return e},e}function tn(){var e=m()(["Add new contact"]);return tn=function(){return e},e}function nn(){var e=m()(["Edit contact details"]);return nn=function(){return e},e}var rn=[{field:"fn",value:""},{field:"email",value:""},{field:"tel",value:""},{field:"adr",value:""},{field:"org",value:""},{field:"note",value:""},{field:"photo",value:""}],an=["fn","email","tel","adr","org","note","photo","logo","bday","anniversary","gender","title","role","member","url"],cn="contact-property",ln=function(e){var t=e.contactID,n=e.properties,c=ae()(e,["contactID","properties"]),l=Object(u.Bc)(),i=d()(l,1)[0].hasPaidMail,o=Object(r.useState)(function(e){return e?e.filter(function(e){var t=e.field;return an.includes(t)}).map(function(e){return k()({},e,{uid:Object(J.b)(cn)})}):rn.map(function(e){return k()({},e,{uid:Object(J.b)(cn)})})}(n)),s=d()(o,2),m=s[0],f=s[1],p=t?Object(v.c)("Title").t(nn()):Object(v.c)("Title").t(tn()),b=function(e){f(m.filter(function(t){return t.uid!==e}))},E=function(e){return function(){if(!e){var t=Object($t.d)(0,me.length-1);return f([].concat(L()(m),[{field:me[t],value:"",uid:Object(J.b)(cn)}]))}f([].concat(L()(m),[{field:e,value:"",uid:Object(J.b)(cn)}]))}},h=function(e){var t=e.uid,n=e.value,r=e.key,a=void 0===r?"value":r,c=m.map(function(e){return e.uid===t&&(e[a]=n),e});f(c)};return a.a.createElement(u.I,ne()({onSubmit:function(){var e=function(e){return e.filter(function(e){return e.value})}(m);console.log(e)},title:p,submit:Object(v.c)("Action").t(en())},c),a.a.createElement(Yt,{properties:m,field:"fn",onChange:h,onRemove:b}),a.a.createElement(Yt,{properties:m,field:"email",onChange:h,onRemove:b,onAdd:E("email")}),i?a.a.createElement(a.a.Fragment,null,a.a.createElement(Yt,{properties:m,field:"tel",onChange:h,onRemove:b,onAdd:E("tel")}),a.a.createElement(Yt,{properties:m,field:"adr",onChange:h,onRemove:b,onAdd:E("adr")}),a.a.createElement(Yt,{properties:m,onChange:h,onRemove:b,onAdd:E()})):a.a.createElement(Qt,null))},on=function(e,t){var n=(e.find(function(e){return e.field===t})||{}).value;return Array.isArray(n)?n.join(", "):n},un=function(e){var t=e.properties,n=on(t,"photo"),r=on(t,"fn"),c=on(t,"email"),l=on(t,"tel"),i=on(t,"adr"),o=on(t,"org"),s=[c&&{icon:"email",component:a.a.createElement("a",{href:"mailto:".concat(c)},c)},l&&{icon:"phone",component:a.a.createElement("a",{href:"mailto:".concat(l)},l)},i&&{icon:"address",component:ie(i)},o&&{icon:"organization",component:o}].filter(Boolean);return a.a.createElement("div",{className:"bg-global-light flex flex-nowrap p1 mb1 border-bottom"},a.a.createElement("div",{className:"w20 aligncenter"},n?a.a.createElement("img",{src:n,className:"rounded50"}):a.a.createElement(u.N,{name:"contact",size:40})),a.a.createElement("div",{className:"pl1"},a.a.createElement("h2",{className:"mb0-5"},r),a.a.createElement("ul",{className:"unstyled m0"},s.map(function(e){var t=e.icon,n=e.component;return a.a.createElement("li",{key:t,className:"flex flex-items-center mb0-5"},a.a.createElement(u.N,{name:t,className:"mr0-5"}),n)}))))},sn=n("DIu/");function mn(){var e=m()(["Apply"]);return mn=function(){return e},e}function fn(){var e=m()(["Filter groups"]);return fn=function(){return e},e}function dn(){var e=m()(["Create a new contact group"]);return dn=function(){return e},e}function pn(){var e=m()(["Add to group"]);return pn=function(){return e},e}function vn(){var e=m()(["Group"]);return vn=function(){return e},e}var bn=function(e){var t=e.className,n=e.contactIDs,c=Object(r.useState)(""),l=d()(c,2),i=l[0],o=l[1],s=Object(I.d)(i),m=Object(u.gc)(),f=d()(m,1)[0],p=Object(u.hc)(),b=d()(p,1)[0],E=Object(sn.c)(b),h=Object(r.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length&&e.length?e.reduce(function(e,n){var r=n.ID,a=t.filter(function(e){var t=e.LabelIDs;return(void 0===t?[]:t).includes(r)});return e[r]=a.length?t.length===a.length?1:2:0,e},Object.create(null)):Object.create(null)}(f,n.map(function(e){return E[e]}))),g=d()(h,2),y=g[0],j=g[1],O=s.length?f.filter(function(e){var t=e.Name;return Object(I.d)(t).includes(s)}):f;return a.a.createElement(u.w,{caret:!0,className:t,content:Object(v.c)("Contact group dropdown").t(vn()),autoClose:!1},a.a.createElement("div",{className:"flex flex-spacebetween pt1 pl1 pr1 mb1"},a.a.createElement("strong",null,Object(v.c)("Label").t(pn())),a.a.createElement(u.Ob,{title:Object(v.c)("Info").t(dn())},a.a.createElement(u.Ab,{className:"pm-button--primary pm-button--for-icon",onClick:function(){console.log("open modal")}},a.a.createElement(u.N,{name:"contacts-groups",fill:"light"}),"+"))),a.a.createElement("div",{className:"pl1 pr1 mb1"},a.a.createElement(u.xb,{value:i,onChange:o,autoFocus:!0,placeholder:Object(v.c)("Placeholder").t(fn())})),a.a.createElement("div",{className:"mb1"},a.a.createElement("ul",{className:"unstyled m0 dropDown-contentInner"},O.map(function(e){var t,n=e.ID,r=e.Name,c=e.Color;return a.a.createElement("li",{key:n,className:"flex flex-spacebetween flex-nowrap border-bottom border-bottom--dashed pt0-5 pb0-5"},a.a.createElement("label",{htmlFor:n,className:"flex flex-nowrap"},a.a.createElement(u.N,{name:"contacts-groups",className:"mr0-5",color:c}),a.a.createElement("span",{className:"ellipsis",title:r},r)),a.a.createElement(u.o,{id:n,checked:1===y[n],indeterminate:2===y[n],onChange:(t=n,function(e){var n=e.target;j(k()({},y,F()({},t,+n.checked)))})}))}))),a.a.createElement("div",{className:"aligncenter mb1"},a.a.createElement(u.Ab,{className:"pm-button--primary",onClick:function(){console.log(y)}},Object(v.c)("Action").t(mn()))))};function En(){var e=m()(["Settings"]);return En=function(){return e},e}var hn=function(e){var t=e.property,n=e.contactID,r=t.field,c=t.first,l=Object(u.qc)().createModal,i=ce(le(t.type)),o=Array.isArray(t.value)?t.value.join(", "):t.value;return a.a.createElement(u.wb,null,a.a.createElement(_e,{field:r,type:i,first:c}),a.a.createElement(u.F,{className:"w100 pt0-5"},a.a.createElement("span",{className:"mr0-5"},function(){switch(r){case"email":return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{className:"mr0-5",href:"mailto:".concat(o)},o),t.contactGroups.length?t.contactGroups.map(function(e){var t=e.Name,n=e.Color,r=e.ID;return a.a.createElement(T,{key:r,name:t,color:n})}):null);case"tel":return a.a.createElement("a",{href:"tel:".concat(o)},o);case"bday":case"anniversary":var e=ue()(o);return e.isValid()?e.format("LL"):o;case"photo":case"logo":return a.a.createElement("img",{src:o,alt:r});case"adr":return ie(o);default:return o}}()),function(){switch(r){case"email":return a.a.createElement(u.K,null,a.a.createElement(bn,{className:"pm-button--small pm-group-button",contactIDs:[n]}),a.a.createElement(u.m,{onClick:function(){l()},className:"pm-button--small"},Object(v.c)("Action").t(En())),a.a.createElement(u.s,{className:"pm-button--small pm-group-button",value:o}));case"tel":return a.a.createElement(u.s,{className:"pm-button--small",value:o});case"adr":return a.a.createElement(u.s,{className:"pm-button--small",value:ie(o)});default:return null}}()))};function gn(){var e=m()(["Other information"]);return gn=function(){return e},e}function yn(){var e=m()(["Addresses"]);return yn=function(){return e},e}function jn(){var e=m()(["Phone numbers"]);return jn=function(){return e},e}function On(){var e=m()(["Email addresses"]);return On=function(){return e},e}var xn={email:"email",tel:"phone",adr:"address",other:"info"},Nn=function(e){var t=e.properties,n=e.contactID,r=e.field,c={email:Object(v.c)("Title").t(On()),tel:Object(v.c)("Title").t(jn()),adr:Object(v.c)("Title").t(yn()),other:Object(v.c)("Title").t(gn())},l=Object(u.fc)(),i=d()(l,1)[0],o=Object(u.gc)(),s=d()(o,1)[0],m=Object(sn.c)(s),f=i.filter(function(e){return e.ContactID===n}),p=r?c[r]:c.other,b=r?xn[r]:xn.other,E=["photo","org","logo"],h=r?[r]:me.filter(function(e){return!E.includes(e)}),g=t.filter(function(e){var t=e.field;return h.includes(t)}).map(function(e){if("email"===r){var t=Array.isArray(e.value)?e.value[0]:e.value,n=(f.find(function(e){var n=e.Email,r=void 0===n?"":n;return Object(I.d)(r)===Object(I.d)(t)})||{}).LabelIDs,a=void 0===n?[]:n;return k()({},e,{contactGroups:a.map(function(e){return m[e]})})}return e});return g.length?a.a.createElement("div",{className:"border-bottom mb1 pl1 pr1"},a.a.createElement("h3",{className:"mb1"},a.a.createElement(u.N,{name:b})," ",p),g.map(function(e,t){return a.a.createElement(hn,{key:t.toString(),property:e,contactID:n})})):null};function Cn(){var e=m()(["Export"]);return Cn=function(){return e},e}function wn(){var e=m()(["Edit"]);return wn=function(){return e},e}function kn(){var e=m()(["Contact details"]);return kn=function(){return e},e}var An,Ln=function(e){var t=e.properties,n=e.contactID,r=(e.errors,Object(u.qc)().createModal),c=Object(u.Bc)(),l=d()(c,1)[0].hasPaidMail;return a.a.createElement("div",{className:"view-column-detail flex-item-fluid scroll-if-needed"},a.a.createElement("div",{className:"flex flex-spacebetween flex-items-center border-bottom"},a.a.createElement("div",{className:"p1"},a.a.createElement("h2",{className:"m0"},Object(v.c)("Title").t(kn()))),a.a.createElement("div",{className:"p1"},a.a.createElement(u.nb,{onClick:function(){r(a.a.createElement(ln,{properties:t,contactID:n}))},className:"mr1"},Object(v.c)("Action").t(wn())),a.a.createElement(u.l,{onClick:function(){var e=t.filter(function(e){var t=e.field;return["fn","email"].includes(t)}).map(function(e){var t=e.value;return Array.isArray(t)?t[0]:t})[0],n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var n=t.field,r=t.type,a=t.value,c=[t.group,n].filter(Boolean).join("."),l=new _.a.Property(c);return l.isMultiValue?l.setValues(a):l.setValue(a),r&&l.setParameter("type",r),e.addProperty(l),e},new _.a.Component("vcard"))}(t),r=new Blob([n.toString()],{type:"data:text/plain;charset=utf-8;"});Object(ee.a)(r,"".concat(e,".vcf"))}},Object(v.c)("Action").t(Cn())))),a.a.createElement(un,{properties:t}),a.a.createElement("div",{className:"pl1 pr1"},a.a.createElement(Nn,{contactID:n,properties:t,field:"email"}),l?a.a.createElement(a.a.Fragment,null,a.a.createElement(Nn,{contactID:n,properties:t,field:"tel"}),a.a.createElement(Nn,{contactID:n,properties:t,field:"adr"}),a.a.createElement(Nn,{contactID:n,properties:t})):a.a.createElement("div",{className:"mb1 pl1 pr1"},a.a.createElement(Qt,null))))},Pn=U.k.CLEAR_TEXT,In=U.k.ENCRYPTED_AND_SIGNED,Dn=U.k.ENCRYPTED,Sn=U.k.SIGNED,Tn=function(){var e=K()(q.a.mark(function e(t,n){var r,a,c,l,i,o,u,s,m,f;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.Data,a=t.Signature,c=n.publicKeys,l=n.privateKeys,e.prev=2,e.next=5,Promise.all([Object(G.s)(r),Object(G.t)(a)]);case 5:return i=e.sent,o=d()(i,2),u=o[0],s=o[1],e.next=11,Object(G.j)({message:u,privateKeys:l,publicKeys:c,armor:!0,signature:s});case 11:if(m=e.sent,f=m.data,1===m.verified){e.next=16;break}return e.abrupt("return",{data:f,error:1});case 16:return e.abrupt("return",{data:f});case 19:return e.prev=19,e.t0=e.catch(2),e.abrupt("return",{error:2});case 22:case"end":return e.stop()}},e,null,[[2,19]])}));return function(t,n){return e.apply(this,arguments)}}(),zn=function(){var e=K()(q.a.mark(function e(t,n){var r,a,c,l,i;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.Data,a=t.Signature,c=n.publicKeys,e.prev=2,e.next=5,Object(G.t)(a);case 5:return l=e.sent,e.next=8,Object(G.z)({message:Object(G.f)(r),publicKeys:c,signature:l});case 8:if(i=e.sent,1===i.verified){e.next=12;break}return e.abrupt("return",{data:r,error:1});case 12:return e.abrupt("return",{data:r});case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",{error:2});case 18:case"end":return e.stop()}},e,null,[[2,15]])}));return function(t,n){return e.apply(this,arguments)}}(),Mn=function(){var e=K()(q.a.mark(function e(t,n){var r,a,c,l;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.Data,a=n.privateKeys,e.prev=2,e.next=5,Object(G.s)(r);case 5:return c=e.sent,e.next=8,Object(G.j)({message:c,privateKeys:a,armor:!0});case 8:return l=e.sent,e.abrupt("return",{data:l});case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",{error:2});case 15:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t,n){return e.apply(this,arguments)}}(),Fn=(An={},F()(An,In,Tn),F()(An,Sn,zn),F()(An,Dn,Mn),F()(An,Pn,function(e){return e.Data}),An),Rn=function(){var e=K()(q.a.mark(function e(t,n){var r,a,c,l,i;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.Cards,e.next=3,Promise.all(r.map(function(e){return Fn[e.Type]?Fn[e.Type](e,n):{error:2}}));case 3:return a=e.sent,c=a.reduce(function(e,t){var n=t.data,r=t.error;return r&&e.errors.push(r),n&&e.vcards.push(n),e},{vcards:[],errors:[]}),l=c.vcards,i=c.errors,e.abrupt("return",{properties:$(l.map(Q)),errors:i});case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),qn=function(e){var t=e.contactID,n=e.userKeysList,c=Object(u.Xb)(),l=Object(r.useState)(!0),i=d()(l,2),o=i[0],s=i[1],m=Object(r.useState)({properties:[],errors:[]}),f=d()(m,2),p=f[0],v=f[1],b=p.properties,E=p.errors,h=n.reduce(function(e,t){var n=t.privateKey;return n.isDecrypted()?(e.publicKeys.push(n.toPublic()),e.privateKeys.push(n),e):e},{publicKeys:[],privateKeys:[]}),g=h.publicKeys,y=h.privateKeys,j=(O=K()(q.a.mark(function e(){var n,r,a,l,i;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,c(Object(B.a)(t));case 4:return n=e.sent,r=n.Contact,e.next=8,Rn(r,{publicKeys:g,privateKeys:y});case 8:a=e.sent,l=a.properties,i=a.errors,v({properties:l,errors:i}),s(!1),e.next=20;break;case 15:throw e.prev=15,e.t0=e.catch(0),s(!1),v(k()({},p,{errors:[3]})),e.t0;case 20:case"end":return e.stop()}},e,null,[[0,15]])})),function(){return O.apply(this,arguments)});var O;return Object(r.useEffect)(function(){Array.isArray(n)&&j()},[t,n]),o?a.a.createElement(u.Y,null):a.a.createElement(Ln,{properties:b,contactID:t,errors:E})},Vn=n("2iEm");function Kn(){var e=m()(["Settings"]);return Kn=function(){return e},e}function Bn(){var e=m()(["Contacts settings"]);return Bn=function(){return e},e}function Un(){var e=m()(["Export"]);return Un=function(){return e},e}function Gn(){var e=m()(["Export contacts"]);return Gn=function(){return e},e}function Hn(){var e=m()(["Import"]);return Hn=function(){return e},e}function _n(){var e=m()(["Import contacts"]);return _n=function(){return e},e}function Jn(){var e=m()(["Contacts"]);return Jn=function(){return e},e}var Yn=function(){return a.a.createElement("div",{className:"p2"},a.a.createElement("div",{className:"aligncenter"},a.a.createElement("h1",null,Object(v.c)("Title").t(Jn())),a.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean at tristique mauris, non eleifend orci. Etiam pharetra consequat tristique. Sed tristique ipsum quis suscipit ullamcorper.")),a.a.createElement("div",{className:"flex-autogrid"},a.a.createElement("div",{className:"flex-autogrid-item"},a.a.createElement("div",{className:"p1 aligncenter bordered-container"},a.a.createElement("div",{className:"bold"},Object(v.c)("Title").t(_n())),a.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean at tristique mauris, non eleifend orci. Etiam pharetra consequat tristique. Sed tristique ipsum quis suscipit ullamcorper."),a.a.createElement(u.nb,{onClick:function(){}},Object(v.c)("Action").t(Hn())))),a.a.createElement("div",{className:"flex-autogrid-item"},a.a.createElement("div",{className:"p1 aligncenter bordered-container"},a.a.createElement("div",{className:"bold"},Object(v.c)("Title").t(Gn())),a.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean at tristique mauris, non eleifend orci. Etiam pharetra consequat tristique. Sed tristique ipsum quis suscipit ullamcorper."),a.a.createElement(u.nb,{onClick:function(){}},Object(v.c)("Action").t(Un())))),a.a.createElement("div",{className:"flex-autogrid-item"},a.a.createElement("div",{className:"p1 aligncenter bordered-container"},a.a.createElement("div",{className:"bold"},Object(v.c)("Title").t(Bn())),a.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean at tristique mauris, non eleifend orci. Etiam pharetra consequat tristique. Sed tristique ipsum quis suscipit ullamcorper."),a.a.createElement(Vn.a,{className:"pm-button pm-button--primary",to:"/settings/account"},Object(v.c)("Action").t(Kn()))))))},Wn=function(){var e=Object(u.fc)(),t=d()(e,2),n=t[0],o=t[1],s=Object(u.hc)(),m=d()(s,2),f=m[0],p=m[1],v=Object(r.useState)(Object.create(null)),b=d()(v,2),E=b[0],h=b[1],g=Object(u.Bc)(),y=d()(g,1)[0],j=Object(u.Cc)(y),O=d()(j,2),x=O[0],N=O[1];if(o||p||N)return a.a.createElement(u.Y,null);var C=function(e,t){var n=e.reduce(function(e,n){return e[n]=t,e},Object.create(null));h(k()({},E,n))},w=f.map(function(e){var t=e.ID,r=n.filter(function(e){return e.ContactID===t}).map(function(e){return e.Email});return k()({},e,{emails:r,isChecked:!!E[t]})});return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,null,a.a.createElement(i.a,null,a.a.createElement(l.a,{path:"/contacts/:id",component:function(e){var t=e.match;return a.a.createElement(a.a.Fragment,null,a.a.createElement(z,{contactID:t.params.id,contacts:w,onCheck:C}),a.a.createElement(qn,{contactID:t.params.id,userKeysList:x}))}}),a.a.createElement(l.a,{component:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(z,{contacts:w,onCheck:C}),a.a.createElement(Yn,null))}}))))},Xn=function(){return a.a.createElement("h1",null,"Not found")};t.default=Object(o.hot)(function(){return a.a.createElement(c.a,null,a.a.createElement(C,null,a.a.createElement(l.a,{render:function(e){var t=e.location;return a.a.createElement(u.B,{key:t.key},a.a.createElement(i.a,null,a.a.createElement(l.a,{path:"/contacts",component:Wn}),a.a.createElement(l.a,{component:Xn})))}})))})}}]);
//# sourceMappingURL=5.c7473951.js.map